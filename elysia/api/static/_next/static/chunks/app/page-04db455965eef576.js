(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{3619:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s5});var s=a(95155),n=a(12115),i=a(36992),r=a(18953),o=a(74473),l=a(97307),c=a(12505),d=a(38323),u=a(4664),h=a(61108),m=a(4474),f=a(43447),p=a(74834),g=a(28176);let x=()=>{let{triggerAllCollections:e,toggleCollectionEnabled:t,conversations:a,currentConversation:i}=(0,n.useContext)(p.r),{collections:r}=(0,n.useContext)(g.C),[o,l]=(0,n.useState)({}),[c,d]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{let e=a.find(e=>e.id===i)?.enabled_collections||{},t=new Set(r.filter(e=>e.processed).map(e=>e.name));l(Object.fromEntries(Object.entries(e).filter(([e])=>t.has(e))))},[a,i,r]),(0,n.useEffect)(()=>{d(!Object.values(o).every(e=>!0===e))},[o]),i)?(0,s.jsxs)(f.rI,{children:[(0,s.jsx)(f.ty,{asChild:!0,children:(0,s.jsx)(m.$,{variant:"ghost",size:"icon",children:(0,s.jsx)(u.w_5,{className:`${c?"text-alt_color_b":"text-primary"}`})})}),(0,s.jsxs)(f.SQ,{className:"w-56",children:[(0,s.jsx)(f.lp,{className:"text-secondary",children:"Select Data Sources"}),(0,s.jsx)(f.mB,{}),(0,s.jsxs)(h.I,{className:"flex gap-2",children:[(0,s.jsx)(h._2,{className:"flex flex-grow",children:(0,s.jsx)(m.$,{onClick:()=>e(i,!0),variant:"ghost",size:"sm",className:"w-full flex-grow",children:"Select All"})}),(0,s.jsx)(h._2,{className:"flex flex-grow",children:(0,s.jsx)(m.$,{onClick:()=>e(i,!1),variant:"ghost",size:"sm",className:"w-full flex-grow",children:"Deselect All"})})]}),Object.entries(o).map(([e,a])=>(0,s.jsx)(f.hO,{checked:a,onCheckedChange:()=>t(e,i),className:"flex items-center justify-start gap-4",onSelect:e=>{e.preventDefault()},children:(0,s.jsx)("p",{className:`${a?"text-primary":"text-secondary"} text-xs`,children:e})},e))]})]}):null};var y=a(67564);let b=({handleSendQuery:e,query_length:t,currentStatus:a,addDisplacement:r,addDistortion:o,selectSettings:l,defaultRagEnabled:u=!1,conversationId:h})=>{let{prefillPrompt:f,setPrefillPrompt:p,autoSendPrefill:g}=(0,n.useContext)(i.z),[b,v]=(0,n.useState)(""),[_,w]=(0,n.useState)(""),[j,k]=(0,n.useState)(!1),[N,T]=(0,n.useState)(!1),[I,C]=(0,n.useState)(!u),E=(0,n.useRef)(void 0),S=(0,n.useRef)(!1);(0,n.useEffect)(()=>{E.current!==h?(E.current=h,S.current=!1,C(!u)):S.current||C(!u)},[h,u]);let q=t=>{""!==t.trim()&&""===a&&(e(t,_,j,I),v(""),S.current=!1)};return(0,n.useEffect)(()=>{f&&(g?q(f):v(f),p(""))},[f,p,g]),(0,n.useEffect)(()=>{r(.035),o(.02)},[b]),(0,s.jsxs)("div",{className:'fixed bottom-8 gap-1 flex items-center justify-center flex-col transition-all duration-300 "md:w-[60vw] lg:w-[40vw] w-full p-2 md:p-0 lg:p-0" ',children:[(0,s.jsx)("div",{className:"w-full flex justify-between items-center gap-2 mb-2",children:""!=a?(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)(c.Qp1,{className:"text-lg pulsing"}),(0,s.jsx)("p",{className:"text-sm shine",children:a})]}):(0,s.jsx)("div",{})}),N&&(0,s.jsxs)("div",{className:"w-full flex gap-2 bg-background_alt rounded-xl p-2 fade-in justify-between",children:[(0,s.jsx)("input",{className:"flex-grow p-2 bg-transparent outline-none text-xs resize-none",value:_,placeholder:"Enter a route: e.g. search/query/text_response",onChange:e=>w(e.target.value)}),(0,s.jsxs)("div",{className:"flex gap-2",children:[j?(0,s.jsx)("button",{className:"btn text-accent",onClick:()=>k(!1),children:(0,s.jsx)("p",{className:"text-xs",children:"Disable Mimicking"})}):(0,s.jsx)("button",{className:"btn text-secondary",onClick:()=>k(!0),children:(0,s.jsx)("p",{className:"text-xs",children:"Enable Mimicking"})}),(0,s.jsx)("button",{className:"btn-round text-secondary rounded-full",onClick:()=>w(""),children:(0,s.jsx)(c.qbC,{size:12})}),(0,s.jsx)("button",{className:"btn-round text-secondary rounded-full",onClick:()=>T(!1),children:(0,s.jsx)(d.$8F,{size:12})})]})]}),(0,s.jsx)("div",{className:"w-full flex gap-2 rounded-xl text-primary placeholder:text-secondary",children:(0,s.jsxs)("div",{className:"flex w-full bg-background_alt border border-foreground_alt p-2 rounded-xl items-center flex-col",children:[(0,s.jsx)("textarea",{placeholder:0!=t?"Ask a follow up question...":"What will you ask today?",className:`w-full p-2 bg-transparent placeholder:text-secondary outline-none text-sm leading-tight min-h-[5vh] max-h-[10vh] rounded-xl flex items-center justify-center"
            }`,value:b,onChange:e=>v(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),q(b))},style:{paddingTop:0===t?"8px":"6px",display:"flex",alignItems:"center",resize:"none"}}),(0,s.jsxs)("div",{className:"flex justify-end gap-1 w-full",children:[(0,s.jsx)(m.$,{variant:"ghost",size:"sm",className:`${!I?"text-accent font-bold":"text-secondary opacity-50"}`,onClick:()=>{S.current=!0,C(!I)},title:I?"RAG Disabled (Direct Answer)":"RAG Enabled",children:"RAG"}),!1,t>0&&(0,s.jsx)(m.$,{variant:"ghost",size:"icon",onClick:()=>l(),children:(0,s.jsx)(y.yRe,{size:16})}),!I&&(0,s.jsx)(x,{}),(0,s.jsx)(m.$,{variant:"ghost",size:"icon",onClick:()=>q(b),children:(0,s.jsx)(d.t6g,{size:16})})]})]})})]})},v=({copyText:e})=>{let[t,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{t&&setTimeout(()=>a(!1),2e3)},[t]),(0,s.jsx)(m.$,{onClick:t=>{t.stopPropagation(),navigator.clipboard.writeText(e),a(!0)},variant:"ghost",className:`${t?"text-accent":"text-secondary"} h-9 w-9`,title:"Copy to clipboard",children:t?(0,s.jsx)(d.G8W,{size:14}):(0,s.jsx)(o.kn0,{size:14})})},_=({payload:e,onClick:t,collapsed:a,NER:i})=>{let[r,o]=(0,n.useState)([]),[l,c]=(0,n.useState)([]),d=e&&e[0];return(0,n.useEffect)(()=>{null!=i&&(o(i.noun_spans),c(i.entity_spans))},[i,e]),(0,s.jsx)("div",{className:"flex flex-col rounded-lg transition-all duration-300 justify-start items-start mt-8 cursor-pointer w-full",onClick:t,children:(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)("div",{className:"flex font-heading flex-grow justify-start items-start chat-animation gap-4",children:a?(0,s.jsx)("p",{className:"text-secondary hover:text-primary text-base transition-all duration-300 text-left",children:d}):(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("p",{className:"text-primary text-lg text-left flex-grow",children:(e=>{if(!e||0===r.length&&0===l.length)return e;let t=[...r.map(([e,t])=>({start:e,end:t,type:"noun"})),...l.map(([e,t])=>({start:e,end:t,type:"entity"}))],a=[];t.forEach(e=>{a.push({index:e.start,type:e.type,isStart:!0}),a.push({index:e.end,type:e.type,isStart:!1})}),a.sort((e,t)=>e.index-t.index||(e.isStart?-1:1));let n=[],i=0,o=new Set;if(a.forEach(t=>{if(t.index>i){let a=e.slice(i,t.index),r="";o.has("noun")&&(r="font-bold text-highlight "),o.has("entity")&&(r="text-accent font-bold  "),n.push((0,s.jsx)("span",{className:r,children:a},`segment-${i}-${t.index}`))}t.isStart?o.add(t.type):o.delete(t.type),i=t.index}),i<e.length){let t="";o.has("noun")&&(t="font-bold text-highlight "),o.has("entity")&&(t="text-accent font-bold "),n.push((0,s.jsx)("span",{className:t,children:e.slice(i)},`segment-${i}-end`))}return n})(d)}),(0,s.jsx)(v,{copyText:d})]})})})})};var w=a(48426),j=a(32957),k=a(18242);let N=(0,n.createContext)({getCitationPreview:()=>null,buildRefMap:()=>{},currentView:"chat",currentPayload:null,currentResultPayload:null,currentResultType:"",handleViewChange:()=>{},handleResultPayloadChange:()=>{},currentCollectionName:""}),T=({children:e})=>{let[t,a]=(0,n.useState)({}),[i,r]=(0,n.useState)("chat"),[o,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),[u,h]=(0,n.useState)(""),[m,f]=(0,n.useState)(""),p=(e,t,a)=>{switch(e){case"ticket":return{type:"ticket",title:t.title,text:t.content,index:a,object:t};case"document":return{type:"document",title:t.title,text:t.content,index:a,object:t};case"message":return{type:"message",title:t.author,text:t.content,index:a,object:t};case"conversation":return{type:"conversation",title:t.conversation_id,text:"Thread with "+t.messages.length+" messages",index:a,object:t};case"ecommerce":return{type:"ecommerce",title:t.name,text:t.description,index:a,object:t};case"aggregation":return{type:"aggregation",title:"Aggregation Results",text:JSON.stringify(t),index:a,object:null};case"table":return{type:"table",title:"Table Results",text:JSON.stringify(t),index:a,object:null}}return null};return(0,s.jsx)(N.Provider,{value:{getCitationPreview:e=>t[e]?t[e]:null,buildRefMap:e=>{let t={};for(let a of e)if("result"===a.type){let e=a.payload;for(let[a,s]of e.objects.entries())if(s&&"object"==typeof s&&"_REF_ID"in s){let n=p(e.type,s,a);n&&(t[s._REF_ID]=n)}}a(t)},currentView:i,currentPayload:o,currentResultPayload:c,currentResultType:u,handleViewChange:(e,t)=>{r(e),l(t)},handleResultPayloadChange:(e,t,a)=>{h(e),d(t),r("result"),f(a)},currentCollectionName:m},children:e})};var I=a(64089),C=a(91337);let E=I.bL,S=I.l9,q=n.forwardRef(({className:e,align:t="center",sideOffset:a=4,...n},i)=>(0,s.jsx)(I.UC,{ref:i,align:t,sideOffset:a,className:(0,C.cn)("z-50 w-80 rounded-md border border-foreground_alt bg-background_alt px-2 py-1 text-primary outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]",e),...n}));q.displayName=I.UC.displayName;var A=a(72975),P=a(91459);let W={ecommerce:{icon:A.eYq,bgColor:"bg-highlight/10",textColor:"text-highlight",tooltip:"Product"},product:{icon:A.eYq,bgColor:"bg-highlight/10",textColor:"text-highlight",tooltip:"Product"},conversation:{icon:l.Rgz,bgColor:"bg-accent/10",textColor:"text-accent",tooltip:"Conversation"},message:{icon:l.aPy,bgColor:"bg-accent/10",textColor:"text-accent",tooltip:"Message"},ticket:{icon:l.hLX,bgColor:"bg-alt_color_a/10",textColor:"text-alt_color_a",tooltip:"Ticket"},document:{icon:l.hVg,bgColor:"bg-alt_color_a/10",textColor:"text-alt_color_a",tooltip:"Document"},table:{icon:c.ist,bgColor:"bg-primary/10",textColor:"text-primary",tooltip:"Table"},aggregation:{icon:c.aQJ,bgColor:"bg-alt_color_b/10",textColor:"text-alt_color_b",tooltip:"Aggregation"},chart:{icon:c.v$b,bgColor:"bg-alt_color_b/10",textColor:"text-alt_color_b",tooltip:"Chart"}},D={icon:l.AHA,bgColor:"bg-background_alt/10",textColor:"text-secondary",tooltip:"Unknown Type"},R=e=>{let{icon:t,bgColor:a,textColor:n,tooltip:i}=W[e]||D;return(0,s.jsxs)(P.m_,{children:[(0,s.jsx)(P.k$,{asChild:!0,children:(0,s.jsx)("div",{className:`flex flex-row gap-2 justify-center items-center cursor-pointer ${a} rounded-md p-1 h-8 w-8`,children:(0,s.jsx)(t,{size:18,className:n})})}),(0,s.jsx)(P.ZI,{className:`${a} ${n}`,children:(0,s.jsx)("p",{className:"font-bold text-xs",children:i})})]})},K=(0,n.createContext)({currentCollectionName:"",handleCollectionNameChange:()=>{},payload:null}),L=({children:e,_payload:t})=>{let[a,i]=(0,n.useState)(""),[r,o]=(0,n.useState)(t);return(0,n.useEffect)(()=>{t&&t.metadata?.collection_name&&i(t.metadata?.collection_name||""),o(t)},[t]),(0,s.jsx)(K.Provider,{value:{currentCollectionName:a,handleCollectionNameChange:e=>{i(e||"")},payload:r},children:e})},$=({citationPreview:e})=>{let{handleResultPayloadChange:t}=(0,n.useContext)(N),{currentCollectionName:a}=(0,n.useContext)(K);return(0,s.jsxs)(E,{openDelay:0,closeDelay:100,children:[(0,s.jsx)(S,{asChild:!0,children:(0,s.jsx)(m.$,{size:"icon",className:"inline-flex items-center justify-center bg-foreground hover:bg-accent hover:text-background transition-colors duration-200 rounded-full h-5 w-5 text-xs font-medium text-primary cursor-pointer",children:(0,s.jsx)("span",{className:"text-xs font-bold",children:e.index+1})})}),(0,s.jsx)(q,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-start items-center gap-2",children:[R(e.type),(0,s.jsx)("p",{onClick:()=>{e.object&&t(e.type,e.object,a)},className:`text-sm font-bold cursor-pointer w-64 truncate ${e.object?"underline":""}`,children:e.title})]}),(0,s.jsx)("p",{className:"text-xs line-clamp-2 w-72",children:e.text})]})})]})};var Z=a(48250);let H=({text:e,variant:t="primary",ref_ids:a=[]})=>{let{getCitationPreview:i}=(0,n.useContext)(N),r=a.filter(e=>null!==i(e)),o=new Map;r.forEach((e,t)=>{o.set(t+1,e)});let l=`${"primary"===t?"prose-p:text-primary":"secondary"===t?"prose-p:text-secondary":"prose-p:text-highlight"} prose-p:leading-relaxed prose-p:my-2`,c=`${"primary"===t?"prose-code:text-accent":"prose-code:text-secondary"} prose-code:font-mono prose-code:text-sm prose-code:font-normal`,d=((e,t)=>{if(!t||0===t.length)return e;let a=e;return t.forEach((e,s)=>{let n=`[${s+1}]`;0===s&&(a+=" "),a+=n,s<t.length-1&&(a+=" ")}),a})(e?.trim()||"",r);return e?(0,s.jsx)("div",{className:`markdown-container flex-grow justify-start items-start text-wrap prose max-w-none prose:w-full break-words ${l} prose-img:hidden prose-strong:text-primary prose-strong:font-bold prose-a:text-primary prose-headings:text-primary prose-headings:text-xl prose-headings:font-heading prose-headings:font-bold prose-ol:text-primary prose-ol:text-base prose-ol:font-light prose-ul:text-primary prose-ul:text-base prose-ul:font-normal ${c} prose-pre:bg-background_alt prose-pre:p-4 prose-pre:text-sm prose-pre:font-light prose-pre:w-full prose-pre:my-2 prose-table:text-primary prose-th:text-primary prose-td:text-primary prose-table:border-0`,children:(0,s.jsx)(w.oz,{remarkPlugins:[j.A],rehypePlugins:[k.A,()=>e=>{(0,Z.YR)(e,"text",(e,t,a)=>{if(!e.value||!a||"number"!=typeof t)return;let s=[...e.value.matchAll(/\[(\d+)\]/g)];if(0===s.length)return;let n=[],r=0;s.forEach(t=>{let a=t[0],s=parseInt(t[1]),l=t.index;l>r&&n.push({type:"text",value:e.value.slice(r,l)});let c=o.get(s);c&&i(c)?n.push({type:"element",tagName:"span",properties:{"data-citation":"true","data-ref-id":c,"data-citation-number":s.toString()},children:[]}):n.push({type:"text",value:a}),r=l+a.length}),r<e.value.length&&n.push({type:"text",value:e.value.slice(r)}),a.children.splice(t,1,...n)})}],components:{span:({node:e,...t})=>{if("true"===t["data-citation"]){let e=i(t["data-ref-id"]);return e?(0,s.jsx)($,{citationPreview:e}):null}return(0,s.jsx)("span",{...t})}},children:d})}):null},O=({error:e})=>(0,s.jsx)("div",{className:"w-full flex flex-col justify-start items-start ",children:(0,s.jsx)("div",{className:"max-w-3/5",children:(0,s.jsxs)("div",{className:"flex flex-col justify-start items-start gap-2 chat-animation border border-error p-4 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)(d.ZBh,{className:"text-error text-lg"}),(0,s.jsx)("p",{className:"text-error text-sm font-bold",children:"Error"})]}),(0,s.jsx)(H,{text:e})]})})});var z=a(80642);let M={collapsed:{height:0,opacity:0,transition:{height:{duration:.3,ease:"easeInOut"},opacity:{duration:.2,delay:0}}},expanded:{height:"auto",opacity:1,transition:{height:{duration:.3,ease:"easeInOut"},opacity:{duration:.3,delay:.1}}}},B={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0,transition:{type:"spring",damping:20,stiffness:300}},exit:{opacity:0,y:-10,transition:{duration:.2}}},F=({payload:e})=>{let[t,a]=(0,n.useState)(!0);return(0,s.jsxs)(r.P.div,{className:"w-full flex flex-col items-start justify-start gap-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{type:"spring",damping:20,stiffness:300},children:[e.length>1&&(0,s.jsx)(r.P.div,{variants:M,initial:"collapsed",animate:t?"collapsed":"expanded",className:"overflow-hidden w-full",children:(0,s.jsx)(r.P.div,{className:"flex flex-col gap-2",children:(0,s.jsx)(z.N,{children:!t&&e.slice(0,-1).map((e,t)=>(0,s.jsxs)(r.P.div,{className:"flex gap-2 items-center justify-center",variants:B,initial:"hidden",animate:"visible",exit:"exit",transition:{delay:.05*t},children:[(0,s.jsx)(r.P.p,{className:"text-xs w-5 h-5 bg-background_alt text-secondary p-2 rounded-full items-center justify-center flex flex-shrink-0",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",damping:15,stiffness:300,delay:.05*t},children:t+1}),(0,s.jsx)(r.P.div,{className:"flex-1 min-w-0",children:(0,s.jsx)(H,{text:e.text,variant:"secondary"})})]},`${e.text}-${t}`))})})}),e.length>0&&(0,s.jsxs)(r.P.div,{className:"flex w-full gap-2 items-center cursor-pointer",onClick:()=>{a(e=>!e)},whileHover:{x:2},whileTap:{scale:.98},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{type:"spring",damping:20,stiffness:300,delay:.1},children:[e.length>1&&(0,s.jsx)(r.P.p,{className:"text-xs bg-background_alt text-secondary p-2 w-5 h-5 rounded-full items-center justify-center flex flex-shrink-0",whileHover:{scale:1.1},transition:{type:"spring",damping:15,stiffness:400},children:e.length}),(0,s.jsx)(r.P.div,{className:"flex-1 min-w-0",children:(0,s.jsx)(H,{text:e[e.length-1].text})})]},e[e.length-1].text)]})},V=({warning:e})=>(0,s.jsx)("div",{className:"w-full flex flex-col justify-start items-start ",children:(0,s.jsxs)("div",{className:"flex flex-col justify-start items-start gap-2 chat-animation border border-warning p-4 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)(d.ZBh,{className:"text-warning text-lg"}),(0,s.jsx)("p",{className:"text-warning text-sm font-bold",children:"Warning"})]}),(0,s.jsx)(H,{text:e})]})}),U=({payload:e})=>{let t=e.map(e=>`${e.title}
${e.text}`).join("\n\n");return(0,s.jsxs)("div",{className:"w-full mt-5 flex chat-animation flex-col justify-start items-start bg-gradient-to-br from-foreground_alt to-background_alt p-4 rounded-lg shadow-lg relative",children:[e.map((e,t)=>(0,s.jsxs)("div",{className:"text-sm text-white flex flex-col gap-1",children:[(0,s.jsx)("p",{className:"font-bold font-heading text-lg text-white",children:e.title}),(0,s.jsx)(H,{text:e.text})]},t)),(0,s.jsx)("div",{className:"absolute bottom-2 right-2",children:(0,s.jsx)(v,{copyText:t})})]})},G=({payload:e})=>R(e[0].type);var Y=a(42021);let Q=({payload:e,merged:t,handleViewChange:a})=>{let[i,o]=(0,n.useState)(!1);return e?(0,s.jsx)(r.P.div,{className:"flex flex-row items-center",initial:{y:20,opacity:0,scale:.8},animate:{y:0,opacity:1,scale:1},transition:{type:"spring",stiffness:400,damping:25,delay:.1},children:(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,s.jsx)(r.P.div,{initial:{y:15,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:20,delay:.2},children:(0,s.jsx)(G,{payload:e})}),(0,s.jsx)(r.P.div,{onHoverStart:()=>o(!0),onHoverEnd:()=>o(!1),initial:{width:"2rem",y:15,opacity:0},animate:{width:i?"auto":"2rem",y:0,opacity:1},transition:{width:{duration:.3,ease:"easeInOut"},y:{type:"spring",stiffness:300,damping:20,delay:.3},opacity:{duration:.2,delay:.3}},className:"overflow-hidden",children:(0,s.jsxs)(m.$,{variant:"default",className:"bg-highlight/10 hover:bg-highlight/20 h-8 rounded-md flex items-center gap-2 px-2 whitespace-nowrap",onClick:()=>{a("code",e)},children:[(0,s.jsx)(Y.FSj,{size:12,className:"text-highlight flex-shrink-0"}),(0,s.jsx)(z.N,{children:i&&(0,s.jsx)(r.P.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2,delay:.1},className:"text-highlight text-xs",children:"Source Code"})})]})}),!t&&(0,s.jsx)(r.P.div,{className:"text-primary text-sm flex items-center justify-center rounded-md",initial:{y:15,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:20,delay:.4},children:e[0].metadata.collection_name})]})}):null};var J=a(99151);let X=({conversationID:e,queryID:t,messages:a,query_start:i,query_end:r,feedback:o,updateFeedback:l})=>{let[d,u]=(0,n.useState)(""),[h,f]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),[x,y]=(0,n.useState)(!1),{showFeedbackNotification:b,disableFeedbackNotification:_}=(0,n.useContext)(J.k);return(0,n.useEffect)(()=>{f(1===o),g(0===o),y(2===o)},[o]),(0,n.useEffect)(()=>{if(a.length>0){let e="";a.forEach(t=>{if("text"===t.type){let a=t.payload;if("summary"===a.type||"text_with_citations"===a.type||"text_with_title"===a.type)for(let t of(e+=a.metadata.title||"",e+="\n\n",a.objects))e+=t.text,e+="\n\n"}}),u(e)}},[a]),(0,n.useEffect)(()=>{if(b){let e=setTimeout(()=>{},4e3),t=setTimeout(()=>{_()},7e3);return()=>{clearTimeout(e),clearTimeout(t)}}},[b,_]),(0,s.jsxs)("div",{className:"w-full flex justify-end items-center gap-2",children:[(0,s.jsxs)("p",{className:"text-sm text-secondary",children:["Finished in"," ",r?r.getTime()-i.getTime()>6e4?`${Math.round((r.getTime()-i.getTime())/6e4)}m`:`${Math.round((r.getTime()-i.getTime())/1e3)}s`:"0s"]}),(0,s.jsxs)("div",{className:"flex ",children:[(0,s.jsx)(v,{copyText:d}),(0,s.jsxs)(P.Bc,{children:[(0,s.jsxs)(P.m_,{children:[(0,s.jsx)(P.k$,{asChild:!0,children:(0,s.jsx)(m.$,{size:"icon",className:`bg-background ${x?"text-alt_color_a":""}`,onClick:()=>{l(e,t,2)},children:(0,s.jsx)(c.Mbv,{size:16})})}),(0,s.jsx)(P.ZI,{children:(0,s.jsx)("p",{children:"Very Good Response"})})]}),(0,s.jsxs)(P.m_,{children:[(0,s.jsx)(P.k$,{asChild:!0,children:(0,s.jsx)(m.$,{size:"icon",className:`bg-background ${h?"text-accent":""}`,onClick:()=>{l(e,t,1)},children:(0,s.jsx)(c.gb0,{size:12})})}),(0,s.jsx)(P.ZI,{children:(0,s.jsx)("p",{children:"Good Response"})})]}),(0,s.jsxs)(P.m_,{children:[(0,s.jsx)(P.k$,{asChild:!0,children:(0,s.jsx)(m.$,{size:"icon",className:`bg-background ${p?"text-error":""}`,onClick:()=>{l(e,t,0)},children:(0,s.jsx)(c.b7w,{size:12})})}),(0,s.jsx)(P.ZI,{children:(0,s.jsx)("p",{children:"Bad Response"})})]})]})]})]})};var ee=a(30821);let et=({info:e})=>(0,s.jsx)("div",{className:"w-full flex flex-col justify-start items-start ",children:(0,s.jsx)("div",{className:"max-w-3/5",children:(0,s.jsxs)("div",{className:"flex flex-col justify-start items-start gap-2 chat-animation border border-secondary p-4 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)(ee.mYn,{className:"text-primary text-lg"}),(0,s.jsx)("p",{className:"text-primary text-sm font-bold",children:"Info"})]}),(0,s.jsx)(H,{text:e})]})})});var ea=a(23511),es=a(90704);let en=({payload:e})=>(0,s.jsx)("div",{className:"w-full flex flex-col justify-start items-start ",children:(0,s.jsx)("div",{className:"max-w-3/5",children:(0,s.jsxs)("div",{className:"flex flex-col justify-start items-start gap-2 chat-animation border border-secondary p-4 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)(d.ZBh,{className:"text-primary text-lg"}),(0,s.jsx)("p",{className:"text-primary text-sm font-bold",children:"Rate Limit reached"})]}),(0,s.jsx)(H,{text:e.text+"\n ("+e.time_left.hours+"h "+e.time_left.minutes+"m "+e.time_left.seconds+"s)"})]})})});var ei=a(57094),er=a(61991);let eo=({payload:e,handleSendQuery:t})=>{let[a,i]=(0,n.useState)(null);return 0===e.suggestions.length?null:(0,s.jsxs)("div",{className:"w-full flex flex-col items-start justify-start gap-3 fade-in",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.bTh,{className:"text-lg"}),(0,s.jsx)("p",{className:"text-lg",children:"Related Questions"})]}),(0,s.jsx)(er.w,{}),(0,s.jsx)("div",{className:"w-full flex flex-col items-start justify-start gap-3",children:e.suggestions.map(e=>(0,s.jsxs)("div",{onClick:()=>{i(e),t(e,"",!1)},className:`rounded-lg flex flex-col gap-3 w-full cursor-pointer transition-all duration-300 
            ${a===e?"text-primary":"text-secondary hover:text-primary"}`,children:[(0,s.jsxs)("div",{className:"flex w-full justify-between items-center gap-2",children:[(0,s.jsx)("p",{className:"text-sm",children:e}),(0,s.jsx)(ei.t50,{})]}),(0,s.jsx)(er.w,{})]},e))})]})},el=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,C.cn)("rounded-xl border border-secondary bg-background_alt text-primary shadow",e),...t}));el.displayName="Card";let ec=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,C.cn)("flex flex-col space-y-1.5 p-6",e),...t}));ec.displayName="CardHeader";let ed=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,C.cn)("font-semibold leading-none tracking-tight",e),...t}));ed.displayName="CardTitle";let eu=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,C.cn)("text-sm text-muted-foreground",e),...t}));eu.displayName="CardDescription";let eh=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,C.cn)("p-6 pt-0",e),...t}));eh.displayName="CardContent",n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,C.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";let em=(0,a(18460).F)("px-2 py-1 flex flex-row justify-center items-center gap-1 rounded-full text-xs",{variants:{variant:{default:"text-primary"}},defaultVariants:{variant:"default"}});function ef({className:e,variant:t,...a}){return(0,s.jsx)("div",{className:(0,C.cn)(em({variant:t}),e),...a})}let ep=({ticket:e,handleOpen:t})=>(0,s.jsx)(el,{className:"flex flex-col border-transparent w-full bg-background_alt px-3 py-2 rounded-md justify-start items-start hover:bg-foreground cursor-pointer transition-all duration-300",onClick:t,"data-ref-id":e._REF_ID,children:(0,s.jsxs)(ed,{className:"flex flex-col w-full",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,s.jsxs)("div",{className:"flex items-center w-3/4",children:[e.url&&(0,s.jsx)(m.$,{onClick:t=>{t.stopPropagation(),window.open(e.url,"_blank")},variant:"ghost",className:"text-secondary -ml-2",size:"icon",children:(0,s.jsx)(c.hL4,{size:10})}),(0,s.jsx)("p",{className:"text-sm text-primary truncate",children:e.title})]}),(0,s.jsxs)("div",{className:"flex flex-row justify-end gap-2 w-1/4 overflow-hidden",children:["open"===e.status&&(0,s.jsxs)(ef,{className:"bg-accent ",children:[(0,s.jsx)(u.PCz,{size:12}),"Open"]}),"closed"===e.status&&(0,s.jsxs)(ef,{className:"bg-error",children:[(0,s.jsx)(u.UYp,{size:12}),"Closed"]}),"open"!==e.status&&"closed"!==e.status&&(0,s.jsx)(ef,{className:"bg-foreground",children:e.status})]})]}),(0,s.jsxs)("p",{className:"w-full text-xs font-light text-secondary",children:[(0,s.jsx)("span",{className:"font-bold",children:e.author})," opened this on"," ",new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})});var eg=a(39092),ex=a.n(eg),ey=a(26518);let eb=({children:e,className:t="",itemsPerPage:a=3,layout:i="vertical"})=>{let[o,l]=(0,n.useState)(0),[d,u]=(0,n.useState)(a),h=(0,n.useRef)(null),m=n.Children.toArray(e),f=m.length,p=Math.ceil(f/d),g=o*d,x=m.slice(g,g+d),y=(0,n.useCallback)(e=>{e>=0&&e<p&&l(e)},[p]),b=()=>{o>0&&y(o-1)},v=()=>{o<p-1&&y(o+1)};if((0,n.useEffect)(()=>{if(h.current&&p>1){let e=h.current.children[o];e&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[o,p]),(0,n.useEffect)(()=>{let e=e=>{"ArrowLeft"===e.key?b():"ArrowRight"===e.key&&v()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[o,p]),0===f)return null;let _="horizontal"===i,{containerClass:w,itemContainerClass:j,gapClass:k}=(()=>{if(!_)return{containerClass:"flex flex-col",itemContainerClass:"w-full",gapClass:"gap-2"};let e="",t="",a="w-full h-full";switch(d){case 1:t="flex justify-center",a="w-full max-w-sm h-full";break;case 2:e="grid-cols-1 md:grid-cols-2",t=`grid ${e}`;break;case 3:case 6:case 9:e="grid-cols-1 md:grid-cols-3",t=`grid ${e}`;break;default:e="grid-cols-1 lg:grid-cols-3",t=`grid ${e}`}return{containerClass:t,itemContainerClass:a,gapClass:"gap-4"}})(),N={hidden:{opacity:0,scale:.95},visible:e=>({opacity:1,scale:1,transition:{delay:.05*e,duration:.3,ease:[.4,0,.2,1]}})};return(0,s.jsxs)("div",{className:"jsx-78cba1541d77c4f4 w-full flex flex-col justify-start items-start gap-4",children:[(0,s.jsx)(ex(),{id:"78cba1541d77c4f4",children:".scrollbar-none.jsx-78cba1541d77c4f4::-webkit-scrollbar{display:none}"}),(0,s.jsx)("div",{className:"jsx-78cba1541d77c4f4 w-full",children:(0,s.jsx)("div",{className:`jsx-78cba1541d77c4f4 flex flex-col w-full justify-start items-start gap-2 rounded-lg ${t}`,children:(0,s.jsx)(z.N,{mode:"wait",children:(0,s.jsx)(r.P.div,{variants:{hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,y:-10,transition:{duration:.2,ease:[.4,0,1,1]}}},initial:"hidden",animate:"visible",exit:"exit",className:`${w} w-full h-full ${k}`,children:x.map((e,t)=>(0,s.jsx)(r.P.div,{variants:N,initial:"hidden",animate:"visible",custom:t,className:j,children:e},`${o}-${t}`))},o)})})}),(0,s.jsxs)("div",{className:"jsx-78cba1541d77c4f4 flex justify-between items-center w-full",children:[(0,s.jsxs)("div",{className:"jsx-78cba1541d77c4f4 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"jsx-78cba1541d77c4f4 text-sm text-secondary",children:"Items per page:"}),(0,s.jsxs)(ey.l6,{value:d.toString(),onValueChange:e=>{u(parseInt(e,10)),l(0)},children:[(0,s.jsx)(ey.bq,{className:"w-24 h-8",children:(0,s.jsx)(ey.yv,{})}),(0,s.jsxs)(ey.gC,{children:[(0,s.jsx)(ey.eb,{value:"1",children:"1"}),(0,s.jsx)(ey.eb,{value:"2",children:"2"}),(0,s.jsx)(ey.eb,{value:"3",children:"3"}),(0,s.jsx)(ey.eb,{value:"6",children:"6"}),(0,s.jsx)(ey.eb,{value:"9",children:"9"})]})]})]}),(0,s.jsx)("div",{className:"jsx-78cba1541d77c4f4 text-sm text-secondary",children:f>0&&(0,s.jsxs)("span",{className:"jsx-78cba1541d77c4f4",children:[g+1,"-",Math.min(g+d,f)," of"," ",f]})})]}),p>1&&(0,s.jsxs)(r.P.div,{className:"flex justify-center items-center w-full gap-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},children:[(0,s.jsx)(r.P.button,{onClick:b,disabled:0===o,whileHover:0===o?{}:{scale:1.1},whileTap:0===o?{}:{scale:.95},className:`p-1.5 rounded-full transition-all duration-200 ${0===o?"opacity-30 cursor-not-allowed text-secondary":"hover:bg-foreground_alt text-primary"}`,children:(0,s.jsx)(c._Jj,{className:"w-3 h-3"})}),(0,s.jsx)("div",{ref:h,style:{scrollbarWidth:"none",msOverflowStyle:"none"},className:"jsx-78cba1541d77c4f4 flex items-center gap-2 max-w-72 overflow-x-auto px-2 scrollbar-none",children:Array.from({length:p},(e,t)=>(0,s.jsx)(r.P.button,{onClick:()=>y(t),whileHover:{scale:1.25},whileTap:{scale:.9},className:`h-2 rounded-full transition-all duration-300 flex-shrink-0 ${t===o?"w-8 bg-primary shadow-md":"w-2 bg-secondary hover:bg-primary/70"}`,"aria-label":`Go to page ${t+1}`},t))}),(0,s.jsx)(r.P.button,{onClick:v,disabled:o===p-1,whileHover:o===p-1?{}:{scale:1.1},whileTap:o===p-1?{}:{scale:.95},className:`p-1.5 rounded-full transition-all duration-200 ${o===p-1?"opacity-30 cursor-not-allowed text-secondary":"hover:bg-foreground_alt text-primary"}`,children:(0,s.jsx)(c.X6T,{className:"w-3 h-3"})})]})]})},ev=({tickets:e,handleResultPayloadChange:t})=>0===e.length?null:(0,s.jsx)(eb,{children:e.map((e,a)=>(0,s.jsx)(ep,{ticket:e,handleOpen:()=>t("ticket",e)},`${a}-${e.id}`))}),e_=({product:e,handleOpen:t,index:a=0})=>{let i,o,[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1);return(0,s.jsx)(r.P.div,{variants:{hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.4,delay:.1*a,ease:[.4,0,.2,1]}}},initial:"hidden",animate:"visible",whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},className:"group relative w-full h-full",children:(0,s.jsxs)("div",{className:"flex flex-row sm:flex-col bg-background_alt border border-secondary/10 rounded-xl cursor-pointer shadow-sm hover:shadow-xl transition-shadow duration-300 h-full overflow-hidden",onClick:()=>t(e),children:[(0,s.jsxs)("div",{className:"relative w-16 h-16 sm:w-full sm:h-auto sm:aspect-square overflow-hidden bg-secondary/5 rounded-lg flex-shrink-0 m-2 sm:m-0",children:[!l&&!d&&(0,s.jsx)(ea.E,{className:"absolute inset-0 w-full h-full"}),!d&&(0,s.jsx)(r.P.img,{src:e.image,alt:e.name,className:`w-full h-full object-cover transition-all duration-500 group-hover:scale-105 ${l?"opacity-100":"opacity-0"}`,onLoad:()=>c(!0),onError:()=>{u(!0),c(!0)},loading:"lazy"}),d&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-secondary/10",children:(0,s.jsxs)("div",{className:"text-secondary/50 text-center p-4",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCF7"}),(0,s.jsx)("div",{className:"text-xs",children:"Image unavailable"})]})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,s.jsxs)("div",{className:"flex flex-col flex-1 py-2 pr-2 sm:p-3 lg:p-4 gap-1 sm:gap-2 lg:gap-3 min-w-0",children:[(0,s.jsx)(r.P.h3,{className:"text-xs sm:text-sm font-semibold text-primary line-clamp-1 sm:line-clamp-2 leading-tight",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:e.name}),e.brand&&(0,s.jsx)(r.P.p,{className:"hidden sm:block text-xs text-secondary/70 uppercase tracking-wide",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:e.brand}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-auto",children:[(0,s.jsx)(r.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4},children:e.price&&(0,s.jsx)("span",{className:"text-sm sm:text-base lg:text-lg font-bold text-primary",children:(i=e.price,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(i))})}),e.rating&&(0,s.jsxs)(r.P.div,{className:"flex items-center gap-1",initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{delay:.4},children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("span",{className:"text-xs sm:hidden text-alt_color_b",children:"★"}),(0,s.jsx)("span",{className:"hidden sm:flex",children:(o=e.rating,Array.from({length:5},(e,t)=>(0,s.jsx)(r.P.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5+.1*t},className:`text-sm transition-colors duration-200 ${t<Math.round(o)?"text-alt_color_b":"text-secondary/30"}`,children:"★"},t)))})]}),(0,s.jsx)("span",{className:"text-xs text-secondary/70 ml-1",children:e.rating.toFixed(1)})]})]}),e.tags&&Array.isArray(e.tags)&&e.tags.length>0&&(0,s.jsx)(r.P.div,{className:"hidden lg:flex flex-wrap gap-1 mt-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:e.tags.slice(0,2).map((e,t)=>(0,s.jsx)("span",{className:"text-xs px-2 py-1 bg-secondary/10 text-secondary rounded-full",children:e},t))})]})]})})},ew=({products:e,handleResultPayloadChange:t})=>0===e.length?null:(0,s.jsx)(r.P.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,duration:.3}}},initial:"hidden",animate:"visible",className:"w-full",children:(0,s.jsx)(eb,{layout:"horizontal",itemsPerPage:3,children:e.map((e,a)=>(0,s.jsx)(e_,{product:e,handleOpen:()=>t("product",e),index:a},`${e.id}-${e.name}-${a}`))})}),ej=({thread:e,handleOpen:t})=>{let a=[...new Set(e.messages.map(e=>e.author))],n=a.length>3?`${a[0]} & others`:a.join(", "),i=e.messages.length;return(0,s.jsx)("div",{className:"flex flex-col gap-2 rounded-lg cursor-pointer  transition-all duration-300 bg-background_alt p-3 hover:bg-foreground",onClick:()=>t(e),children:(0,s.jsxs)("div",{className:"flex flex-row gap-2 ",children:[(0,s.jsxs)(ef,{className:"bg-transparent min-w-1/6 hover:bg-transparent text-primary gap-1 justify-center items-center flex flex-row",children:[(0,s.jsx)("span",{className:"text-md",children:i}),(0,s.jsx)(d.NDU,{className:"text-sm"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-1 justify-between",children:[(0,s.jsx)("p",{className:"text-primary text-sm font-bold",children:n}),(0,s.jsx)("p",{className:"text-secondary text-xs",children:new Date(e.messages[0].timestamp).toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})})]}),(0,s.jsx)("p",{className:"text-primary text-xs overflow-hidden text-ellipsis line-clamp-1",children:e.ELYSIA_SUMMARY||e.messages[0].content})]})]})},`${e.conversation_id}`)},ek=({payload:e,handleResultPayloadChange:t})=>(0,s.jsx)(eb,{children:e.map((e,a)=>(0,s.jsx)(ej,{thread:e,handleOpen:()=>t("thread",e)},`${a}-thread`))}),eN=({payload:e})=>(0,s.jsx)(eb,{children:e.map((e,t)=>(0,s.jsx)("div",{className:"flex flex-col gap-2 rounded-lg transition-all duration-300 bg-background_alt p-3",children:(0,s.jsxs)("div",{className:"flex flex-col gap-1 p-1 w-full",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-1 justify-between",children:[(0,s.jsx)("p",{className:"text-primary text-sm font-bold",children:e.author}),(0,s.jsx)("p",{className:"text-secondary text-xs",children:new Date(e.timestamp).toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})})]}),(0,s.jsx)("p",{className:"text-primary text-xs",children:e.content})]})},`${t}-${e.message_id}`))});var eT=a(13267),eI=a(19820);let eC=eI.bL,eE=eI.R6,eS=eI.Ke;var eq=a(46998),eA=a(28528),eP=a(4289),eW=a(4268);let eD=({selectedCell:e,onClose:t})=>{let[a,i]=(0,n.useState)(new Set),[r,o]=(0,n.useState)({});if(!e)return null;let l=e=>{let t=new Set(a);t.has(e)?t.delete(e):t.add(e),i(t)},c=async(e,t)=>{try{await navigator.clipboard.writeText(e),o({...r,[t]:!0}),setTimeout(()=>{o({...r,[t]:!1})},2e3)}catch(e){console.error("Failed to copy: ",e)}};return(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full fade-in",children:[(0,s.jsxs)("div",{className:"sticky top-0 z-20 bg-background flex items-center justify-between py-2 border-b border-border",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h3",{className:"font-bold",children:"Data Details"}),(0,s.jsxs)(ef,{variant:"default",className:"bg-background_alt border border-border",children:[Object.keys(e).length," fields"]})]}),t&&(0,s.jsxs)(m.$,{className:"h-8 bg-error/10 hover:bg-error/20 text-error border-error border rounded-md flex items-center gap-2 px-3 whitespace-nowrap",onClick:t,children:[(0,s.jsx)(eW.A,{className:"w-4 h-4 flex-shrink-0"}),(0,s.jsx)("span",{className:"text-error text-xs",children:"Close"})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-3",children:Object.entries(e).map(([e,t])=>{let n,i,o,d=(e=>{if(null===e)return"null";if(void 0===e)return"undefined";if("boolean"==typeof e)return"boolean";if("number"==typeof e)return"number";if("string"==typeof e){let t=e.trim();if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]"))try{let e=JSON.parse(t);return Array.isArray(e)?"array":"json"}catch{}return"text"}return Array.isArray(e)?"array":"object"==typeof e?"json":"text"})(t);return(0,s.jsxs)(el,{className:"border border-border bg-background_alt",children:[(0,s.jsx)(ec,{className:"pb-2 pt-3",children:(0,s.jsxs)(ed,{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)("span",{className:"font-medium text-primary truncate",title:e,children:e}),(0,s.jsx)(ef,{variant:"default",className:(0,C.cn)("text-xs border",(e=>{switch(e){case"number":return"text-highlight bg-highlight/10 border-highlight/20";case"text":return"text-accent bg-accent/10 border-accent/20";case"json":return"text-alt_color_b bg-alt_color_b/10 border-alt_color_b/20";case"array":return"text-alt_color_a bg-alt_color_a/10 border-alt_color_a/20";case"boolean":return"text-primary bg-primary/10 border-primary/20";default:return"text-secondary bg-secondary/10 border-secondary/20"}})(d)),children:d})]})}),(0,s.jsx)(eh,{className:"pt-0 pb-3",children:(i=(n=((e,t)=>{if(null===e)return"null";if(void 0===e)return"undefined";if("json"===t||"array"===t){if("string"==typeof e)try{let t=JSON.parse(e);return JSON.stringify(t,null,2)}catch{return e}return JSON.stringify(e,null,2)}return String(e)})(t,d)).length>200,o=a.has(e),"json"===d||"array"===d?(0,s.jsxs)(eC,{open:o,onOpenChange:()=>l(e),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(eE,{asChild:!0,children:(0,s.jsxs)(m.$,{variant:"ghost",size:"sm",className:"p-0 h-auto font-normal",children:[o?(0,s.jsx)(eq.A,{className:"w-4 h-4 mr-1"}):(0,s.jsx)(eA.A,{className:"w-4 h-4 mr-1"}),(0,s.jsx)("span",{className:"text-secondary text-sm",children:"array"===d?`Array (${Array.isArray(t)?t.length:"items"})`:"Object"})]})}),(0,s.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>c(n,e),className:"h-6 w-6 p-0",children:r[e]?(0,s.jsx)("span",{className:"text-green-500 text-xs",children:"✓"}):(0,s.jsx)(eP.A,{className:"w-3 h-3"})})]}),(0,s.jsx)(eS,{children:(0,s.jsx)("pre",{className:"bg-background_alt border border-border rounded-md p-3 mt-2 text-sm overflow-x-auto whitespace-pre-wrap break-words max-h-[300px] overflow-y-auto",children:n})})]}):i?(0,s.jsxs)(eC,{open:o,onOpenChange:()=>l(e),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(eE,{asChild:!0,children:(0,s.jsxs)(m.$,{variant:"ghost",size:"sm",className:"p-0 h-auto font-normal",children:[o?(0,s.jsx)(eq.A,{className:"w-4 h-4 mr-1"}):(0,s.jsx)(eA.A,{className:"w-4 h-4 mr-1"}),(0,s.jsx)("span",{className:"text-secondary text-sm",children:o?"Show less":`Show more (${n.length} chars)`})]})}),(0,s.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>c(n,e),className:"h-6 w-6 p-0",children:r[e]?(0,s.jsx)("span",{className:"text-green-500 text-xs",children:"✓"}):(0,s.jsx)(eP.A,{className:"w-3 h-3"})})]}),!o&&(0,s.jsx)("div",{className:"text-primary whitespace-pre-wrap break-words line-clamp-3 overflow-hidden",children:(0,s.jsx)(w.oz,{components:{a:({children:e,href:t,...a})=>(0,s.jsx)("a",{...a,href:t,className:"text-accent hover:text-accent/80 underline break-all overflow-wrap-anywhere",target:"_blank",rel:"noopener noreferrer",children:e})},children:n.slice(0,200)+"..."})}),(0,s.jsx)(eS,{children:(0,s.jsx)("div",{className:"text-primary whitespace-pre-wrap break-words overflow-hidden",children:(0,s.jsx)(w.oz,{components:{a:({children:e,href:t,...a})=>(0,s.jsx)("a",{...a,href:t,className:"text-accent hover:text-accent/80 underline break-all overflow-wrap-anywhere",target:"_blank",rel:"noopener noreferrer",children:e})},children:n})})})]}):(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsx)("div",{className:"text-primary whitespace-pre-wrap break-words flex-1 overflow-hidden min-w-0",children:(0,s.jsx)(w.oz,{components:{a:({children:e,href:t,...a})=>(0,s.jsx)("a",{...a,href:t,className:"text-accent hover:text-accent/80 underline break-all overflow-wrap-anywhere",target:"_blank",rel:"noopener noreferrer",children:e})},children:n})}),(0,s.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>c(n,e),className:"h-6 w-6 p-0 flex-shrink-0",children:r[e]?(0,s.jsx)("span",{className:"text-green-500 text-xs",children:"✓"}):(0,s.jsx)(eP.A,{className:"w-3 h-3"})})]}))})]},e)})})]})},eR=({data:e,header:t,setSortOn:a,ascending:i,sortOn:o,stickyHeaders:l=!1,maxHeight:c,loadingData:u})=>{let[h,m]=(0,n.useState)(null);if((0,n.useEffect)(()=>{m(null)},[e,t]),!e)return null;let f=l&&c?{maxHeight:c,overflowY:"auto"}:{},p=l?`flex flex-col w-full transition-all duration-300 ${u?"opacity-50":""}`:`flex flex-col flex-1 min-w-0 min-h-0 overflow-auto w-full transition-all duration-300 ${u?"opacity-50":""}`,g=null!==h?{...f,minHeight:"450px",height:"auto"}:f;return(0,s.jsx)(r.P.div,{className:p,style:f,animate:g,transition:{duration:.4,ease:"easeInOut"},children:(0,s.jsx)("div",{className:"overflow-x-auto w-full max-w-full",children:null===h?(0,s.jsxs)("table",{className:"table-auto w-full whitespace-nowrap",children:[(0,s.jsx)("thead",{className:l?"sticky top-0 bg-background z-10":"",children:(0,s.jsxs)("tr",{className:"text-left text-secondary text-sm",children:[(0,s.jsx)("th",{className:"p-2",children:"#"}),Object.keys(t).map(e=>(0,s.jsx)("th",{className:"cursor-pointer p-2 items-center gap-2 min-w-[150px]",onClick:()=>a&&"uuid"!=t[e]&&a(e),children:(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2 text-secondary ",children:["text"===t[e]||"text[]"===t[e]?(0,s.jsx)(d.e76,{className:"w-4 h-4"}):"number"===t[e]?(0,s.jsx)(eT.AnM,{className:"w-4 h-4"}):"boolean"===t[e]?(0,s.jsx)(y.uHw,{className:"w-4 h-4"}):"uuid"===t[e]?(0,s.jsx)(eT.ltB,{className:"w-4 h-4"}):"object"===t[e]||"object[]"===t[e]?(0,s.jsx)(Y.sHL,{className:"w-4 h-4"}):null,(0,s.jsx)("p",{className:"text-sm text-primary",children:e}),o===e&&(0,s.jsx)("span",{children:i?"↑":"↓"})]})},e))]})}),(0,s.jsx)("tbody",{children:e.map((e,a)=>(0,s.jsxs)("tr",{className:`hover:bg-foreground_alt ${a%2==1?"bg-background_alt":""}`,children:[(0,s.jsx)("td",{className:"px-2 py-2 text-sm text-secondary",children:a+1}),Object.keys(t).map((t,n)=>{let i=e[t],r="boolean"==typeof i;return(0,s.jsx)("td",{onClick:()=>m(a),className:"truncate px-2 py-2 text-sm cursor-pointer max-w-[250px]",children:null!=i?"object"==typeof i?(0,s.jsx)("span",{className:"text-primary",children:JSON.stringify(i,null,0)}):r?(0,s.jsx)("span",{className:`font-mono text-xs ${i?"text-green-400 ":"text-red-400 "}`,children:String(i)}):(0,s.jsx)("span",{className:"text-primary",children:i}):null===i?(0,s.jsx)("span",{className:"text-secondary italic",children:"null"}):""},`${a}-${n}`)})]},a))})]}):(0,s.jsx)(r.P.div,{className:"flex flex-col w-full relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:(0,s.jsx)(eD,{selectedCell:e[h],onClose:()=>m(null)})})})})},eK=({payload:e})=>(0,s.jsx)("div",{className:"w-full flex flex-col justify-start items-start",children:(0,s.jsx)(eR,{data:e,header:e[0],stickyHeaders:!0,maxHeight:"30vh"})}),eL=({aggregation:e})=>{let[t,a]=(0,n.useState)({}),i=(e,t)=>e.every(e=>{let a=e[t];return null==a||0===a||""===a}),r=(e,t)=>{let a={},s={};for(let[n,r]of Object.entries(e))i(t,n)?s[n]=r:a[n]=r;return{...a,...s}};return(0,n.useEffect)(()=>{a((e=>{let t={};for(let a of e)for(let e of a.collections)for(let[a,s]of Object.entries(e))for(let[e,n]of(t[a]||(t[a]={}),Object.entries(s))){t[a][e]||(t[a][e]={header:{},data:[]});let s=new Map,i=[],o={};for(let t of n.values){let a=t.field||"null";s.has(a)||s.set(a,{[e]:a});let i=s.get(a);if(i[t.aggregation]=t.value,o[t.aggregation]||(o[t.aggregation]="number"),n.groups&&t.field&&n.groups[t.field])for(let[e,a]of Object.entries(n.groups[t.field]))for(let t of a.values){let s=`${e}_${t.aggregation}`;i[s]=t.value,o[s]||(o[s]=a.type)}}o[e]=n.type;let l=Array.from(s.values()),c=[],d=[];for(let t of Object.keys(o))if(t===e)continue;else t.includes("_")?c.push(t):d.push(t);c.reverse(),i.push(e,...c,...d);let u={};for(let e of i)o[e]&&(u[e]=o[e]);let h=r(u,l);t[a][e]={header:h,data:l}}return t})(e))},[e]),(0,s.jsx)("div",{className:"w-full flex flex-col justify-start items-start gap-6",children:Object.entries(t).map(([e,t])=>(0,s.jsx)("div",{className:"w-full flex flex-col gap-4",children:(0,s.jsx)("div",{className:"w-full flex flex-col gap-2",children:Object.entries(t).map(([t,a],n)=>(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)("h4",{className:"text-sm font-medium text-secondary",children:t})}),(0,s.jsx)("div",{className:"w-full rounded-md",children:a.data.length>0?(0,s.jsx)(eR,{header:a.header,data:a.data,stickyHeaders:!0,maxHeight:"25vh"},`${e}-${t}`):(0,s.jsxs)("div",{className:"p-4 text-secondary",children:["No data available for ",t]})})]},`${e}-${t}-${n}`))})},e))})},e$=({payload:e,handleResultPayloadChange:t})=>0===e.length?null:(0,s.jsx)(eb,{children:e.map((e,a)=>(0,s.jsx)(el,{className:"w-full bg-background_alt py-2 px-4 rounded-lg border-none hover:bg-foreground cursor-pointer transition-all duration-200",onClick:()=>t("document",e),children:(0,s.jsxs)(ed,{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,s.jsx)("p",{className:"text-xs font-light text-secondary",children:e.collection_name}),e.chunk_spans&&e.chunk_spans.length>0&&(0,s.jsxs)("div",{className:"flex flex-row justify-center items-center gap-1 text-primary",children:[(0,s.jsx)(Y.U$b,{className:"text-xs text-alt_color_a"}),(0,s.jsx)("p",{className:"text-xs text-alt_color_a",children:e.chunk_spans.length})]})]}),(0,s.jsx)("h1",{className:"text-sm overflow-hidden text-ellipsis whitespace-nowra pb-1",children:e.title})]})},a+e.title))});var eZ=a(4450),eH=a(48035),eO=a(28408),ez=a(32539),eM=a(59656),eB=a(18662),eF=a(93459),eV=a(75045);let eU=e=>{let t=["#ffffff","#54ff5a","#54cfff","#ff5454","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#06B6D4","#84CC16","#F97316","#6366F1","#f2f2f2"];return t[e%t.length]},eG=({active:e,payload:t,label:a})=>e&&t&&t.length?(0,s.jsxs)("div",{className:"bg-background_alt border  border-foreground_alt rounded-lg  p-3",children:[(0,s.jsx)("p",{className:"text-sm text-primary",children:`${a}`}),t.map((e,t)=>(0,s.jsx)("p",{className:"text-sm",style:{color:e.color},children:`${e.dataKey}: ${e.value}`},t))]}):null,eY=({result:e})=>(0,s.jsx)("div",{className:"w-full flex flex-col justify-center items-center gap-8",children:e.objects.map((t,a)=>{let{data:n,xAxisKey:i,yAxisKeys:r}=(e=>{let{data:t,x_axis_label:a}=e,{x_labels:s,y_values:n}=t,i=[];for(let e=0;e<s.length;e++){let t={[a]:s[e]};Object.entries(n).forEach(([a,s])=>{t[a]=s[e]||null}),i.push(t)}return{data:i,xAxisKey:a,yAxisKeys:Object.keys(n)}})(t);return(0,s.jsxs)("div",{className:"w-full flex flex-col gap-4 bg-background rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,s.jsx)("p",{className:"text-lg text-primary",children:t.title||e.metadata?.title||"Bar Chart"}),(0,s.jsx)("p",{className:"text-sm text-secondary",children:t.description}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-secondary",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-highlight rounded-full"}),"Data Points: ",n.length]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-highlight rounded-full"}),"Series: ",r.length]})]})]}),(0,s.jsx)(er.w,{}),(0,s.jsx)("div",{className:"w-full h-[30vh]",children:(0,s.jsx)(eZ.u,{width:"100%",height:"100%",children:(0,s.jsxs)(eH.E,{data:n,margin:{top:10,right:10,left:10,bottom:10},children:[(0,s.jsx)(eO.d,{horizontal:!0,vertical:!1,stroke:"#E5E7EB",strokeOpacity:.3}),(0,s.jsx)(ez.W,{dataKey:i,stroke:"#6B7280",fontSize:12,tick:{fill:"#6B7280"},axisLine:{stroke:"#D1D5DB"}}),(0,s.jsx)(eM.h,{stroke:"#6B7280",fontSize:12,tick:{fill:"#6B7280"},axisLine:{stroke:"#D1D5DB"}}),(0,s.jsx)(eB.m,{content:(0,s.jsx)(eG,{})}),(0,s.jsx)(eF.s,{wrapperStyle:{paddingTop:"10px",fontSize:"14px"}}),r.map((e,t)=>(0,s.jsx)(eV.y,{dataKey:e,fill:eU(t),radius:[2,2,0,0]},e))]})})})]},t._REF_ID||a)})});var eQ=a(16746),eJ=a(70468),eX=a(17983),e0=a(12242);let e1=({active:e,payload:t,label:a})=>e&&t&&t.length?(0,s.jsxs)("div",{className:"bg-background_alt border  border-foreground_alt rounded-lg  p-3",children:[(0,s.jsx)("p",{className:"text-sm text-primary",children:`${a}`}),t.map((e,t)=>(0,s.jsx)("p",{className:"text-sm",style:{color:e.color},children:`${e.dataKey}: ${"number"==typeof e.value?Number(e.value.toFixed(2)):e.value}`},t))]}):null,e2=({result:e})=>(0,s.jsx)("div",{className:"w-full flex flex-col justify-center items-center gap-8",children:e.objects.map((t,a)=>{let{data:n,xAxisKey:i,yAxisSeries:r,chartType:o,normalizeYAxis:l}=(e=>{let{data:t,x_axis_label:a}=e,{x_axis:s,y_axis:n,normalize_y_axis:i}=t,r=[],o=Math.max(s.length,...n.map(e=>e.data_points.length));for(let e=0;e<o;e++){let t={[a]:s[e]?.value||null};n.forEach(a=>{t[a.label]=a.data_points[e]?.value||null}),r.push(t)}let l=n.some(e=>"line"===e.kind);return{data:r,xAxisKey:a,yAxisSeries:n,chartType:l?"line":"scatter",normalizeYAxis:i}})(t);return(0,s.jsxs)("div",{className:"w-full flex flex-col gap-4 bg-background rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,s.jsx)("p",{className:"text-lg text-primary",children:t.title||e.metadata?.title||`${"line"===o?"Line":"Scatter"} Chart`}),(0,s.jsx)("p",{className:"text-sm text-secondary",children:t.description}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-secondary",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-highlight rounded-full"}),"Data Points: ",n.length]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-highlight rounded-full"}),"Series: ",r.length]}),l&&(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-accent rounded-full"}),"Normalized Y-Axis"]})]})]}),(0,s.jsx)(er.w,{}),(0,s.jsx)("div",{className:"w-full h-[30vh]",children:(0,s.jsx)(eZ.u,{width:"100%",height:"100%",children:"line"===o?(0,s.jsxs)(eQ.b,{data:n,margin:{top:10,right:10,left:10,bottom:10},children:[(0,s.jsx)(eO.d,{horizontal:!0,vertical:!1,stroke:"#E5E7EB",strokeOpacity:.3}),(0,s.jsx)(ez.W,{dataKey:i,stroke:"#6B7280",fontSize:12,tick:{fill:"#6B7280"},axisLine:{stroke:"#D1D5DB"}}),(0,s.jsx)(eM.h,{stroke:"#6B7280",fontSize:12,tick:{fill:"#6B7280"},axisLine:{stroke:"#D1D5DB"}}),(0,s.jsx)(eB.m,{content:(0,s.jsx)(e1,{})}),(0,s.jsx)(eF.s,{wrapperStyle:{paddingTop:"10px",fontSize:"14px"}}),r.map((e,t)=>"line"===e.kind?(0,s.jsx)(eJ.N,{type:"monotone",dataKey:e.label,stroke:eU(t),strokeWidth:3,dot:!1,activeDot:{r:6,stroke:eU(t),strokeWidth:2,fill:"#FFFFFF"},connectNulls:!1},e.label):(0,s.jsx)(eX.X,{dataKey:e.label,fill:eU(t)},e.label))]}):(0,s.jsxs)(e0.t,{data:n,margin:{top:10,right:10,left:10,bottom:10},children:[(0,s.jsx)(eO.d,{horizontal:!0,vertical:!1,stroke:"#E5E7EB",strokeOpacity:.3}),(0,s.jsx)(ez.W,{dataKey:i,stroke:"#6B7280",fontSize:12,tick:{fill:"#6B7280"},axisLine:{stroke:"#D1D5DB"}}),(0,s.jsx)(eM.h,{stroke:"#6B7280",fontSize:12,tick:{fill:"#6B7280"},axisLine:{stroke:"#D1D5DB"}}),(0,s.jsx)(eB.m,{content:(0,s.jsx)(e1,{})}),(0,s.jsx)(eF.s,{wrapperStyle:{paddingTop:"10px",fontSize:"14px"}}),r.map((e,t)=>(0,s.jsx)(eX.X,{dataKey:e.label,fill:eU(t)},e.label))]})})})]},t._REF_ID||a)})}),e4=({active:e,payload:t,label:a})=>e&&t&&t.length?(0,s.jsxs)("div",{className:"bg-background_alt border  border-foreground_alt rounded-lg  p-3",children:[(0,s.jsx)("p",{className:"text-sm text-primary",children:`${a}`}),t.map((e,t)=>(0,s.jsx)("p",{className:"text-sm",style:{color:e.color},children:`${e.dataKey}: ${"number"==typeof e.value?Number(e.value.toFixed(2)):e.value}`},t))]}):null,e3=({result:e})=>(0,s.jsx)("div",{className:"w-full flex flex-col justify-center items-center gap-8",children:e.objects.map((t,a)=>{let{data:n,series:i,xAxisKey:r}=(e=>{let{data:t}=e,a=Object.keys(t);if(0===a.length)return{data:[],series:[]};let s=a.map(e=>({key:e,distribution:t[e].distribution})),n=[];if(s.forEach(e=>{e.distribution.forEach(e=>{let t="string"==typeof e?parseFloat(e):e;isNaN(t)||n.push(t)})}),0===n.length)return{data:[],series:[]};let i=Math.min(...n),r=Math.max(...n),o=(r-i)/10,l=[];for(let e=0;e<10;e++){let t=i+e*o,a=9===e?r:i+(e+1)*o;l.push({min:t,max:a,label:`${t.toFixed(1)}-${a.toFixed(1)}`})}return{data:l.map(e=>{let t={category:e.label};return s.forEach(a=>{let s=0;a.distribution.forEach(t=>{let a="string"==typeof t?parseFloat(t):t;!isNaN(a)&&a>=e.min&&a<=e.max&&s++}),t[a.key]=s}),t}),series:s.map(e=>e.key),xAxisKey:"category"}})(t);return(0,s.jsxs)("div",{className:"w-full flex flex-col gap-4 bg-background rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,s.jsx)("p",{className:"text-lg text-primary",children:t.title||e.metadata?.title||"Histogram"}),(0,s.jsx)("p",{className:"text-sm text-secondary",children:t.description}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-secondary",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-highlight rounded-full"}),"Data Points: ",n.length]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-highlight rounded-full"}),"Series: ",i.length]})]})]}),(0,s.jsx)(er.w,{}),(0,s.jsx)("div",{className:"w-full h-[30vh]",children:(0,s.jsx)(eZ.u,{width:"100%",height:"100%",children:(0,s.jsxs)(eH.E,{data:n,margin:{top:10,right:10,left:10,bottom:10},children:[(0,s.jsx)(eO.d,{horizontal:!0,vertical:!1,stroke:"#E5E7EB",strokeOpacity:.3}),(0,s.jsx)(ez.W,{dataKey:r,stroke:"#6B7280",fontSize:12,tick:{fill:"#6B7280"},axisLine:{stroke:"#D1D5DB"}}),(0,s.jsx)(eM.h,{stroke:"#6B7280",fontSize:12,tick:{fill:"#6B7280"},axisLine:{stroke:"#D1D5DB"}}),(0,s.jsx)(eB.m,{content:(0,s.jsx)(e4,{})}),(0,s.jsx)(eF.s,{wrapperStyle:{paddingTop:"10px",fontSize:"14px"}}),i.map((e,t)=>(0,s.jsx)(eV.y,{dataKey:e,fill:eU(t),radius:[2,2,0,0]},e))]})})})]},t._REF_ID||a)})}),e5=({payload:e,index:t,messageId:a,handleResultPayloadChange:i})=>{let r=`${t}-${a}`,{currentCollectionName:o}=(0,n.useContext)(K),l=(e,t)=>{i(e,t,o)};switch(e.type){case"ticket":return(0,s.jsx)(ev,{tickets:e.objects,handleResultPayloadChange:l},`${r}-tickets`);case"product":case"ecommerce":return(0,s.jsx)(ew,{products:e.objects,handleResultPayloadChange:l},`${r}-product`);case"conversation":return(0,s.jsx)(ek,{payload:e.objects,handleResultPayloadChange:l},`${r}-conversation`);case"message":return(0,s.jsx)(eN,{payload:e.objects},`${r}-message`);case"table":case"mapped":return(0,s.jsx)(eK,{payload:e.objects},`${r}-boring-generic`);case"aggregation":return(0,s.jsx)(eL,{aggregation:e.objects},`${r}-aggregation`);case"document":return(0,s.jsx)(e$,{payload:e.objects,handleResultPayloadChange:l},`${r}-document`);case"bar_chart":return(0,s.jsx)(eY,{result:e},`${r}-chart`);case"scatter_or_line_chart":return(0,s.jsx)(e2,{result:e},`${r}-chart`);case"histogram_chart":return(0,s.jsx)(e3,{result:e},`${r}-chart`);default:return null}},e6=({baseKey:e,tabValue:t,idx:a,tabTitle:i,setActiveTab:o,activeTab:l})=>{let[c,d]=(0,n.useState)(l===t);return(0,n.useEffect)(()=>{l!==t||c||d(!0)},[l,t,c]),(0,s.jsxs)("div",{className:"flex gap-2 hover:bg-background_alt text-sm rounded-md transition-colors flex-shrink-0 px-4 py-2 items-center cursor-pointer",onClick:()=>{o(t),d(!0)},children:[c?(0,s.jsx)("div",{className:"w-2 h-2 bg-secondary rounded-full flex-shrink-0"}):(0,s.jsx)(r.P.div,{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0",animate:{y:[0,-4,0]},transition:{duration:.6,repeat:1/0,ease:"easeInOut"}}),(0,s.jsx)("button",{className:`
                  flex 
                  ${l===t?"text-primary":"text-secondary"}
                `,children:i})]},`${e}-trigger-${a}`)},e9=({payloadsToMerge:e,baseKey:t,messageId:a,handleViewChange:i,handleResultPayloadChange:r})=>{let[o,l]=(0,n.useState)(`${t}-tab-0`);return e&&0!==e.length?(0,s.jsxs)("div",{className:"w-full flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1 w-full",children:[(0,s.jsx)(Q,{payload:e,merged:!0,handleViewChange:i}),(0,s.jsx)("div",{className:"flex overflow-x-auto gap-2 flex-nowrap scrollbar-thin scrollbar-thumb-foreground scrollbar-track-background_alt",children:e.map((e,a)=>{let n=`${t}-tab-${a}`,i=e.metadata?.collection_name||`Collection ${a+1}`;return(0,s.jsx)(e6,{baseKey:t,tabValue:n,idx:a,tabTitle:i,setActiveTab:l,activeTab:o},`${t}-tab-${a}`)})})]}),(0,s.jsx)("div",{className:"mt-2 flex flex-col gap-4",children:e.map((e,n)=>o!==`${t}-tab-${n}`?null:(0,s.jsx)("div",{children:(0,s.jsx)(e5,{payload:e,index:n,handleResultPayloadChange:r,messageId:a})},`${t}-content-${n}`))})]}):null},e8=({product:e})=>{let t,a,[i,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1);return(0,s.jsx)(r.P.div,{className:"w-full max-w-4xl mx-auto",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:[.25,.46,.45,.94]},children:(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)(r.P.div,{className:"relative w-full h-[60vh] lg:h-[70vh] overflow-hidden rounded-3xl bg-gradient-to-br from-secondary/3 to-secondary/8 shadow-2xl shadow-black/10",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8,ease:[.25,.46,.45,.94]},children:[!i&&!l&&(0,s.jsx)(ea.E,{className:"absolute inset-0 w-full h-full rounded-3xl"}),!l&&(0,s.jsx)(r.P.img,{src:e.image,alt:e.name,className:`w-full h-full object-cover transition-transform duration-1000 ease-out hover:scale-105 ${i?"opacity-100":"opacity-0"}`,onLoad:()=>o(!0),onError:()=>{c(!0),o(!0)},loading:"lazy"}),l&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-secondary/30 text-center p-8",children:[(0,s.jsx)("div",{className:"text-6xl mb-4 opacity-50",children:"\uD83D\uDCF7"}),(0,s.jsx)("div",{className:"text-sm opacity-60",children:"Image unavailable"})]})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),(0,s.jsx)("div",{className:"absolute inset-0 flex flex-col justify-end p-8 lg:p-12",children:(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8},className:"text-white space-y-4",children:[(0,s.jsx)("p",{className:"text-sm opacity-80 uppercase tracking-[0.25em] font-medium",children:e.brand}),(0,s.jsx)("h1",{className:"text-4xl lg:text-5xl xl:text-6xl font-extralight leading-[0.9] tracking-tight",children:e.name}),e.rating&&(0,s.jsxs)(r.P.div,{className:"flex items-center gap-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.6},children:[(0,s.jsx)("div",{className:"flex items-center",children:(t=e.rating,Array.from({length:5},(e,a)=>(0,s.jsx)(r.P.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5+.05*a,duration:.2},className:`text-sm transition-colors duration-200 ${a<Math.round(t)?"text-alt_color_b":"text-secondary/30"}`,children:"★"},a)))}),(0,s.jsx)("span",{className:"text-sm opacity-70 font-light",children:e.rating.toFixed(1)})]})]})})]}),(0,s.jsxs)(r.P.div,{className:"space-y-10 px-4 lg:px-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8,ease:[.25,.46,.45,.94]},children:[(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"max-w-3xl mx-auto flex-col md:flex-row flex items-center justify-center gap-8",children:[e.price&&(0,s.jsx)("span",{className:"text-5xl lg:text-6xl text-primary font-thin tracking-tighter",children:(a=e.price,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(a))}),(0,s.jsx)("p",{className:"text-xl text-secondary font-light leading-relaxed",children:e.description})]}),(0,s.jsxs)(r.P.div,{className:"grid grid-cols-1 sm:grid-cols-3 gap-12 py-12 border-y border-secondary/10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.6},children:[(0,s.jsxs)("div",{className:"text-center space-y-3",children:[(0,s.jsx)("div",{className:"text-xs text-secondary/40 uppercase tracking-[0.2em] font-medium",children:"Collection"}),(0,s.jsx)("div",{className:"text-lg text-primary font-light",children:e.collection})]}),(0,s.jsxs)("div",{className:"text-center space-y-3",children:[(0,s.jsx)("div",{className:"text-xs text-secondary/40 uppercase tracking-[0.2em] font-medium",children:"Category"}),(0,s.jsx)("div",{className:"text-lg text-primary font-light",children:e.category})]}),(0,s.jsxs)("div",{className:"text-center space-y-3",children:[(0,s.jsx)("div",{className:"text-xs text-secondary/40 uppercase tracking-[0.2em] font-medium",children:"Type"}),(0,s.jsx)("div",{className:"text-lg text-primary font-light",children:e.subcategory})]})]}),e.tags&&Array.isArray(e.tags)&&e.tags.length>0&&(0,s.jsx)(r.P.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.4,duration:.6},children:(0,s.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:e.tags.map((e,t)=>(0,s.jsx)(r.P.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1.4+.1*t,duration:.4},className:"px-6 py-3 bg-secondary/3 text-secondary/60 text-sm uppercase tracking-wide rounded-full border border-secondary/8 hover:bg-secondary/8 hover:border-secondary/15 transition-all duration-500 cursor-default",children:e},t))})})]})]})})};var e7=a(61659);let te=({message:e,id:t})=>(0,s.jsxs)("div",{className:"flex flex-col gap-2",id:t,children:[(0,s.jsxs)("div",{className:"flex flex-row",children:[e.relevant&&(0,s.jsx)("p",{className:"bg-transparent hover:bg-transparent text-accent justify-center items-center flex flex-row",children:(0,s.jsx)(e7.Ueo,{})}),(0,s.jsx)("p",{className:"text-md text-primary font-bold pl-2",children:e.author})]}),(0,s.jsx)("div",{className:"flex flex-col gap-2 rounded-lg bg-background_alt",children:(0,s.jsx)("p",{className:"text-primary text-xs p-5",children:(0,s.jsx)(H,{text:e.content})})}),(0,s.jsx)("div",{className:"flex flex-row gap-2 justify-end",children:(0,s.jsx)("p",{className:"text-secondary text-sm",children:new Date(e.timestamp).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})})})]}),tt=({thread:e})=>{let t=[...new Set(e.messages.map(e=>e.author))],i=t.length>4?`${t[0]} & others`:t.join(", "),r=e.messages.filter(e=>!0===e.relevant),[o,c]=(0,n.useState)(!1);return(0,s.jsxs)("div",{className:"w-full flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 justify-start items-start",children:[(0,s.jsx)("div",{className:"flex flex-row w-full justify-between gap-2",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{className:"text-xl font-bold text-primary",children:i}),e.ELYSIA_SUMMARY&&(0,s.jsx)("p",{className:"text-sm text-secondary",children:e.ELYSIA_SUMMARY})]})}),r&&r.length>0&&(0,s.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,s.jsx)(m.$,{variant:"default",size:"sm",className:"bg-foreground text-primary text-sm",onClick:()=>c(!o),children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.N2D,{}),(0,s.jsx)("span",{children:"Show All"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.N2D,{}),(0,s.jsx)("span",{children:"Show Relevant Messages"})]})}),r.map((e,t)=>(0,s.jsx)(m.$,{variant:"default",size:"sm",className:"bg-foreground text-primary text-sm",onClick:()=>{let e;(e=a.g.document.getElementById(`chunk-${t}`))&&e.scrollIntoView({behavior:"smooth",block:"center"})},children:t+1},t))]})]}),(0,s.jsx)("div",{className:"flex flex-col gap-4",children:o?r?.map((e,t)=>(0,s.jsx)(te,{message:e},e.message_id||t)):e.messages.map((e,t)=>{let a=e.relevant?r.indexOf(e):null;return(0,s.jsx)("div",{id:e.relevant?`chunk-${a}`:void 0,children:(0,s.jsx)(te,{message:e})},e.message_id||t)})})]})},ta=({document:e})=>{let[t,i]=(0,n.useState)(!1),r=e=>{let t=a.g.document.getElementById(`chunk-${e}`);t&&t.scrollIntoView({behavior:"smooth",block:"center"})},{doc:o,chunks:l}=(()=>{if(!e.content)return{doc:null,chunks:[]};if(!e.chunk_spans||0===e.chunk_spans.length)return{doc:(0,s.jsx)(H,{text:e.content}),chunks:[]};let t=[],a=[],n=0;return e.chunk_spans.forEach(({start:i,end:o},l)=>{n<i&&t.push((0,s.jsx)(H,{text:e.content?.slice(n,i)},`normal-${l}`)),t.push((0,s.jsx)("div",{id:`chunk-${l}`,className:"transition-colors duration-200",children:(0,s.jsx)("div",{className:"flex",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"text-primary bg-alt_color_a/10 border border-alt_color_a rounded-md p-3 block",children:(0,s.jsx)(H,{text:e.content?.slice(i,o)})}),(0,s.jsx)("div",{className:"absolute -top-3.5 right-0 transform -translate-x-1/2",children:(0,s.jsxs)(ef,{className:"gap-1 text-alt_color_a bg-background_alt border border-alt_color_a p-2",children:[(0,s.jsx)(Y.U$b,{className:"text-sm"}),l+1]})})]})})},`chunk-${l}`)),a.push((0,s.jsx)("div",{onClick:()=>r(l),children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"text-primary bg-background_alt rounded-md p-3 block",children:(0,s.jsx)(H,{text:e.content?.slice(i,o)})}),(0,s.jsx)("div",{className:"absolute -top-3.5 right-0 transform -translate-x-1/2",children:(0,s.jsxs)(ef,{className:"gap-1 text-sm",children:[(0,s.jsx)(Y.U$b,{className:"text-primary text-sm"}),l+1]})})]})},`chunk-${l}`)),n=o}),n<e.content.length&&t.push((0,s.jsx)(H,{text:e.content.slice(n)},"normal-last")),{doc:t,chunks:a}})();return(0,s.jsxs)("div",{className:"w-full flex flex-col gap-4 h-full min-h-0",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 justify-start items-start sticky top-0 z-10 pb-4 rounded-lg bg-background_alt p-3 sm:p-4 border border-foreground",children:[(0,s.jsx)("div",{className:"flex flex-row w-full justify-between gap-2",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2 min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-2 justify-between",children:[(0,s.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-primary truncate",children:e.title}),(0,s.jsx)(m.$,{variant:"default",className:"bg-primary/10 text-primary text-sm flex-shrink-0 rounded-full w-10 h-10",onClick:()=>{let e=a.g.document.querySelector(".overflow-y-auto");e&&e.scrollTo({top:0,behavior:"smooth"})},children:(0,s.jsx)(Y.uCC,{size:16})})]}),(0,s.jsx)("p",{className:"text-sm text-secondary truncate",children:e.author})]})}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.length>0&&(0,s.jsx)(m.$,{variant:"default",className:"bg-alt_color_a/10 text-alt_color_a text-sm flex-shrink-0",onClick:()=>i(!t),children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.zo4,{className:"mr-1"}),(0,s.jsx)("span",{className:"hidden xs:inline",children:"Show Full Document"}),(0,s.jsx)("span",{className:"xs:hidden",children:"Full Doc"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y.U$b,{className:"mr-1"}),(0,s.jsx)("span",{className:"hidden xs:inline",children:"Only Relevant Parts"}),(0,s.jsx)("span",{className:"xs:hidden",children:"Relevant"})]})}),l.length>0&&(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-thin scrollbar-thumb-foreground/20 scrollbar-track-transparent",children:l.map((e,t)=>(0,s.jsx)(m.$,{variant:"default",className:"bg-alt_color_a/10 text-alt_color_a text-sm flex-shrink-0 min-w-[2.5rem]",onClick:()=>r(t),children:t+1},`chunk-button-${t}`))})})]})})]}),o&&(0,s.jsx)("div",{className:"flex flex-col gap-4 overflow-y-auto flex-1 min-h-0 p-3 sm:p-4 border border-foreground bg-background_alt rounded-lg",children:t?l:o})]})},ts=({ticket:e})=>{let t=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,s.jsxs)("div",{className:"w-full flex flex-col gap-3 justify-start items-start",children:[(0,s.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,s.jsx)("p",{className:"text-lg text-primary",children:e.title}),(0,s.jsxs)("div",{className:"flex flex-row justify-between items-center w-full gap-1",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-start items-center gap-1",children:["open"===e.status&&(0,s.jsxs)(ef,{className:"bg-accent",children:[(0,s.jsx)(u.PCz,{}),"Open"]}),"closed"===e.status&&(0,s.jsxs)(ef,{className:"bg-error",children:[(0,s.jsx)(u.UYp,{}),"Closed"]}),"open"!==e.status&&"closed"!==e.status&&(0,s.jsx)(ef,{className:"bg-background_alt",children:e.status}),e.tags&&Array.isArray(e.tags)&&e.tags.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"h-6 border-l border-secondary mx-2"}),e.tags.map((e,t)=>(0,s.jsx)(ef,{className:"bg-background_alt",children:e},`${t}-${e}`))]})]}),e.url&&(0,s.jsx)(m.$,{onClick:t=>{t.stopPropagation(),window.open(e.url,"_blank")},className:"h-9 w-9",children:(0,s.jsx)(d.WiA,{size:24})})]}),(0,s.jsx)("p",{className:"text-sm text-primary",children:e.subtitle})]}),(0,s.jsx)(er.w,{}),(0,s.jsxs)("div",{className:"w-full flex flex-col lg:flex-row gap-2",children:[(0,s.jsxs)("div",{className:`w-full flex flex-col bg-background_alt rounded-lg h-fit ${e.updated_at?"lg:w-4/5":"lg:w-full"}`,children:[(0,s.jsxs)("div",{className:"flex flex-row w-full bg-foreground rounded-t-lg gap-1 p-3",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-primary",children:e.author}),(0,s.jsxs)("p",{className:"text-sm text-primary",children:["opened this on ",t(e.created_at)]})]}),(0,s.jsx)("div",{className:"flex flex-col p-4 justify-start items-start overflow-x-auto",children:(0,s.jsx)(H,{text:e.content})}),e.ELYSIA_SUMMARY&&(0,s.jsxs)("div",{className:"flex flex-col gap-2 w-full p-4 pt-0",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-secondary",children:"Summary"}),(0,s.jsx)("p",{className:"text-xs text-primary font-normal",children:e.ELYSIA_SUMMARY}),(0,s.jsx)(er.w,{})]})]}),e.updated_at&&(0,s.jsx)("div",{className:"lg:w-1/5 w-full flex flex-col gap-2 p-2",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,s.jsx)("p",{className:"text-sm  text-secondary",children:"Last updated"}),(0,s.jsx)("p",{className:"text-xs text-primary font-normal",children:t(e.updated_at)})]})})]}),e.comments&&(0,s.jsxs)("div",{className:"w-full flex flex-col gap-2 bg-highlight/10 text-highlight rounded-md p-4",children:[(0,s.jsx)("p",{className:"text-sm font-bold",children:"Comments"}),Array.isArray(e.comments)?(0,s.jsx)("div",{className:"flex flex-col gap-2",children:e.comments.map((e,t)=>(0,s.jsx)("div",{className:"text-sm p-2 bg-background/20 rounded-md",children:e},t))}):(0,s.jsx)("p",{className:"text-sm",children:e.comments})]})]})};var tn=a(26939);async function ti(e,t,a){performance.now();try{let s=await fetch(`${tn.Hc}/collections/${e}/get_object/${t}/${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)return console.error(`Error fetching object! status: ${s.status} ${s.statusText}`),{properties:{},items:[],error:"Error fetching object"};return await s.json()}catch(e){return console.error(e instanceof Error?e.message:String(e)),{properties:{},items:[],error:"Error fetching object"}}finally{}}var tr=a(89892),to=a(97950);let tl=({payload:e,type:t,handleViewChange:a})=>{let{showErrorToast:i}=(0,n.useContext)(to.$),[l,c]=(0,n.useState)(!1),{currentCollectionName:u}=(0,n.useContext)(N),{id:h}=(0,n.useContext)(tr.I),[f,p]=(0,n.useState)(null),[g,x]=(0,n.useState)(!1),[y,b]=(0,n.useState)(!1),[v,_]=(0,n.useState)(!1),w=()=>{a("chat",null)};(0,n.useEffect)(()=>{l&&j()},[l]),(0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&w()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]);let j=async()=>{if(x(!0),!h||!e.uuid||!u)return;let t=await ti(h,u,e.uuid);t.error?i("Error fetching data",t.error):p(t),x(!1)};return(0,s.jsxs)("div",{className:"w-full flex flex-col chat-animation",children:[(0,s.jsxs)(r.P.div,{className:"w-full flex gap-2 justify-end items-center mb-4",initial:{y:20,opacity:0,scale:.8},animate:{y:0,opacity:1,scale:1},transition:{type:"spring",stiffness:400,damping:25,delay:.1},children:[u&&e.uuid&&(0,s.jsx)(r.P.div,{onHoverStart:()=>b(!0),onHoverEnd:()=>b(!1),initial:{width:"2.5rem",y:15,opacity:0},animate:{width:y?"auto":"2.5rem",y:0,opacity:1},transition:{width:{duration:.3,ease:"easeInOut"},y:{type:"spring",stiffness:300,damping:20,delay:.2},opacity:{duration:.2,delay:.2}},className:"overflow-hidden",children:(0,s.jsxs)(m.$,{className:`h-8 rounded-md flex items-center gap-2 px-2 whitespace-nowrap transition-colors duration-200 ${y?"bg-alt_color_b/10 hover:bg-alt_color_b/20 text-alt_color_b border border-alt_color_b":"bg-secondary/10 hover:bg-secondary/20 text-secondary border border-secondary/30"}`,onClick:()=>{c(e=>!e)},children:[(0,s.jsx)(o.YU$,{size:12,className:`flex-shrink-0 transition-colors duration-200 ${y?"text-alt_color_b":"text-secondary"}`}),(0,s.jsx)(z.N,{children:y&&(0,s.jsx)(r.P.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2,delay:.1},className:"text-alt_color_b text-xs",children:l?"Show display":"Show raw"})})]})}),(0,s.jsx)(r.P.div,{onHoverStart:()=>_(!0),onHoverEnd:()=>_(!1),initial:{width:"2.5rem",y:15,opacity:0},animate:{width:v?"auto":"2.5rem",y:0,opacity:1},transition:{width:{duration:.3,ease:"easeInOut"},y:{type:"spring",stiffness:300,damping:20,delay:.3},opacity:{duration:.2,delay:.3}},className:"overflow-hidden",children:(0,s.jsxs)(m.$,{variant:"ghost",onClick:w,className:`h-8 rounded-md flex items-center gap-2 px-2 whitespace-nowrap transition-colors duration-200 ${v?"bg-error/10 hover:bg-error/20 text-error border border-error":"bg-secondary/10 hover:bg-secondary/20 text-secondary border border-secondary/30"}`,children:[(0,s.jsx)(d.$8F,{size:12,className:`flex-shrink-0 transition-colors duration-200 ${v?"text-error":"text-secondary"}`}),(0,s.jsx)(z.N,{children:v&&(0,s.jsx)(r.P.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2,delay:.1},className:"text-error text-xs",children:"Back to chat"})})]})})]}),g&&(0,s.jsx)("div",{className:"w-full flex flex-col",children:(0,s.jsx)("p",{className:"text-secondary shine",children:"Loading..."})}),l?(0,s.jsx)("div",{className:"w-full flex flex-col",children:(0,s.jsx)(eD,{selectedCell:f?.items[0]||null})}):(()=>{switch(t){case"ticket":return(0,s.jsx)(ts,{ticket:e});case"product":case"ecommerce":return(0,s.jsx)(e8,{product:e});case"thread":return(0,s.jsx)(tt,{thread:e});case"document":return(0,s.jsx)(ta,{document:e})}})()]})},tc=({payload:e})=>(0,s.jsxs)("div",{className:"w-full flex chat-animation flex-col justify-start items-start",children:[(0,s.jsx)("div",{className:"flex flex-col w-full justify-start items-start",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,s.jsx)(c.Qp1,{scale:.2,className:"text-lg pulsing_color"}),(0,s.jsx)("p",{className:"text-primary text-lg font-bold",children:e.metadata?.title})]})}),(0,s.jsx)(er.w,{className:"my-2"}),e.objects.map((e,t)=>(0,s.jsx)("div",{className:"text-sm text-white flex flex-col gap-1 w-full",children:(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(H,{text:e.text,ref_ids:e.ref_ids||[]})})},t))]});var td=a(67373),tu=a(38194);let th=({payload:e,handleViewChange:t})=>{let{changePage:a}=(0,n.useContext)(i.z);return e?(0,s.jsxs)("div",{className:"flex flex-col gap-6 overflow-hidden chat-animation",children:[(0,s.jsxs)("div",{className:"w-full flex justify-between items-center",children:[(0,s.jsx)("div",{className:"flex gap-2 items-center",children:(0,s.jsx)("p",{children:"Source Code"})}),(0,s.jsx)(m.$,{variant:"ghost",className:"text-secondary h-9 w-9",onClick:()=>t("chat",null),children:(0,s.jsx)(d.$8F,{size:12})})]}),e.map((t,n)=>(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("div",{className:"flex justify-start items-center w-full",children:(0,s.jsx)("div",{className:"flex gap-2 items-center w-full",children:e[0].metadata.collection_name&&(0,s.jsx)("div",{className:"flex flex-row justify-between items-center w-full",children:(0,s.jsxs)("div",{className:"flex gap-2 justify-start items-center",children:[(0,s.jsx)("div",{className:"text-highlight bg-highlight/10 h-9 w-9 rounded-md flex items-center justify-center",children:(0,s.jsx)(Y.FSj,{size:14,className:"text-highlight"})}),t.metadata.collection_name]})})})}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsxs)("div",{className:"overflow-y-scroll",children:[(0,s.jsxs)("div",{className:"absolute top-2 right-0 p-3 flex gap-1",children:[(0,s.jsx)(m.$,{className:"bg-accent/10 hover:bg-accent/20 h-9 w-9",onClick:()=>{a("collection",{source:t.metadata.collection_name},!0)},children:(0,s.jsx)(c.ist,{size:14,className:"text-accent"})}),(0,s.jsx)(v,{copyText:t.metadata.code.text})]}),(0,s.jsx)(td.A,{language:t.metadata.code.language,wrapLongLines:!0,showLineNumbers:!0,style:tu.A,customStyle:{backgroundColor:"#202020",color:"#f2f2f2",width:"100%",maxHeight:"calc(70vh - 2rem)"},className:"rounded-lg overflow-y-scroll",children:t.metadata.code.text})]})})]},n))]}):null},tm={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{type:"spring",damping:25,stiffness:120,staggerChildren:.1}}},tf={animate:{scale:[.2,.35,.2],opacity:[.6,1,.6],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}},tp={feedback:{x:0,opacity:1,transition:{type:"spring",damping:20,stiffness:100}},error:{x:0,opacity:1,transition:{type:"spring",damping:20,stiffness:100}},exit:{x:-20,opacity:0,transition:{duration:.2}}},tg={collapsed:{height:0,opacity:0,transition:{height:{duration:.3,ease:"easeInOut"},opacity:{duration:.2,delay:0}}},expanded:{height:"auto",opacity:1,transition:{height:{duration:.3,ease:"easeInOut"},opacity:{duration:.3,delay:.1}}}},tx={hover:{scale:1,transition:{type:"spring",damping:10,stiffness:400}},tap:{scale:.95}},ty=n.memo(({payload:e})=>{let[t,a]=(0,n.useState)(!1),[i,o]=(0,n.useState)({}),{isMerged:l,displayPayload:d,allPayloads:u}=(0,n.useMemo)(()=>{if(!e)return{isMerged:!1,displayPayload:null,allPayloads:[]};let t="merged_self_healing_errors"===e.type,a=t?e.latest:e,s=t?e.payloads:[e];return{isMerged:t,displayPayload:a,allPayloads:s}},[e]),h=(0,n.useCallback)(()=>{l&&a(e=>!e)},[l]),f=(0,n.useCallback)(e=>{o(t=>({...t,[e]:!t[e]}))},[]);if(!e||!d)return null;let p=(e,t=0,a=!1)=>{let n=i[t]||!1,o=!!e.error_message;return(0,s.jsx)(r.P.div,{className:"w-full",variants:tm,initial:"hidden",animate:"visible",layout:!0,children:(0,s.jsxs)(r.P.div,{className:`flex gap-3 items-center w-full ${a?"justify-start":"justify-center"}`,whileHover:{scale:.99},transition:{type:"spring",damping:20,stiffness:300},children:[0===t?(0,s.jsx)(r.P.div,{className:"w-5 h-5 rounded-full bg-highlight/10 flex items-center justify-center flex-shrink-0",whileHover:{scale:.95},transition:{type:"spring",damping:15,stiffness:400},children:(0,s.jsx)(r.P.div,{variants:tf,animate:"animate",children:(0,s.jsx)(c.Qp1,{scale:.2,className:"text-lg text-highlight"})})}):(0,s.jsx)(r.P.div,{className:"w-5 h-5 rounded-full bg-secondary/10 flex items-center justify-center flex-shrink-0",initial:{opacity:0,rotate:-180},animate:{opacity:1,rotate:0},transition:{type:"spring",damping:15,stiffness:300,delay:.1*t},children:(0,s.jsx)("p",{className:"text-secondary text-xs",children:t})}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsx)("div",{className:"relative overflow-hidden",children:(0,s.jsx)(z.N,{mode:"wait",initial:!1,children:n?(0,s.jsx)(r.P.div,{variants:tp,initial:{x:20,opacity:0},animate:"error",exit:"exit",layout:!0,children:(0,s.jsxs)(r.P.div,{className:"bg-highlight/10 border border-highlight/20 rounded p-3",initial:{opacity:0},animate:{opacity:1},transition:{type:"spring",damping:20,stiffness:300},children:[(0,s.jsxs)(r.P.div,{className:"flex items-start justify-between gap-2 mb-2",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:[(0,s.jsxs)("h4",{className:"text-xs font-semibold text-highlight flex items-center gap-1",children:[(0,s.jsx)(r.P.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,delay:.2},children:(0,s.jsx)(c.FSj,{className:"text-sm"})}),"Self Healing Details"]}),(0,s.jsxs)(r.P.div,{className:"flex items-center gap-1 flex-shrink-0",initial:{x:10,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:[(0,s.jsx)(v,{copyText:e.error_message}),(0,s.jsx)(r.P.div,{variants:tx,whileHover:"hover",whileTap:"tap",children:(0,s.jsx)(m.$,{onClick:()=>f(t),className:"text-highlight hover:text-primary w-9 h-9 bg-none",variant:"default",children:(0,s.jsx)(r.P.div,{animate:{rotate:180*!!n},transition:{duration:.3},children:(0,s.jsx)(ei.W0M,{})})})})]})]}),(0,s.jsx)(r.P.div,{className:"text-sm text-highlight font-mono whitespace-pre-wrap break-words max-h-32 overflow-y-auto",initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:e.error_message})]})},"error"):(0,s.jsx)(r.P.div,{variants:tp,initial:{x:-20,opacity:0},animate:"feedback",exit:"exit",layout:!0,children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(r.P.div,{className:"flex-1 min-w-0 cursor-pointer",onClick:h,whileHover:{x:2},whileTap:{scale:.98},children:(0,s.jsx)(z.N,{mode:"wait",children:(0,s.jsx)(r.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{type:"spring",damping:20,stiffness:300},children:(0,s.jsx)(H,{text:e.feedback,variant:0===t?"highlight":"secondary"})},"feedback")})}),(0,s.jsxs)(r.P.div,{className:"flex items-center gap-1 flex-shrink-0",initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:[!o&&(0,s.jsxs)(P.m_,{children:[(0,s.jsx)(P.k$,{asChild:!0,children:(0,s.jsx)(v,{copyText:e.feedback})}),(0,s.jsx)(P.ZI,{children:(0,s.jsx)("p",{children:"Copy feedback"})})]}),o&&(0,s.jsxs)(P.m_,{children:[(0,s.jsx)(P.k$,{asChild:!0,children:(0,s.jsx)(r.P.button,{onClick:()=>f(t),className:`p-1.5 rounded ${0===t?"text-highlight/60 hover:text-highlight":"text-secondary/60 hover:text-secondary"}`,variants:tx,whileHover:"hover",whileTap:"tap",children:(0,s.jsx)(r.P.div,{animate:{rotate:180*!!n},transition:{duration:.3},children:(0,s.jsx)(c.FSj,{})})})}),(0,s.jsx)(P.ZI,{children:(0,s.jsx)("p",{children:"Show details"})})]})]})]})},"feedback")})})})]})})};return(0,s.jsx)(r.P.div,{className:"w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",damping:25,stiffness:120,duration:.6},layout:!0,children:(0,s.jsx)("div",{className:"w-full",children:l?(0,s.jsxs)(r.P.div,{className:"flex flex-col w-full",initial:"hidden",animate:"visible",variants:tm,children:[(0,s.jsx)(r.P.div,{variants:tg,initial:"collapsed",animate:t&&u.length>1?"expanded":"collapsed",className:"overflow-hidden",children:(0,s.jsx)(r.P.div,{className:"flex flex-col gap-2 w-full pb-2",children:(0,s.jsx)(z.N,{children:u.slice(0,-1).reverse().map((e,t)=>(0,s.jsx)(r.P.div,{className:"opacity-75 w-full",initial:{opacity:0,y:-20},animate:{opacity:.75,y:0},exit:{opacity:0,y:-20},transition:{delay:.05*t,type:"spring",damping:20,stiffness:300},whileHover:{opacity:1,transition:{duration:.2}},children:p(e,t+1,!0)},`old-error-${t}`))})})}),(0,s.jsx)(r.P.div,{className:"w-full",layout:!0,transition:{type:"spring",damping:20,stiffness:300},children:p(d,0)})]}):p(d,0)})})}),tb=({messages:e,_collapsed:t,messagesEndRef:a,conversationID:i,queryID:r,finished:o,query_start:l,query_end:c,NER:d,feedback:u,updateFeedback:h,addDisplacement:m,addDistortion:f,handleSendQuery:p,isLastQuery:g,onExpand:x})=>{let[y,b]=(0,n.useState)([]),[v,w]=(0,n.useState)(t),{socketOnline:j}=(0,n.useContext)(es.d),{buildRefMap:k,currentView:T,currentPayload:I,currentResultPayload:C,currentResultType:E,handleViewChange:S,handleResultPayloadChange:q}=(0,n.useContext)(N);(0,n.useEffect)(()=>{let t=e.filter(e=>"training_update"!==e.type);b(t),m(.1),f(.08),k(t)},[e,m,f]),(0,n.useEffect)(()=>{w(t)},[t]);let A=n.useMemo(()=>{let e=[],t=y.filter(e=>"User"!==e.type&&"suggestion"!==e.type),a=0;for(;a<t.length;){let s=t[a];if("result"===s.type&&s.payload.type&&s.payload.metadata?.collection_name){let n=s.payload,i=[n],r=a+1;for(;r<t.length;){let e=t[r];if("result"===e.type){let t=e.payload;if(t.type===n.type&&t.metadata?.collection_name)i.push(t),r++;else break}else break}if(i.length>1){e.push({type:"merged_result",id:s.id,originalMessage:s,payloadsToMerge:i}),a=r;continue}}if("text"===s.type&&"response"===s.payload.type){let n=s.payload,i=Array.isArray(n.objects)?[...n.objects]:[],r=a+1;for(;r<t.length;){let e=t[r];if("text"===e.type&&"response"===e.payload.type){let t=e.payload.objects;Array.isArray(t)&&i.push(...t),r++}else break}if(r>a+1){let t={type:"text",id:s.id,user_id:s.user_id,conversation_id:s.conversation_id,query_id:s.query_id,payload:{type:"response",metadata:n.metadata,objects:i}};e.push(t),a=r;continue}}if("self_healing_error"===s.type){let n=[s.payload],i=a+1;for(;i<t.length;){let e=t[i];if("self_healing_error"===e.type)n.push(e.payload),i++;else break}if(i>a+1){let t={type:"self_healing_error",id:s.id,user_id:s.user_id,conversation_id:s.conversation_id,query_id:s.query_id,payload:{type:"merged_self_healing_errors",payloads:n,latest:n[n.length-1]}};e.push(t),a=i;continue}}e.push(s),a++}return e},[y]);return(0,s.jsxs)("div",{className:"flex justify-start items-start w-full p-4 transition-all  duration-300",children:["chat"===T&&(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full relative z-10 rounded-lg",children:[y.filter(e=>"User"===e.type).map((e,t)=>(0,s.jsx)("div",{className:"w-full flex",children:"User"===e.type&&(0,s.jsx)(_,{NER:d,onClick:()=>{w(e=>!e),v&&x&&x(r)},payload:e.payload.objects,collapsed:v},`${t}-${e.id}-user`)},`${t}-${e.id}-message`)),!v&&y.length<2&&j&&!o&&(0,s.jsxs)("div",{className:"w-full flex-col flex gap-2 justify-start items-start fade-in",children:[(0,s.jsx)(ea.E,{className:"w-full h-[1rem]"}),(0,s.jsx)(ea.E,{className:"w-1/2 h-[1rem]"}),(0,s.jsx)(ea.E,{className:"w-2/5 h-[1rem]"}),(0,s.jsx)(ea.E,{className:"w-2/5 h-[1rem]"})]}),!v&&(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("div",{className:"flex flex-col gap-5",children:A.map((e,t)=>{let a="merged_result"===e.type?e.originalMessage:e,n=`${t}-${a.id}-processed-item`;return(0,s.jsx)(L,{_payload:a.payload,children:(0,s.jsxs)("div",{className:"w-full flex",children:["merged_result"===e.type&&(0,s.jsx)("div",{className:"w-full flex flex-row justify-start items-start gap-3",children:(0,s.jsx)(e9,{payloadsToMerge:e.payloadsToMerge,baseKey:`${t}-${e.id}`,messageId:e.id,handleViewChange:S,handleResultPayloadChange:q})}),"merged_result"!==e.type&&"result"===a.type&&(0,s.jsxs)("div",{className:"w-full flex flex-col justify-start items-start gap-3",children:[a.payload.code&&(0,s.jsx)(Q,{payload:[a.payload],merged:!1,handleViewChange:S}),(0,s.jsx)(e5,{payload:a.payload,index:t,messageId:a.id,handleResultPayloadChange:q})]}),"merged_result"!==e.type&&"text"===a.type&&(0,s.jsxs)("div",{className:"w-full flex flex-col justify-start items-start ",children:["response"===a.payload.type&&(0,s.jsx)(F,{payload:a.payload.objects},`${t}-${a.id}-response`),"summary"===a.payload.type&&(0,s.jsx)(U,{payload:a.payload.objects},`${t}-${a.id}-summary`),"text_with_citations"===a.payload.type&&(0,s.jsx)(tc,{payload:a.payload},`${t}-${a.id}-summary`)]}),"merged_result"!==e.type&&["error","authentication_error"].includes(a.type)&&(0,s.jsx)(O,{error:a.payload.text},`${t}-${a.id}-error`),"merged_result"!==e.type&&["tree_timeout_error","user_timeout_error"].includes(a.type)&&(0,s.jsx)(et,{info:a.payload.text},`${t}-${a.id}-info`),"merged_result"!==e.type&&["rate_limit_error"].includes(a.type)&&(0,s.jsx)(en,{payload:a.payload},`${t}-${a.id}-info`),"merged_result"!==e.type&&"warning"===a.type&&(0,s.jsx)(V,{warning:a.payload.text},`${t}-${a.id}-warning`),"merged_result"!==e.type&&"self_healing_error"===a.type&&(0,s.jsx)(ty,{payload:a.payload},`${t}-${a.id}-self-healing-error`)]},n)},`${t}-${a.id}-display-provider`)})}),o&&(0,s.jsx)(X,{conversationID:i,queryID:r,messages:e,query_start:l,query_end:c,feedback:u,updateFeedback:h}),y.filter(e=>"suggestion"===e.type).map((e,t)=>(0,s.jsx)("div",{className:"w-full flex",children:"suggestion"===e.type&&g&&(0,s.jsx)(eo,{payload:e.payload,handleSendQuery:p},`${t}-${e.id}-suggestion`)},`${t}-${e.id}-message`))]}),!v&&(0,s.jsx)("div",{ref:a}),!j&&(0,s.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,s.jsx)("p",{className:"text-primary text-sm shine",children:"Connection lost. Reconnecting..."})})]}),"code"===T&&(0,s.jsx)("div",{className:"w-full flex flex-col gap-4",children:(0,s.jsx)(th,{payload:I,handleViewChange:S})}),"result"===T&&(0,s.jsx)("div",{className:"w-full flex flex-col gap-4",children:(0,s.jsx)(tl,{payload:C,type:E,handleViewChange:S})})]})};var tv=a(36959),t_=a(81750),tw=a(6793),tj=a(67773),tk=a.n(tj);a(53255);var tN=a(47650);let tT=function({data:e,onNodeClick:t,selected:a}){let[i,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),d=(0,n.useRef)(null),[u,h]=(0,n.useState)({x:0,y:0});(0,n.useEffect)(()=>{let e=()=>{if(d.current&&i){let e=d.current.getBoundingClientRect();h({x:e.left+e.width/2,y:e.top-50})}};if(i)return e(),window.addEventListener("resize",e),window.addEventListener("scroll",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("scroll",e)}},[i]);let m=(0,s.jsxs)("div",{className:"fixed bg-background/95 backdrop-blur-sm text-primary p-3 rounded-lg shadow-2xl border border-foreground/50 z-[10000] transform -translate-x-1/2",style:{top:u.y,left:u.x,pointerEvents:"none"},children:[(0,s.jsx)("p",{className:"text-sm text-primary whitespace-nowrap",children:"Click for more details"}),(0,s.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-[6px] border-r-[6px] border-t-[6px] border-transparent border-t-foreground/50"})]});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{ref:d,draggable:!1,className:"flex gap-2",children:(0,s.jsxs)(r.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1,y:e.choosen?[0,-2,0]:0},transition:{duration:.5,ease:"easeOut",y:{repeat:e.choosen?1/0:0,duration:2,ease:"easeInOut"}},whileHover:{scale:1.05,y:-8,rotateZ:+!e.choosen},whileTap:{scale:.98},onMouseEnter:e=>{e.stopPropagation(),c(!0),o(!0)},onMouseLeave:e=>{e.stopPropagation(),c(!1),o(!1)},onClick:a=>{a.stopPropagation(),t&&t(e)},className:`
            w-[300px] h-[100px] cursor-pointer p-8 flex items-center justify-center rounded-lg
            transition-all duration-300 relative overflow-hidden
            ${e.choosen?"bg-gradient-to-br from-accent/25 to-accent/10 text-accent border-2 border-accent shadow-lg shadow-accent/30 backdrop-blur-sm":"bg-background_alt/70 text-secondary/60 border border-secondary/30 hover:border-secondary/50"}
            ${a?"ring-4 ring-highlight ring-opacity-80 shadow-2xl shadow-highlight/20":""}
            ${l&&!e.choosen?"bg-background_alt/90 text-secondary/80 border-secondary/60 shadow-lg":""}
            ${l&&e.choosen?"shadow-2xl shadow-accent/40":""}
          `,style:{boxShadow:e.choosen?l?"0 0 30px rgba(var(--accent) / 0.4), inset 0 1px 0 rgba(255,255,255,0.15), 0 20px 40px rgba(var(--accent) / 0.1)":"0 0 20px rgba(var(--accent) / 0.3), inset 0 1px 0 rgba(255,255,255,0.1)":l?"0 10px 30px rgba(0,0,0,0.1), 0 0 20px rgba(var(--secondary) / 0.1)":"none"},children:[e.choosen&&(0,s.jsx)(r.P.div,{className:"absolute inset-0 rounded-lg border-2 border-accent/40",animate:{scale:[1,1.05,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),(0,s.jsx)(t_.h7,{type:"target",position:tw.yX.Top,className:e.choosen?"!bg-accent !border-accent":"!bg-secondary/40 !border-secondary/40"}),(0,s.jsx)(r.P.p,{className:`font-bold text-lg truncate z-10 relative transition-all duration-300 ${e.choosen?"text-accent":l?"text-secondary/90":"text-secondary/60"}`,animate:e.choosen?{textShadow:["0 0 5px rgba(var(--accent) / 0.5)","0 0 10px rgba(var(--accent) / 0.3)","0 0 5px rgba(var(--accent) / 0.5)"]}:l?{textShadow:"0 0 8px rgba(var(--secondary) / 0.3)"}:{},transition:{duration:e.choosen?2:.3,repeat:e.choosen?1/0:0,ease:"easeInOut"},children:e.text}),(0,s.jsx)(t_.h7,{type:"source",position:tw.yX.Bottom,id:"a",className:e.choosen?"!bg-accent !border-accent":"!bg-secondary/40 !border-secondary/40"})]})}),i&&tN.createPortal(m,document.body)]})},tI=({isOpen:e,nodeData:t,onClose:a})=>(0,s.jsx)(z.N,{children:e&&t&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(r.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:20,stiffness:300},className:"fixed right-0 top-0 h-full w-96 bg-background border-l border-border z-50 shadow-2xl",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-border",children:[(0,s.jsx)("div",{className:"flex items-center justify-end",children:(0,s.jsx)(m.$,{onClick:a,className:"bg-error/10 text-error border-error border w-8 h-8",children:(0,s.jsx)(ei.WQq,{size:20})})}),(0,s.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[(0,s.jsx)("div",{className:"bg-accent/10 text-accent border border-accent/20 p-2 rounded-md w-9 h-9 flex items-center justify-center",children:(0,s.jsx)(Y.APZ,{size:16})}),(0,s.jsx)("h3",{className:"text-primary truncate font-bold",children:t.text})]}),t.choosen&&(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-accent/20 text-accent",children:"Selected Path"})})]}),(0,s.jsxs)("div",{className:"p-6 overflow-y-scroll h-[calc(100vh-140px)] flex flex-col gap-4",children:[t.reasoning&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-alt_color_a uppercase tracking-wide",children:"Reasoning"}),(0,s.jsx)("div",{className:"p-4 bg-alt_color_a/5 border border-alt_color_a/20 rounded-lg",children:(0,s.jsx)("p",{className:"text-primary text-sm leading-relaxed whitespace-pre-wrap",children:t.reasoning})})]}),t.description&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-accent uppercase tracking-wide",children:"Description"}),(0,s.jsx)("div",{className:"p-4 bg-accent/5 border border-accent/20 rounded-lg",children:(0,s.jsx)("p",{className:"text-primary text-sm leading-relaxed whitespace-pre-wrap",children:t.description})})]}),t.instruction&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-highlight uppercase tracking-wide",children:"Instructions"}),(0,s.jsx)("div",{className:"p-4 bg-highlight/5 border border-highlight/20 rounded-lg",children:(0,s.jsx)("p",{className:"text-primary text-sm leading-relaxed whitespace-pre-wrap",children:t.instruction})})]}),t.originalId&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-secondary uppercase tracking-wide",children:"Metadata"}),(0,s.jsx)("div",{className:"p-4 bg-secondary/5 border border-secondary/20 rounded-lg",children:(0,s.jsxs)("p",{className:"text-primary text-xs font-mono",children:["ID: ",t.originalId]})})]})]})]})})}),tC=({currentTrees:e})=>{let[t,a,i]=(0,t_.ck)([]),[r,o,l]=(0,t_.fM)([]),[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(null),[m,f]=(0,n.useState)(null),p=e=>{h(e),f(e.originalId||null),d(!0)},g=(0,n.useMemo)(()=>({decision:e=>(0,s.jsx)(tT,{...e,onNodeClick:p,selected:m===e.data.originalId})}),[m]),x=new(tk()).graphlib.Graph().setDefaultEdgeLabel(()=>({}));(0,n.useEffect)(()=>{if(e.length>0){let t,s=[],n=[],i=[];(e.length>1?e.slice(0,-1):e).forEach((e,t)=>{let a,s,n,r,o,l,c=(a=[],s=[],n=0,r=new Map,(o=(e,i=null)=>{let l=`node-${n++}-${t}`;r.set(e.id,l),a.push({id:l,type:"decision",data:{text:e.name,description:e.description,choosen:e.choosen,instruction:e.instruction,reasoning:e.reasoning,originalId:e.id},position:{x:0,y:0}}),i&&s.push({id:`edge-${i}-${l}`,source:i,target:l,type:"smoothstep",animated:e.choosen,style:e.choosen?{stroke:"hsl(var(--accent))",strokeWidth:3,filter:"drop-shadow(0 0 6px hsl(var(--accent) / 0.6))"}:{stroke:"hsl(var(--secondary) / 0.3)",strokeWidth:1}}),e.options&&Object.keys(e.options).length>0&&Object.keys(e.options).forEach(t=>{o(e.options[t],l)})})(e),{...((e,t,a="TB")=>{let s="LR"===a;return x.setGraph({rankdir:a,ranksep:120,nodesep:150}),e.forEach(e=>{x.setNode(e.id,{width:300,height:100})}),t.forEach(e=>{x.setEdge(e.source,e.target)}),tk().layout(x),{nodes:e.map(e=>{let t=x.node(e.id);return{...e,targetPosition:s?tw.yX.Left:tw.yX.Top,sourcePosition:s?tw.yX.Right:tw.yX.Bottom,position:{x:t.x-150,y:t.y-50}}}),edges:t}})(a,s),nodeMap:r,leafNodeId:(l=(e,t)=>{let a=t||r.get(e.id);if(!a)return null;if(e.choosen&&(!e.options||0===Object.keys(e.options).length))return a;if(e.options&&Object.keys(e.options).length>0)for(let t of Object.keys(e.options)){let a=e.options[t];if(a.choosen){let e=l(a);if(e)return e}}return null})(e),rootNodeId:a.length>0?a[0].id:null});i.push(c)}),t=0,i.forEach((e,a)=>{let r=a%2==0,o=r?-.3:.3,l=r?-(800*Math.abs(Math.sin(.5*a))):800*Math.abs(Math.sin(.5*a)),c=e.nodes.map((e,s)=>{let n=e.position.y/100,i=l+50*Math.cos(a+.3*s),r=t+30*Math.sin(.4*a+.2*s);return{...e,position:{x:0+e.position.x+i+n*o*100,y:r+e.position.y}}});if(s=[...s,...c],n=[...n,...e.edges],a<i.length-1&&e.leafNodeId&&i[a+1].rootNodeId){let t=i[a+1].rootNodeId;n.push({id:`inter-tree-edge-${a}-${a+1}`,source:e.leafNodeId,target:t,type:"smoothstep",animated:!0,style:{stroke:"hsl(var(--highlight))",strokeWidth:5,strokeDasharray:"8,4",filter:"drop-shadow(0 0 12px hsl(var(--highlight) / 0.6)) drop-shadow(0 0 24px hsl(var(--highlight) / 0.3))",background:"linear-gradient(90deg, hsl(var(--highlight)), hsl(var(--accent)))"},label:`Query ${a+2}`,labelStyle:{fill:"hsl(var(--highlight))",fontWeight:"bold",fontSize:"14px",textShadow:"0 0 8px hsl(var(--highlight) / 0.8)"},labelBgStyle:{fill:"hsl(var(--background))",fillOpacity:.9,stroke:"hsl(var(--highlight))",strokeWidth:2,filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.3))"}})}let d=e.nodes.length>0?Math.max(...e.nodes.map(e=>e.position.y))-Math.min(...e.nodes.map(e=>e.position.y))+100:100;t+=d+400+50*a}),a(s),o(n),v.current=!1}else a([]),o([])},[e]);let[y,b]=(0,n.useState)(null),v=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{y&&t.length>0&&!v.current&&setTimeout(()=>{y.fitView({duration:1500,minZoom:.1,maxZoom:1,padding:.2}),v.current=!0},100)},[y,t]),(0,s.jsxs)("div",{className:"flex justify-center w-full items-center overflow-hidden transition-all duration-300 relative",children:[(0,s.jsx)("div",{style:{width:"100vw",height:"100vh"},children:(0,s.jsx)(t_.Gc,{nodes:t,edges:r,nodeTypes:g,onNodesChange:i,connectionLineType:tw.Do.SmoothStep,onEdgesChange:l,nodesDraggable:!1,draggable:!0,panOnDrag:!0,zoomOnScroll:!0,minZoom:.1,maxZoom:2,onInit:b,className:"transition-all duration-300",children:(0,s.jsx)(t_.VS,{gap:20,size:2,color:"hsl(var(--foreground))"})})}),(0,s.jsx)(tI,{isOpen:c,nodeData:u,onClose:()=>{d(!1),h(null),f(null)}})]})};var tE=a(29356);let tS=({message:e,messageIndex:t})=>(0,s.jsx)("div",{className:"flex flex-col w-full",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("p",{className:`${"system"===e.role?"text-accent":"user"===e.role?"text-primary":"text-highlight"} text-xs`,children:e.role}),(0,s.jsx)(H,{text:e.content})]})},"message"+t),tq=({chat:e,chatIndex:t})=>(0,s.jsxs)("div",{className:"flex flex-col gap-6 p-4",children:[(0,s.jsxs)("p",{children:["Chat ",t+1]}),(0,s.jsx)("div",{className:"bg-foreground max-h-[40vh] overflow-y-auto p-4 rounded-md gap-4 flex flex-col",children:e.map((e,t)=>(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)(tS,{message:e,messageIndex:t}),(0,s.jsx)(er.w,{})]},"message"+t))})]},"chat"+t),tA=({fetchDebug:e,currentConversation:t,conversations:a})=>{let[i,r]=(0,n.useState)(null),o=async t=>{t&&r(await e(t))};return((0,n.useEffect)(()=>{o(t)},[t,a]),i)?(0,s.jsx)("div",{className:"w-full p-0 lg:p-8 flex flex-col gap-4 items-center justify-start lg:h-[90vh] overflow-y-auto lg:mt-0 mt-4",children:(0,s.jsxs)("div",{className:"w-full lg:w-[60vw] flex flex-col gap-4",children:[(0,s.jsxs)("p",{className:"text-xs text-secondary",children:["Conversation: ",t]}),Object.keys(i).map(e=>(0,s.jsxs)("div",{className:"flex gap-2 flex-col bg-background_alt p-4 rounded-md",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("p",{className:"text-primary",children:i[e].model}),(0,s.jsx)(ef,{children:e})]}),i[e].chat&&i[e].chat.map((t,a)=>(0,s.jsx)(tq,{chat:t,chatIndex:a},e+"chat"+a))]},e))]})}):null};var tP=a(98825);async function tW(e,t){let a=await fetch("/api/get_debug",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,conversation_id:t})}),s=await a.json();if(s.error)throw Error(s.error);return s}var tD=a(74350),tR=a(84375);let tK=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(tR.bL,{ref:a,className:(0,C.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));tK.displayName=tR.bL.displayName;let tL=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(tR._V,{ref:a,className:(0,C.cn)("aspect-square h-full w-full",e),...t}));tL.displayName=tR._V.displayName;let t$=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(tR.H4,{ref:a,className:(0,C.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));t$.displayName=tR.H4.displayName;var tZ=a(84437),tH=a(39658);let tO=()=>{let[e,t]=(0,n.useState)(()=>!localStorage.getItem("dont_show_rate_limit_dialog")),[a,i]=(0,n.useState)(!1),r=e=>{window.open(e,"_blank")};return(0,s.jsx)(tD.lG,{open:e,onOpenChange:()=>{a&&localStorage.setItem("dont_show_rate_limit_dialog","true"),t(!1)},children:(0,s.jsxs)(tD.Cf,{children:[(0,s.jsxs)(tD.c7,{children:[(0,s.jsx)(tD.L3,{children:"Thank you for trying Athena!"}),(0,s.jsx)(tD.rr,{children:"You hit today's rate limit, but no worries, we'll reset it tomorrow!"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsx)("p",{children:"In the meantime, you can follow us on social media to stay updated on Athena, or subscribe to one of our newsletters to get updates on our latest features."}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{children:"Subscribe to our newsletter"}),(0,s.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,s.jsx)(tH.p,{placeholder:"Enter your email",disabled:!0,className:"border-secondary"}),(0,s.jsx)(m.$,{variant:"outline",className:"text-primary border-secondary",disabled:!0,children:"Subscribe"})]})]}),(0,s.jsx)(er.w,{}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-3 lg:justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,s.jsxs)(tK,{children:[(0,s.jsx)(tL,{src:"https://media.licdn.com/dms/image/v2/D4D0BAQFfgBLRA2U4Og/company-logo_200_200/company-logo_200_200/0/1698828873823/weaviate_io_logo?e=1747872000&v=beta&t=7pT2HiWmf65d6gnJGebFDriKy_3Ml08On_ELqmD3XAs",alt:"@weaviate"}),(0,s.jsx)(t$,{children:"Weaviate"})]}),(0,s.jsx)("p",{children:"Weaviate"})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,s.jsxs)(m.$,{variant:"ghost",onClick:()=>r("https://www.linkedin.com/company/weaviate-io/posts/?feedView=all"),children:[(0,s.jsx)(c.QEs,{className:"text-primary"})," LinkedIn"]}),(0,s.jsxs)(m.$,{variant:"ghost",onClick:()=>r("https://x.com/weaviate_io"),children:[(0,s.jsx)(Y.MLP,{className:"text-primary"})," X"]}),(0,s.jsxs)(m.$,{variant:"ghost",onClick:()=>r("https://newsletter.weaviate.io/"),children:[(0,s.jsx)(Y.Nhm,{className:"text-primary"})," Newsletter"]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-3 lg:justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,s.jsxs)(tK,{children:[(0,s.jsx)(tL,{src:"https://media.licdn.com/dms/image/v2/C5603AQGp4PgKAHLdoQ/profile-displayphoto-shrink_400_400/profile-displayphoto-shrink_400_400/0/1571675697175?e=1745452800&v=beta&t=UTDpZtOEpJetUHsoIgJbEIY4-5YITAvLmyDNCMFtdyA",alt:"@danny"}),(0,s.jsx)(t$,{children:"Danny Williams"})]}),(0,s.jsx)("p",{children:"Danny Williams"})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,s.jsxs)(m.$,{variant:"ghost",onClick:()=>r("https://www.linkedin.com/in/dannyjameswilliams/"),children:[(0,s.jsx)(c.QEs,{className:"text-primary"})," LinkedIn"]}),(0,s.jsxs)(m.$,{variant:"ghost",onClick:()=>r("https://x.com/drdannywilliams"),children:[(0,s.jsx)(Y.MLP,{className:"text-primary"})," X"]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-3 lg:justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,s.jsxs)(tK,{children:[(0,s.jsx)(tL,{src:"https://media.licdn.com/dms/image/v2/D4D03AQERM97c20Fx2A/profile-displayphoto-shrink_400_400/profile-displayphoto-shrink_400_400/0/1707575479597?e=1745452800&v=beta&t=bDGsQFmXa5ISIEIQgQTFQ8aJfTKN3JnpSikYDqnakJY",alt:"@edward"}),(0,s.jsx)(t$,{children:"Edward"})]}),(0,s.jsx)("p",{children:"Edward Schmuhl"})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,s.jsxs)(m.$,{variant:"ghost",onClick:()=>r("https://www.linkedin.com/in/edwardschmuhl/"),children:[(0,s.jsx)(c.QEs,{className:"text-primary"})," LinkedIn"]}),(0,s.jsxs)(m.$,{variant:"ghost",onClick:()=>r("https://x.com/aestheticedwar1"),children:[(0,s.jsx)(Y.MLP,{className:"text-primary"})," X"]})]})]})]}),(0,s.jsxs)(tD.Es,{className:"flex flex-col lg:flex-row justify-center lg:justify-between w-full gap-4 mt-5",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(tZ.S,{id:"dontshowagain",checked:a,onCheckedChange:()=>{i(e=>!e)}}),(0,s.jsx)("p",{className:"text-sm",children:"Don't show again"})]}),(0,s.jsx)(m.$,{variant:"outline",onClick:()=>{a&&localStorage.setItem("dont_show_rate_limit_dialog","true"),t(!1)},children:"Got it!"})]})]})})};var tz=a(37206);async function tM(){performance.now();try{let e=await fetch(`${tn.Hc}/user/config/models`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)return console.error(`Error fetching models! status: ${e.status} ${e.statusText}`),{models:{},error:"Error fetching models"};return await e.json()}catch(e){return console.error(e instanceof Error?e.message:String(e)),{models:{},error:"Error fetching models"}}finally{}}var tB=a(35815),tF=a.n(tB);async function tV(e,t){performance.now();try{if(!e||!t)return{error:"No user id or conversation id",config:null};let a=await fetch(`${tn.Hc}/tree/config/${e}/${t}`,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(!a.ok)return console.error(`Get Tree Config error! status: ${a.status} ${a.statusText}`),{error:`Get Tree Config error! status: ${a.status} ${a.statusText}`,config:null};return await a.json()}catch(e){return console.error("Get Tree Config error:",e),{error:e,config:null}}finally{}}async function tU(e,t,a){performance.now();try{if(!e||!t||!a)return{error:"No user id or backend config",config:null};let s=await fetch(`${tn.Hc}/tree/config/${e}/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)return console.error(`Saving Tree Config error! status: ${s.status} ${s.statusText}`),{error:`Saving Tree Config error! status: ${s.status} ${s.statusText}`,config:null};return await s.json()}catch(e){return console.error("Saving Tree Config error:",e),{error:e,config:null}}finally{}}async function tG(e,t){performance.now();try{if(!e||!t)return{error:"No user id or conversation id",config:null};let a=await fetch(`${tn.Hc}/tree/config/${e}/${t}/new`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!a.ok)return console.error(`New Tree Config error! status: ${a.status} ${a.statusText}`),{error:`New Tree Config error! status: ${a.status} ${a.statusText}`,config:null};return await a.json()}catch(e){return console.error("New Tree Config error:",e),{error:e,config:null}}finally{}}function tY(e,t,a){let s=(0,n.useMemo)(()=>{if(!e)return{wcd_url:!1,wcd_api_key:!1,base_provider:!1,base_model:!1,complex_provider:!1,complex_model:!1,custom_weaviate_http_host:!1,custom_weaviate_grpc_host:!1,custom_storage_http_host:!1,custom_storage_grpc_host:!1};let a=e.settings?.WEAVIATE_IS_LOCAL,s=e.settings?.WEAVIATE_IS_CUSTOM,n=t?.save_location_weaviate_is_custom;return{wcd_url:!!s||!!e.settings.WCD_URL?.trim(),wcd_api_key:!!a||!!s||!!e.settings.WCD_API_KEY?.trim(),base_provider:!!e.settings.BASE_PROVIDER?.trim(),base_model:!!e.settings.BASE_MODEL?.trim(),complex_provider:!!e.settings.COMPLEX_PROVIDER?.trim(),complex_model:!!e.settings.COMPLEX_MODEL?.trim(),custom_weaviate_http_host:!s||!!e.settings.CUSTOM_HTTP_HOST?.trim(),custom_weaviate_grpc_host:!s||!!e.settings.CUSTOM_GRPC_HOST?.trim(),custom_storage_http_host:!n||!!t?.save_location_custom_http_host?.trim(),custom_storage_grpc_host:!n||!!t?.save_location_custom_grpc_host?.trim()}},[e,t]),i=(0,n.useMemo)(()=>{if(!e||!a)return[];let t=[],s=Object.keys(e.settings.API_KEYS||{}).map(e=>e.toLowerCase());if(e.settings.BASE_PROVIDER&&e.settings.BASE_MODEL){let n=a[e.settings.BASE_PROVIDER];n&&n[e.settings.BASE_MODEL]&&n[e.settings.BASE_MODEL].api_keys.forEach(e=>{s.includes(e.toLowerCase())||t.push(e)})}if(e.settings.COMPLEX_PROVIDER&&e.settings.COMPLEX_MODEL){let n=a[e.settings.COMPLEX_PROVIDER];n&&n[e.settings.COMPLEX_MODEL]&&n[e.settings.COMPLEX_MODEL].api_keys.forEach(e=>{s.includes(e.toLowerCase())||t.includes(e)||t.push(e)})}return t},[e,a]),r=(0,n.useMemo)(()=>{let e=[];if(t?.save_configs_to_weaviate||t?.save_trees_to_weaviate){let a=t?.save_location_weaviate_is_local,s=t?.save_location_weaviate_is_custom;s||t?.save_location_wcd_url?.trim()||e.push("Storage URL required when saving is enabled"),a||s||t?.save_location_wcd_api_key?.trim()||e.push("Storage API Key required when saving is enabled"),s&&!t?.save_location_custom_http_host?.trim()&&e.push("Storage HTTP Host required when saving is enabled"),s&&!t?.save_location_custom_grpc_host?.trim()&&e.push("Storage GRPC Host required when saving is enabled")}return e},[t]),o=(0,n.useMemo)(()=>s.wcd_url&&s.wcd_api_key&&s.base_provider&&s.base_model&&s.complex_provider&&s.complex_model&&0===i.length&&0===r.length,[s,i,r]);return{currentValidation:s,getMissingApiKeys:i,getStorageIssues:r,isConfigValid:o,getWeaviateIssues:()=>{let t=[],a=e?.settings?.WEAVIATE_IS_LOCAL,n=e?.settings?.WEAVIATE_IS_CUSTOM;return n||s.wcd_url||t.push("Weaviate Cluster URL"),a||n||e?.settings?.WCD_API_KEY?.trim()||t.push("Weaviate API Key"),n&&!s.custom_weaviate_http_host&&t.push("Custom Weaviate HTTP Host"),n&&!s.custom_weaviate_grpc_host&&t.push("Custom Weaviate GRPC Host"),t},getModelsIssues:()=>{let e=[];return s.base_provider||e.push("Base Provider"),s.base_model||e.push("Base Model"),s.complex_provider||e.push("Complex Provider"),s.complex_model||e.push("Complex Model"),e},getApiKeysIssues:()=>{let e=[];return i.length>0&&i.forEach(t=>{e.push(`Missing API Key: ${t}`)}),e},getAllModelsIssues:()=>{let e=[];return s.base_provider||e.push("Base Provider"),s.base_model||e.push("Base Model"),s.complex_provider||e.push("Complex Provider"),s.complex_model||e.push("Complex Model"),i.length>0&&i.forEach(t=>{e.push(`API Key: ${t}`)}),e}}}var tQ=a(33282);let tJ=({children:e})=>(0,s.jsx)("div",{className:"flex flex-col gap-6 border border-foreground rounded-md p-4",children:e}),tX=({className:e,icon:t,header:a,onClick:n,buttonIcon:i,buttonText:r})=>(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center w-full justify-between gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:`h-7 w-7 ${e} rounded-md flex items-center justify-center`,children:t}),(0,s.jsx)("p",{className:"text-primary text-lg",children:a})]}),n&&(0,s.jsx)("div",{className:"flex items-center justify-end w-full sm:w-auto",children:(0,s.jsxs)(m.$,{variant:"default",onClick:n,className:"flex items-center gap-2 w-full sm:w-[10rem]",children:[i||(0,s.jsx)(d.YHj,{}),r&&(0,s.jsx)("span",{className:"text-sm font-base",children:r})]})})]}),t0=({children:e})=>(0,s.jsx)("div",{className:"flex flex-col gap-4",children:e}),t1=({children:e})=>(0,s.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:e}),t2=({title:e,description:t})=>(0,s.jsxs)("div",{className:"flex flex-col w-full sm:w-1/3 sm:flex-0",children:[(0,s.jsx)("div",{className:"flex items-center justify-start gap-2",children:(0,s.jsx)("p",{className:"text-primary font-bold",children:e})}),(0,s.jsx)("p",{className:"text-sm text-secondary",children:t})]}),t4=({onChange:e,value:t,labels:a,icons:n=[],disabled:i=!1})=>{let o=a.indexOf(t),l=a.length;return(0,s.jsx)("div",{className:"flex flex-1 items-center justify-start",children:(0,s.jsxs)(r.P.div,{className:`relative flex items-center rounded-lg border-2 p-1 transition-all duration-300 ${i?"border-muted bg-muted/20 cursor-not-allowed":"border-foreground bg-background cursor-pointer hover:shadow-md"}`,whileHover:i?{}:{scale:1.02},whileTap:i?{}:{scale:.98},children:[(0,s.jsx)(r.P.div,{className:"absolute top-1 bottom-1 rounded-md transition-all duration-300",animate:{left:o>=0?`calc(${o/l*100}% + 4px)`:"4px",right:o>=0?`calc(${(l-o-1)/l*100}% + 4px)`:"4px"},transition:{type:"spring",stiffness:300,damping:30}}),a.map((a,o)=>{let l=n[o],c=t===a;return(0,s.jsxs)(r.P.button,{type:"button",className:`relative z-10 flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-300 ${c?i?"text-muted-foreground bg-muted/10 border border-muted":"text-highlight bg-highlight/10 border border-highlight":i?"text-muted-foreground":"text-secondary hover:text-highlight"}`,onClick:()=>!i&&e(a),disabled:i,whileHover:!i&&c?{scale:1.05}:{},children:[l&&(0,s.jsx)(r.P.div,{animate:{rotate:180*!c,scale:c?1:.8},transition:{duration:.3},children:l}),(0,s.jsx)("span",{children:a})]},a)})]})})},t3=({value:e,onChange:t})=>(0,s.jsx)("div",{className:"flex flex-1 items-start justify-start gap-1 w-full sm:w-2/3",children:(0,s.jsx)("textarea",{value:e,className:(0,C.cn)("flex w-full rounded-md border text-sm border-foreground_alt bg-transparent px-3 py-2 shadow-sm transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","resize-y min-h-16 max-h-48"),onChange:e=>t(e.target.value),rows:3})}),t5=({value:e,onChange:t})=>(0,s.jsx)("div",{className:"flex flex-1 items-center justify-start gap-1 w-full sm:w-2/3",children:(0,s.jsx)(tZ.S,{checked:e,onCheckedChange:t})});function t6({currentUserConfig:e,onUpdateFields:t,onUpdateSettings:a,title:n="Agent",showDocumentation:i=!0,showFeedbackSetting:r=!0}){return(0,s.jsxs)(tJ,{children:[(0,s.jsx)(tX,{icon:(0,s.jsx)(ee.mYn,{}),className:"bg-highlight",header:n,buttonIcon:i?(0,s.jsx)(tQ.QrI,{}):void 0,buttonText:i?"Documentation":void 0,onClick:i?()=>{window.open("https://weaviate.github.io/elysia/","_blank")}:void 0}),(0,s.jsxs)(t0,{children:[(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"Description",description:"The description of your agent."}),(0,s.jsx)(t3,{value:e?.agent_description||"",onChange:e=>{t("agent_description",e)}})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"End Goal",description:"The end goal of your agent."}),(0,s.jsx)(t3,{value:e?.end_goal||"",onChange:e=>{t("end_goal",e)}})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"Style",description:"The style of your agent."}),(0,s.jsx)(t3,{value:e?.style||"",onChange:e=>{t("style",e)}})]}),r&&(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"Improve over Time",description:"Automatically uses the complex model for all tasks, unless there are enough previous positive feedback examples generated by the complex model, in which case the task will use the base model. If using this option, you should give feedback after a successful interaction."}),(0,s.jsx)(t5,{value:e?.settings.USE_FEEDBACK||!1,onChange:e=>{a("USE_FEEDBACK",e)}})]})]})]})}let t9=({icon:e,text:t,confirmText:a,confirmIcon:i,onClick:o,variant:l="destructive",size:c="default",classNameDefault:d="",classNameConfirm:u="",disabled:h=!1,timerDuration:f=3e3})=>{let[p,g]=(0,n.useState)(!1),[x,y]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let e;return p&&x>0?e=setTimeout(()=>{y(x-100)},100):p&&x<=0&&(g(!1),y(0)),()=>{e&&clearTimeout(e)}},[p,x]),(0,s.jsx)(r.P.div,{variants:{normal:{scale:1,transition:{duration:.4,ease:[.25,.46,.45,.94],type:"spring",stiffness:400,damping:30}},confirming:{scale:1.03,transition:{duration:.5,ease:[.175,.885,.32,1.275],type:"spring",stiffness:300,damping:25}},tap:{scale:.97,transition:{duration:.15,ease:[.25,.46,.45,.94]}},hover:{scale:1.01,transition:{duration:.3,ease:[.25,.46,.45,.94]}}},animate:p?"confirming":"normal",whileTap:"tap",whileHover:"hover",className:"relative",children:(0,s.jsxs)(m.$,{variant:l,size:c,className:`relative overflow-hidden transition-all duration-300 ${p?u:d}`,onClick:()=>{h||(p?(g(!1),y(0),o()):(g(!0),y(f)))},disabled:h,children:[(0,s.jsx)(z.N,{children:p&&(0,s.jsx)(r.P.div,{variants:{initial:{scaleX:1,opacity:.7},animate:{scaleX:0,opacity:.9,transition:{duration:f/1e3,ease:"linear"}}},initial:"initial",animate:"animate",exit:{opacity:0,transition:{duration:.2}},className:"absolute bottom-0 left-0 h-0.5 bg-white/30 w-full origin-left",style:{transformOrigin:"left center"}},"progress-bar")}),(0,s.jsxs)(r.P.div,{className:`flex items-center justify-center ${t?"gap-2":""}`,layout:!0,transition:{duration:.4,ease:[.25,.46,.45,.94],type:"spring",stiffness:400,damping:30},children:[(0,s.jsx)(z.N,{mode:"wait",children:!p&&(0,s.jsx)(r.P.span,{variants:{visible:{opacity:1,scale:1,x:0,rotate:0,transition:{duration:.4,ease:[.25,.46,.45,.94],type:"spring",stiffness:400,damping:30}},hidden:{opacity:0,scale:.7,x:-15,rotate:-10,transition:{duration:.3,ease:[.55,.055,.675,.19]}}},initial:"visible",animate:"visible",exit:"hidden",className:"flex-shrink-0",children:e},"icon")}),(0,s.jsx)(z.N,{mode:"wait",children:(t&&!p||p&&(a||i))&&(0,s.jsx)(r.P.span,{variants:{initial:{opacity:0,y:-15,scale:.95},animate:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:[.25,.46,.45,.94],delay:.1}},exit:{opacity:0,y:15,scale:.95,transition:{duration:.25,ease:[.55,.055,.675,.19]}}},initial:"initial",animate:"animate",exit:"exit",className:"whitespace-nowrap",children:p?a||i:t},p?"confirm-text":"normal-text")})]}),(0,s.jsx)(z.N,{children:p&&(0,s.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:[0,.1,0],transition:{duration:2,repeat:1/0,ease:"easeInOut"}},exit:{opacity:0,transition:{duration:.2}},className:"absolute inset-0 bg-white rounded-[inherit] pointer-events-none"},"pulse-overlay")})]})})};var t8=a(83117),t7=a(66336),ae=a(14801),at=a(89664);let aa=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(ae.uB,{ref:a,className:(0,C.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-background text-primary",e),...t}));aa.displayName=ae.uB.displayName;let as=n.forwardRef(({className:e,...t},a)=>(0,s.jsxs)("div",{className:"flex items-center border-b border-foreground px-3","cmdk-input-wrapper":"",children:[(0,s.jsx)(at.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,s.jsx)(ae.uB.Input,{ref:a,className:(0,C.cn)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm text-primary outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));as.displayName=ae.uB.Input.displayName;let an=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(ae.uB.List,{ref:a,className:(0,C.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));an.displayName=ae.uB.List.displayName;let ai=n.forwardRef((e,t)=>(0,s.jsx)(ae.uB.Empty,{ref:t,className:"py-6 text-center text-sm text-primary",...e}));ai.displayName=ae.uB.Empty.displayName;let ar=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(ae.uB.Group,{ref:a,className:(0,C.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));ar.displayName=ae.uB.Group.displayName,n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(ae.uB.Separator,{ref:a,className:(0,C.cn)("-mx-1 h-px bg-border",e),...t})).displayName=ae.uB.Separator.displayName;let ao=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(ae.uB.Item,{ref:a,className:(0,C.cn)("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm text-primary outline-none hover:bg-accent/20 hover:text-primary data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent/20 data-[selected=true]:text-primary data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));ao.displayName=ae.uB.Item.displayName;var al=a(67198);let ac=al.bL,ad=al.l9;al.Mz;let au=n.forwardRef(({className:e,align:t="center",sideOffset:a=4,...n},i)=>(0,s.jsx)(al.ZL,{children:(0,s.jsx)(al.UC,{ref:i,align:t,sideOffset:a,className:(0,C.cn)("z-50 w-72 rounded-md border border-foreground bg-background p-4 text-primary shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));au.displayName=al.UC.displayName;let ah=({value:e,values:t,onChange:a,placeholder:i="Select...",searchPlaceholder:r="Search...",emptyText:o="No items found.",allowCustom:l=!0,isInvalid:c=!1})=>{let[d,u]=(0,n.useState)(!1),[h,f]=(0,n.useState)(""),p=t.filter(e=>e.toLowerCase().includes(h.toLowerCase())),g=l&&h&&!t.some(e=>e.toLowerCase()===h.toLowerCase());return(0,n.useEffect)(()=>{d||f("")},[d]),(0,s.jsx)("div",{className:"flex flex-1 items-center justify-start gap-1 w-full",children:(0,s.jsxs)(ac,{open:d,onOpenChange:u,children:[(0,s.jsx)(ad,{asChild:!0,children:(0,s.jsxs)(m.$,{role:"combobox","aria-expanded":d,className:(0,C.cn)("w-full justify-between text-left",c&&"border-warning ring-warning/20 border"),children:[(0,s.jsx)("span",{className:"truncate",children:e||i}),(0,s.jsx)(t8.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,s.jsx)(au,{className:"w-[--radix-popover-trigger-width] min-w-[8rem] max-w-[calc(100vw-2rem)] p-0",align:"start",children:(0,s.jsxs)(aa,{children:[(0,s.jsx)(as,{placeholder:r,className:"h-9",value:h,onValueChange:f}),(0,s.jsxs)(an,{children:[!p.length&&!g&&(0,s.jsx)(ai,{children:o}),p.length>0&&(0,s.jsx)(ar,{children:p.map(t=>(0,s.jsxs)(ao,{value:t,onSelect:()=>{a(t===e?"":t),u(!1)},children:[t,(0,s.jsx)(t7.A,{className:(0,C.cn)("ml-auto h-4 w-4",e===t?"opacity-100":"opacity-0")})]},t))}),g&&(0,s.jsx)(ar,{children:(0,s.jsxs)(ao,{value:`create-${h}`,onSelect:()=>{a(h),u(!1),f("")},className:"text-muted-foreground",children:['Create "',h,'"']})})]})]})})]})})},am=({isProtected:e,value:t,onChange:a,isInvalid:i=!1,disabled:r=!1})=>{let[o,l]=(0,n.useState)(e),c="number"==typeof t;return(0,s.jsxs)("div",{className:"flex flex-1 items-center justify-start gap-1 w-full sm:w-2/3",children:[(0,s.jsx)(tH.p,{type:c?"number":o?"password":"text",value:t.toString(),onChange:e=>(e=>{if(c){let t=parseFloat(e);isNaN(t)?""===e&&a(0):a(t)}else a(e)})(e.target.value),disabled:r,className:(0,C.cn)(i&&"border-warning ring-warning/20 focus-visible:ring-warning",r&&"opacity-50 cursor-not-allowed")}),!c&&(0,s.jsx)(m.$,{variant:"ghost",className:"h-8 w-8 text-secondary flex-shrink-0",onClick:()=>l(!o),disabled:r,children:o?(0,s.jsx)(ei.$3n,{}):(0,s.jsx)(ei.M8f,{})})]})};function af({title:e,issues:t}){return(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-start gap-3 p-4 border border-warning bg-warning/10 rounded-md mb-2",children:[(0,s.jsx)(d.tr_,{className:"text-warning flex-shrink-0 mt-0.5",size:20}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("h3",{className:"text-warning font-medium",children:e}),(0,s.jsx)("p",{className:"text-sm text-secondary",children:"The following settings need to be configured:"}),(0,s.jsx)("ul",{className:"text-sm text-secondary list-disc list-inside",children:t.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]})]})}function ap({modelsData:e,provider:t,model:a}){if(!e||!t||!a||!e[t]||!e[t][a])return null;let n=e[t][a];return(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(P.Bc,{children:(0,s.jsxs)(P.m_,{children:[(0,s.jsxs)(P.k$,{className:"text-xs bg-alt_color_a/10 text-alt_color_a border border-alt_color_a hover:bg-alt_color_a/20 flex items-center gap-1 cursor-help px-2 py-1 rounded-md",children:[(0,s.jsx)(c.$BV,{size:10}),n.speed]}),(0,s.jsx)(P.ZI,{children:(0,s.jsx)("p",{children:"Speed: How fast the model processes requests"})})]})}),(0,s.jsx)(P.Bc,{children:(0,s.jsxs)(P.m_,{children:[(0,s.jsxs)(P.k$,{className:"text-xs bg-highlight/10 text-highlight border border-highlight hover:bg-highlight/20 flex items-center gap-1 cursor-help px-2 py-1 rounded-md",children:[(0,s.jsx)(c.RBv,{size:10}),n.accuracy]}),(0,s.jsx)(P.ZI,{children:(0,s.jsx)("p",{children:"Accuracy: How precise and correct the model's responses are"})})]})})]})}function ag({currentUserConfig:e,modelsData:t,loadingModels:a,modelsIssues:n,baseProviderValid:i=!0,baseModelValid:r=!0,complexProviderValid:o=!0,complexModelValid:l=!0,onUpdateSettings:u,onUpdateConfig:h,setChangedConfig:m,showDocumentation:f=!0,title:p="Models",onResetConfig:g}){return(0,s.jsxs)(tJ,{children:[(0,s.jsx)(tX,{icon:(0,s.jsx)(y.VR9,{}),className:"bg-alt_color_a",header:p,buttonIcon:f?(0,s.jsx)(c.y8Q,{}):void 0,buttonText:f?"Available Models":void 0,onClick:f?()=>{window.open("https://openrouter.ai/models","_blank")}:void 0}),n.length>0&&(0,s.jsx)(af,{title:"Model Configuration Required",issues:n}),(0,s.jsxs)(t0,{children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[(0,s.jsx)("div",{className:"flex items-center justify-start gap-2",children:(0,s.jsx)("p",{className:"text-primary font-bold",children:"Base Model"})}),(0,s.jsx)("p",{className:"text-sm text-secondary",children:"Used for the decision agent, as well as any tools requiring simpler tasks that require speed over precision. Can be the same as complex model for consistency at the cost of performance."})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4 w-full",children:[(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("p",{className:"text-sm text-secondary mb-2",children:"Provider"}),(0,s.jsx)(ah,{value:e?.settings.BASE_PROVIDER||"",values:t?Object.keys(t):[],onChange:t=>{e&&(h({...e,settings:{...e.settings,BASE_PROVIDER:t,BASE_MODEL:""}}),m(!0))},placeholder:a?"Loading providers...":"Select provider...",searchPlaceholder:"Search providers...",isInvalid:!i})]}),e?.settings.BASE_PROVIDER&&(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-2",children:[(0,s.jsx)("p",{className:"text-sm text-secondary",children:"Model"}),(0,s.jsx)(ap,{modelsData:t,provider:e?.settings.BASE_PROVIDER||"",model:e?.settings.BASE_MODEL||""})]}),(0,s.jsx)(ah,{value:e?.settings.BASE_MODEL||"",values:t&&e?.settings.BASE_PROVIDER?Object.keys(t[e.settings.BASE_PROVIDER]||{}):[],onChange:e=>{u("BASE_MODEL",e)},placeholder:a?"Loading models...":"Select model...",searchPlaceholder:"Search models...",isInvalid:!r})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[(0,s.jsx)("div",{className:"flex items-center justify-start gap-2",children:(0,s.jsx)("p",{className:"text-primary font-bold",children:"Complex Model"})}),(0,s.jsx)("p",{className:"text-sm text-secondary",children:"Used in tools that require complex tasks requiring higher precision and reasoning, such as the query and aggregate tools. Speed may be slower but quality is higher. Can be the same as base model."})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4 w-full",children:[(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("p",{className:"text-sm text-secondary mb-2",children:"Provider"}),(0,s.jsx)(ah,{value:e?.settings.COMPLEX_PROVIDER||"",values:t?Object.keys(t):[],onChange:t=>{e&&(h({...e,settings:{...e.settings,COMPLEX_PROVIDER:t,COMPLEX_MODEL:""}}),m(!0))},placeholder:a?"Loading providers...":"Select provider...",searchPlaceholder:"Search providers...",isInvalid:!o})]}),e?.settings.COMPLEX_PROVIDER&&(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-2",children:[(0,s.jsx)("p",{className:"text-sm text-secondary",children:"Model"}),(0,s.jsx)(ap,{modelsData:t,provider:e?.settings.COMPLEX_PROVIDER||"",model:e?.settings.COMPLEX_MODEL||""})]}),(0,s.jsx)(ah,{value:e?.settings.COMPLEX_MODEL||"",values:t&&e?.settings.COMPLEX_PROVIDER?Object.keys(t[e.settings.COMPLEX_PROVIDER]||{}):[],onChange:e=>{u("COMPLEX_MODEL",e)},placeholder:a?"Loading models...":"Select model...",searchPlaceholder:"Search models...",isInvalid:!l})]})]})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"API Base URL",description:"Use this to specify custom endpoints for accessing models, such as self-hosted or private models"}),(0,s.jsx)(am,{isProtected:!1,value:e?.settings.MODEL_API_BASE||"",onChange:e=>{u("MODEL_API_BASE",e)}})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 bg-highlight/10 rounded-lg p-3 text-sm text-highlight",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-1 items-center",children:[(0,s.jsx)(d.TBY,{className:"text-highlight"}),(0,s.jsx)("p",{className:"font-bold text-highlight",children:"Note"})]}),(0,s.jsx)("p",{children:"You can use the same model for both base and complex tasks. Using different models allows you to balance speed vs quality - faster models for simple tasks and more capable models for complex reasoning."})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 bg-alt_color_b/10 rounded-lg p-3 text-sm text-alt_color_b",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-1 items-center",children:[(0,s.jsx)(d.TBY,{className:"text-alt_color_b"}),(0,s.jsx)("p",{className:"font-bold text-alt_color_b",children:"Recommendation"})]}),(0,s.jsx)("p",{children:"Athena is optimized for Gemini models. We recommend using Gemini models over OpenAI models for the best performance if possible."})]}),g&&(0,s.jsx)("div",{className:"flex w-full items-center justify-center pt-4",children:(0,s.jsx)(t9,{onClick:g,text:"Reset Config",icon:(0,s.jsx)(y.Ohx,{}),confirmText:"Are you sure?"})})]})]})}function ax({changedConfig:e,onSaveConfig:t,onCancelConfig:a,onBack:n}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h2",{className:"text-primary",children:"Chat Configuration"}),e&&(0,s.jsx)("div",{className:"flex flex-row fade-in items-center gap-2 bg-highlight text-primary-foreground rounded-md px-2 py-1",children:(0,s.jsx)("p",{className:"text-xs text-background",children:"Modified"})})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,s.jsx)(r.P.div,{animate:e?{rotate:[-2,2,-2,2,0],y:[0,-4,0,-4,0]}:{},transition:{duration:.5,repeat:e?1/0:0,repeatDelay:1,ease:"easeInOut"},children:(0,s.jsxs)(m.$,{disabled:!e,className:"bg-accent text-primary",onClick:t,children:[(0,s.jsx)(c.dIn,{}),"Save"]})}),(0,s.jsx)(m.$,{variant:"destructive",onClick:a,disabled:!e,children:"Cancel"}),(0,s.jsxs)(m.$,{variant:"outline",onClick:n,children:[(0,s.jsx)(y.Ohx,{size:16}),"Back"]})]})]})}function ay({user_id:e,conversation_id:t,selectChat:a}){let{currentConfig:i,changedConfig:o,loading:l,handleSaveConfig:c,resetConfig:d,cancelConfig:u,updateFields:h,updateSettingsFields:m,setCurrentConfig:f}=function(e,t){let[a,s]=(0,n.useState)(null),[i,r]=(0,n.useState)(null),[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!0),u=async()=>{if(!e||!t)return void d(!1);try{d(!0);let a=await tV(e,t);a.config&&(s(a.config),r({...a.config}),l(!1))}catch(e){console.error("Failed to fetch tree config:",e)}finally{d(!1)}},h=async()=>{if(i){let a=await tU(e,t,i);a.config&&(s({...a.config}),r({...a.config}),l(!1))}},m=async()=>{let a=await tG(e,t);a.config&&(s({...a.config}),r({...a.config}),l(!1))};return(0,n.useEffect)(()=>{u()},[e,t]),(0,n.useEffect)(()=>{i&&a&&l(!tF()(i,a))},[i,a]),{originalConfig:a,currentConfig:i,changedConfig:o,loading:c,handleSaveConfig:h,resetConfig:m,cancelConfig:()=>{a&&(r({...a}),l(!1))},updateFields:(e,t)=>{i&&r({...i,[e]:t})},updateSettingsFields:(e,t)=>{i&&("string"==typeof e?r({...i,settings:{...i.settings,[e]:t}}):r({...i,settings:{...i.settings,...e}}))},fetchTreeConfig:u,setCurrentConfig:r}}(e,t),[p,g]=(0,n.useState)(null),[x,b]=(0,n.useState)(!0),{getAllModelsIssues:v}=tY(i,null,p);return((0,n.useEffect)(()=>{(async()=>{try{b(!0);let e=await tM();e.error?console.error("Error fetching models:",e.error):g(e.models)}catch(e){console.error("Failed to fetch models:",e)}finally{b(!1)}})()},[]),l)?(0,s.jsx)("div",{className:"flex items-center justify-center h-full w-full",children:(0,s.jsx)("p",{className:"text-primary shine",children:"Loading chat config..."})}):i&&t?(0,s.jsx)("div",{className:"flex flex-col w-full h-screen items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full md:w-[80vw] lg:w-[60vw] min-h-0 h-full fade-in",children:[(0,s.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"md:flex-row flex-col flex items-center justify-between gap-4 w-full pt-2 sm:pt-4 px-2 sm:px-4 lg:px-0",children:(0,s.jsx)(ax,{changedConfig:o,onSaveConfig:c,onCancelConfig:u,onBack:a})}),(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.1},className:"flex flex-col gap-6 h-full overflow-y-auto mb-48 w-full px-2 sm:px-4 lg:px-0 fade-in",children:[(0,s.jsx)(t6,{currentUserConfig:i,onUpdateFields:h,onUpdateSettings:m,title:"Agent Configuration",showDocumentation:!1,showFeedbackSetting:!1}),(0,s.jsx)(ag,{currentUserConfig:i,modelsData:p,loadingModels:x,modelsIssues:v(),onUpdateSettings:m,onUpdateConfig:f,setChangedConfig:()=>{},showDocumentation:!1,onResetConfig:d})]})]})}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full gap-4",children:[(0,s.jsx)("p",{className:"text-secondary",children:t?"No chat configuration found":"No conversation selected"}),(0,s.jsxs)("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 border border-foreground_alt rounded-md hover:bg-foreground_alt/10 transition-colors",children:[(0,s.jsx)(y.Ohx,{size:16}),"Back"]})]})}var ab=a(45726),av=a(83843),a_=a(74903),aw=a(73321);function aj(){let[e,t]=(0,n.useState)(null),a=(0,aw.useRouter)(),i=(0,ab.U)();(0,n.useEffect)(()=>{(async()=>{console.log("UserNav: Fetching session...");let{data:{session:e},error:a}=await i.auth.getSession();a&&console.error("UserNav: Error getting session",a),console.log("UserNav: Session found:",!!e),t(e?.user??null)})();let{data:{subscription:e}}=i.auth.onAuthStateChange((e,a)=>{console.log("UserNav: Auth change",e),t(a?.user??null)});return()=>e.unsubscribe()},[i.auth]);let r=async()=>{try{await fetch("/api/auth/signout",{method:"POST",credentials:"include"})}catch(e){console.error("UserNav: server signout failed",e)}await i.auth.signOut({scope:"local"}),a.refresh(),window.location.assign("/login")},[o,l]=(0,n.useState)(!1);if((0,n.useEffect)(()=>l(!0),[]),!o)return null;if(!e)return(0,s.jsxs)(m.$,{variant:"ghost",className:"h-10 border border-dashed border-secondary text-secondary hover:text-primary gap-2 px-3",onClick:()=>(0,tn.VJ)("/login"),children:[(0,s.jsx)(av.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"text-sm",children:"Guest (Login)"})]});let c=e.email||"",d=(e.user_metadata?.full_name||e.user_metadata?.name||c.split("@")[0]||"User").split(" ")[0];return(0,s.jsxs)(f.rI,{children:[(0,s.jsx)(f.ty,{asChild:!0,children:(0,s.jsx)(m.$,{variant:"ghost",className:"h-10 text-secondary hover:bg-foreground_alt hover:text-primary px-3 transition-colors duration-200",children:(0,s.jsx)("span",{className:"text-sm font-medium",children:d})})}),(0,s.jsxs)(f.SQ,{className:"w-56",align:"end",forceMount:!0,children:[(0,s.jsx)(f.lp,{className:"font-normal",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium leading-none",children:d}),(0,s.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:c})]})}),(0,s.jsx)(f.mB,{}),(0,s.jsx)(f.I,{children:(0,s.jsxs)(f._2,{onClick:()=>(0,tn.VJ)("/profile"),children:[(0,s.jsx)(av.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Profile"})]})}),(0,s.jsx)(f.mB,{}),(0,s.jsxs)(f._2,{onClick:r,className:"text-red-600 focus:text-red-600",children:[(0,s.jsx)(a_.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Log out"})]})]})]})}let ak=(0,tz.default)(()=>Promise.all([a.e(9367),a.e(2274),a.e(616),a.e(1128)]).then(a.bind(a,8747)),{loadableGenerated:{webpack:()=>[8747]},ssr:!1});function aN(){var e;let{sendQuery:t,socketOnline:a}=(0,n.useContext)(es.d),{id:i,showRateLimitDialog:c,initError:u}=(0,n.useContext)(tr.I),{changeBaseToQuery:h,addTreeToConversation:x,addQueryToConversation:v,currentConversation:_,conversations:w,updateFeedbackForQuery:j,loadingConversation:k}=(0,n.useContext)(p.r),{getRandomPrompts:N,collections:I}=(0,n.useContext)(g.C),{fetchDebug:C}=(e=i||"",{fetchDebug:async t=>await tW(e,t)}),[E,S]=(0,n.useState)({}),[q,A]=(0,n.useState)(""),[P,W]=(0,n.useState)(""),[D,R]=(0,n.useState)("chat"),[K,L]=(0,n.useState)([]),[$,Z]=(0,n.useState)(null),H=(0,n.useRef)(null),O=(0,n.useRef)(0),z=(0,n.useRef)(0),M=e=>{O.current+=e,O.current=Math.min(O.current,.1)},B=e=>{z.current+=e,z.current=Math.min(z.current,.3)},[F,V]=(0,n.useState)([]),U=async(e,a="",s=!1,n=!1)=>{if(""===e.trim()||""!==P)return;let r=e.trim(),o=(0,tP.A)(),l=w.find(e=>e.id===_);null==l||(t(i||"",r,l.id,o,a,s,n),h(l.id,r),x(l.id),v(l.id,r,o,!n))};return((0,n.useEffect)(()=>{S(_&&w.length>0&&w.find(e=>e.id===_)?.queries||{}),W(_&&w.length>0&&w.find(e=>e.id===_)?.current||""),L(_&&w.length>0&&w.find(e=>e.id===_)?.tree||[]),A(_&&w.length>0&&w.find(e=>e.id===_)?.name||""),Z(null)},[_,w]),(0,n.useEffect)(()=>{H.current&&H.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[E,P]),(0,n.useEffect)(()=>{H.current&&H.current.scrollIntoView()},[]),(0,n.useEffect)(()=>{R("chat")},[_]),(0,n.useEffect)(()=>{I.length>0&&V(N(4))},[I]),u)?(0,s.jsxs)("div",{className:"flex flex-col w-screen h-screen items-center justify-center gap-4",children:[(0,s.jsx)("p",{className:"text-error text-xl font-semibold",children:"Initialization Failed"}),(0,s.jsx)("p",{className:"text-secondary text-center max-w-md",children:u}),(0,s.jsx)(m.$,{onClick:()=>window.location.reload(),className:"bg-primary text-background hover:bg-primary/90",children:"Retry"})]}):a?(0,s.jsxs)("div",{className:"flex flex-col w-full h-full items-center justify-start gap-3",children:[(0,s.jsxs)("div",{className:"flex w-full justify-between items-center lg:sticky z-20 top-0 lg:p-0 p-4 gap-5 bg-background",children:[(0,s.jsxs)("div",{className:"flex items-center gap-5",children:[(0,s.jsxs)(f.rI,{children:[(0,s.jsx)(f.ty,{asChild:!0,children:(0,s.jsxs)(m.$,{className:"bg-accent/10 hover:bg-accent/20 border-accent border",children:["chat"===D?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tv.Zki,{size:14,className:"text-accent"}),(0,s.jsx)("p",{className:"text-accent",children:"Chat"})]}):"flow"===D?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ee.yE4,{size:14,className:"text-accent"}),(0,s.jsx)("p",{className:"text-accent",children:"Tree"})]}):"debug"===D?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tE.i7p,{size:14,className:"text-accent"}),(0,s.jsx)("p",{className:"text-accent",children:"Debug"})]}):"settings"===D?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.yRe,{size:14,className:"text-accent"}),(0,s.jsx)("p",{className:"text-accent",children:"Settings"})]}):null,(0,s.jsx)(l.zrT,{size:14,className:"text-accent"})]})}),(0,s.jsxs)(f.SQ,{children:[(0,s.jsxs)(f._2,{onClick:()=>R("chat"),children:[(0,s.jsx)(tv.Zki,{size:14}),"Chat"]}),(0,s.jsxs)(f._2,{onClick:()=>R("flow"),children:[(0,s.jsx)(ee.yE4,{size:14}),"Tree"]}),(0,s.jsxs)(f._2,{onClick:()=>R("settings"),children:[(0,s.jsx)(y.yRe,{size:14}),"Settings"]}),!1]})]}),(0,s.jsx)("div",{className:"flex gap-2 items-center justify-center fade-in",children:(0,s.jsx)("p",{className:"text-primary text-sm",children:q&&"New Conversation"!=q?q:""})})]}),(0,s.jsx)(aj,{})]}),null!=_&&(0,s.jsx)(er.w,{className:"w-full"}),k&&(0,s.jsx)("div",{className:"flex w-full h-screen justify-center items-center",children:(0,s.jsx)("p",{className:"text-primary text-xl shine",children:"Loading Conversation..."})}),"chat"!==D||k?"flow"===D?(0,s.jsx)(t_.Ln,{children:(0,s.jsx)(tC,{currentTrees:K})}):"debug"===D?(0,s.jsx)(tA,{fetchDebug:C,currentConversation:_||"",conversations:w}):"settings"===D?(0,s.jsx)(ay,{user_id:i||"",conversation_id:_||"",selectChat:()=>{R("chat")}}):null:(0,s.jsxs)("div",{className:"flex flex-col w-full max-h-[calc(100vh-120px)] overflow-y-auto justify-center items-center",children:[(0,s.jsxs)("div",{className:"flex flex-col w-full md:w-[60vw] lg:w-[40vw] h-[80vh] ",children:[E&&Object.entries(E).sort((e,t)=>e[1].index-t[1].index).map(([e,t],a,n)=>(0,s.jsx)(T,{children:(0,s.jsx)(tb,{messages:t.messages,conversationID:_||"",queryID:e,finished:t.finished,query_start:t.query_start,query_end:t.query_end,_collapsed:null!==$?e!==$:a!==n.length-1,messagesEndRef:H,NER:t.NER,feedback:t.feedback,updateFeedback:j,addDisplacement:M,addDistortion:B,handleSendQuery:U,isLastQuery:a===n.length-1,onExpand:e=>Z(e)},e)},e)),E&&0!==Object.keys(E).length&&(0,s.jsx)("div",{children:(0,s.jsx)("hr",{className:"w-full border-t border-transparent my-4 mb-20"})})]}),(0,s.jsx)("div",{className:"w-full justify-center items-center flex z-10",children:(0,s.jsx)(b,{query_length:Object.keys(E).length,currentStatus:P,handleSendQuery:U,addDisplacement:M,addDistortion:B,selectSettings:()=>{R("settings")},conversationId:_,defaultRagEnabled:(()=>{let e=Object.values(E);if($&&E[$])return E[$].rag_enabled??!1;let t=e.sort((e,t)=>t.index-e.index)[0];return t?.rag_enabled??!1})()})}),0===Object.keys(E).length&&(0,s.jsx)("div",{className:"absolute flex pointer-events-none -z-30 items-center justify-center lg:w-fit lg:h-fit w-full h-full fade-in",children:(0,s.jsx)("div",{className:"cursor-pointer lg:w-[35vw] lg:h-[35vw] w-[90vw] h-[90vw]  ",children:(0,s.jsx)(ak,{debug:!1,displacementStrength:O,distortionStrength:z})})}),0===Object.keys(E).length&&(0,s.jsxs)("div",{className:"absolute flex flex-col justify-center items-center w-full h-full gap-3 fade-in",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("p",{className:"text-primary text-3xl font-semibold",children:"Ask Athena"}),(0,s.jsx)(m.$,{variant:"default",className:"w-10",onClick:()=>{V(N(4))},children:(0,s.jsx)(d.a4n,{})})]}),(0,s.jsx)(r.P.div,{className:"flex flex-col w-full md:w-[60vw] lg:w-[40vw] gap-3",initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.03,delayChildren:.05},children:F.map((e,t)=>(0,s.jsxs)(r.P.button,{onClick:()=>U(e),className:"whitespace-normal px-4 pt-2 text-left h-auto hover:bg-foreground text-sm rounded-lg transition-all duration-200 ease-in-out flex flex-col items-start justify-start overflow-hidden relative group",initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.2,delay:.03*t,ease:"easeOut"},whileHover:{scale:1.02,y:-2,transition:{duration:.1}},whileTap:{scale:.98,y:0},children:[(0,s.jsxs)("div",{className:"flex items-center justify-start gap-2 relative z-10",children:[(0,s.jsx)(r.P.div,{whileHover:{scale:1.1,rotate:[0,-10,10,-5,5,0],transition:{duration:.5,ease:"easeInOut",times:[0,.2,.4,.6,.8,1]}},children:(0,s.jsx)(o.CV0,{size:14})}),(0,s.jsx)(r.P.p,{className:"text-primary text-sm truncate lg:w-[35vw] w-[80vw]",initial:{opacity:.8},whileHover:{opacity:1,transition:{duration:.2}},children:e})]}),(0,s.jsx)(r.P.div,{className:"border-b border-foreground w-full pt-2 origin-left",initial:{scaleX:0,opacity:.3},whileHover:{scaleX:1,opacity:1,transition:{duration:.3,ease:"easeOut"}}}),(0,s.jsx)(r.P.div,{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg opacity-0",whileHover:{opacity:1,transition:{duration:.3}}})]},t+"prompt"))})]})]}),c&&(0,s.jsx)(tO,{})]}):(0,s.jsxs)("div",{className:"flex flex-col w-screen h-screen items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute flex pointer-events-none -z-30 items-center justify-center lg:w-fit lg:h-fit w-full h-full fade-in",children:(0,s.jsx)("div",{className:"cursor-pointer lg:w-[35vw] lg:h-[35vw] w-[90vw] h-[90vw]  ",children:(0,s.jsx)(ak,{debug:!1,displacementStrength:O,distortionStrength:z})})}),(0,s.jsx)("p",{className:"text-primary text-xl shine",children:"Loading Athena..."})]})}var aT=a(44521),aI=a(69951);let aC=({text:e})=>{let t=e.split("");return(0,s.jsx)("div",{className:"flex overflow-hidden",children:(0,s.jsx)("div",{className:"flex truncate",children:t.map((e,t)=>(0,s.jsx)(r.P.span,{className:"inline-block flex-shrink-0",animate:{y:[0,-4,0]},transition:{duration:.5,repeat:1/0,repeatType:"loop",delay:.1*t,repeatDelay:1.5},children:" "===e?"\xa0":e},t))})})},aE=({collection:e,selectCollection:t,triggerAnalysis:a,user_id:i,currentToasts:o,unprocessed:l,deleteCollection:c})=>{let[d,h]=(0,n.useState)(!1),[p,g]=(0,n.useState)(0),[x,y]=(0,n.useState)(!1),[b,v]=(0,n.useState)(0),_=(0,aT.z)(0,{stiffness:200,damping:25,restDelta:.001});return(0,n.useEffect)(()=>_.on("change",e=>{v(Math.round(e))}),[_]),(0,n.useEffect)(()=>{x||l||(_.set(e.total),y(!0))},[e.total,_,x,l]),(0,n.useEffect)(()=>{h(o.some(t=>t.collection_name===e.name)),g(o.find(t=>t.collection_name===e.name)?.progress??0)},[o,e.name]),(0,s.jsxs)(r.P.div,{className:"flex justify-between items-center w-full mt-1 gap-2",initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,type:"spring",stiffness:100,damping:15},children:[(0,s.jsxs)(r.P.div,{className:"flex items-center justify-between w-full border border-foreground/20 hover:border-foreground/40 bg-background hover:bg-foreground_alt/50 p-3 rounded-lg cursor-pointer transition-all duration-200 gap-3",onClick:()=>t(e),whileHover:{scale:1.02,transition:{type:"spring",stiffness:400,damping:25}},whileTap:{scale:.98},children:[(0,s.jsx)(r.P.p,{className:"truncate flex-1 text-sm text-primary max-w-[9rem] lg:max-w-[20rem]",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2,duration:.3},children:e.name}),(0,s.jsx)(r.P.div,{className:`flex items-center justify-center ${l?"bg-warning/10 text-warning":"bg-highlight/10 text-highlight"} rounded-lg px-3 py-1 flex-shrink-0 min-w-[3rem]`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,type:"spring",stiffness:200,damping:10},whileHover:{scale:1.1,transition:{type:"spring",stiffness:400,damping:10}},children:l?(0,s.jsx)(ei.qVL,{size:16,className:"flex-shrink-0"}):(0,s.jsx)(r.P.span,{className:"text-xs font-bold",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:new Intl.NumberFormat("de-DE").format(b)})})]}),(0,s.jsxs)(r.P.div,{className:"flex",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.3},children:[!d&&e.processed&&(0,s.jsxs)(f.rI,{children:[(0,s.jsx)(f.ty,{asChild:!0,children:(0,s.jsx)(m.$,{variant:"ghost",size:"icon",className:"text-secondary hover:text-primary transition-colors duration-200",children:(0,s.jsx)(aI.gMK,{})})}),(0,s.jsxs)(f.SQ,{side:"right",align:"start",children:[(0,s.jsxs)(f._2,{onClick:()=>{a(e,i)},className:"text-secondary hover:text-primary",children:[(0,s.jsx)(eT.W1W,{}),(0,s.jsx)("span",{children:"Re-Analyze"})]}),(0,s.jsxs)(f._2,{onClick:()=>{c(e.name)},className:"text-secondary hover:text-error",children:[(0,s.jsx)(u.ttk,{}),(0,s.jsx)("span",{children:"Clear Analysis"})]})]})]}),!e.processed&&!d&&(0,s.jsx)(m.$,{onClick:t=>{t.stopPropagation(),a(e,i)},className:"text-highlight border-highlight border bg-highlight/10 hover:bg-highlight/20",variant:"outline",children:(0,s.jsx)("span",{children:"Analyze"})}),d&&(0,s.jsx)(m.$,{disabled:d,variant:"outline",className:"text-highlight border-highlight border bg-highlight/10 hover:bg-highlight/20",children:(0,s.jsx)(aC,{text:`Analyzing... ${p}%`})})]})]},e.name)},aS=({loading:e,value:t,label:a,icon:i,color:o,lines:l})=>{let[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(0),m={highlight:"text-highlight",accent:"text-accent",muted:"text-foreground_alt"},f=(0,aT.z)(0,{stiffness:200,damping:25,restDelta:.001});return(0,n.useEffect)(()=>f.on("change",e=>{h(Math.round(e))}),[f]),(0,n.useEffect)(()=>{e||c||(f.set(t),d(!0))},[e,t,f,c]),(0,n.useEffect)(()=>{e&&(d(!1),f.set(0))},[e,f]),(0,s.jsxs)(r.P.div,{className:`flex flex-row items-center justify-start flex-1 border-foreground ${l?"border border-dashed":"border"} p-2 rounded-md gap-3`,initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,type:"spring",stiffness:100,damping:15},children:[(0,s.jsx)(r.P.div,{className:`flex items-center justify-center p-2 ${{highlight:"bg-highlight/10",accent:"bg-accent/10",muted:"bg-foreground_alt/10"}[o]} ${m[o]} rounded-md`,initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200,damping:10},whileHover:{scale:1.1,transition:{type:"spring",stiffness:400,damping:10}},whileTap:{scale:.95},children:i}),(0,s.jsx)("div",{className:"flex flex-col items-start justify-start",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ea.E,{className:"h-8 w-16 mb-1"}),(0,s.jsx)(ea.E,{className:"h-3 w-12"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.P.p,{className:`${m[o]} text-2xl font-bold`,initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:.4,duration:.3,type:"spring",stiffness:150},children:(0,s.jsx)(r.P.span,{children:new Intl.NumberFormat("de-DE").format(u)})}),(0,s.jsx)(r.P.p,{className:"text-secondary text-xs",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.6,duration:.3},children:a})]})})]})};var aq=a(66986);async function aA(e){performance.now();try{let t=await fetch(`${tn.Hc}/collections/${e}/metadata/delete/all`,{method:"DELETE"});if(!t.ok)return console.error(`Deleting all collection metadata error! status: ${t.status} ${t.statusText}`),{error:t.statusText};return{error:""}}catch(e){return console.error(e instanceof Error?e.message:String(e)),{error:"Error deleting all  collection metadata"}}finally{}}let aP=()=>{let{collections:e,deleteCollection:t,fetchCollections:a,loadingCollections:o}=(0,n.useContext)(g.C),{id:u,initError:h}=(0,n.useContext)(tr.I),{currentToasts:f,showErrorToast:p}=(0,n.useContext)(to.$),{triggerAnalysis:x}=(0,n.useContext)(aq.p),{changePage:y}=(0,n.useContext)(i.z),[b,v]=(0,n.useState)(!0),[_,w]=(0,n.useState)(0),[j,k]=(0,n.useState)(0),[N,T]=(0,n.useState)(0),[I,C]=(0,n.useState)(0),[E,S]=(0,n.useState)(!0),[q,A]=(0,n.useState)(!1),[W,D]=(0,n.useState)("name"),[R,K]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let t=e.filter(e=>e.processed).length;w(t),T(e.filter(e=>e.processed).reduce((e,t)=>e+t.total,0)),k(e.filter(e=>!e.processed).length),C(e.filter(e=>!e.processed).reduce((e,t)=>e+t.total,0)),S(t>0)},[e]),(0,n.useEffect)(()=>{v(o)},[o]);let L=e=>{y("collection",{source:e.name},!0)},$=e=>{"name"===e?"name"===W?K(e=>!e):(D("name"),K(!0)):"total"===W?K(e=>!e):(D("total"),K(!0))},Z=e=>e.sort((e,t)=>{let a=0;return a="name"===W?e.name.localeCompare(t.name):e.total-t.total,R?a:-a}),H=async()=>{let e=await aA(u??"");e.error&&p("Error deleting all collection metadata",e.error),a()};return h?(0,s.jsxs)("div",{className:"flex flex-col w-full h-full items-center justify-center gap-4",children:[(0,s.jsx)("p",{className:"text-error text-xl font-semibold",children:"Initialization Failed"}),(0,s.jsx)("p",{className:"text-secondary text-center max-w-md",children:h}),(0,s.jsx)(m.$,{onClick:()=>window.location.reload(),className:"bg-primary text-background hover:bg-primary/90",children:"Retry"})]}):(0,s.jsxs)("div",{className:"flex w-full flex-col gap-2 min-h-0 items-center justify-start h-full fade-in",children:[(0,s.jsx)("div",{className:"flex mb-2 w-full justify-start",children:(0,s.jsx)("p",{className:"text-lg text-primary",children:"Data Dashboard"})}),(0,s.jsxs)("div",{className:"flex flex-col w-full md:w-[60vw] lg:w-[40vw] gap-6 h-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2 w-full rounded-md",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-2 w-full",children:[(0,s.jsx)(aS,{loading:b,value:_,label:"Data Sources",icon:(0,s.jsx)(l.ZdT,{size:20}),color:"accent",lines:!1}),(0,s.jsx)(aS,{loading:b,value:N,label:"Data Objects",icon:(0,s.jsx)(ee.ONe,{size:20}),color:"highlight",lines:!1})]}),j>0&&(0,s.jsxs)("div",{className:"flex flex-row gap-2 w-full",children:[(0,s.jsx)(aS,{loading:b,value:j,label:"Unknown Sources",icon:(0,s.jsx)(l.ZdT,{size:20}),color:"muted",lines:!0}),(0,s.jsx)(aS,{loading:b,value:I,label:"Unknown Objects",icon:(0,s.jsx)(ee.ONe,{size:20}),color:"muted",lines:!0})]})]}),(0,s.jsx)("div",{className:"flex flex-col gap-3 w-full flex-1 min-h-0 mb-16 overflow-y-auto",children:b?(0,s.jsxs)("div",{className:"flex flex-col gap-2 w-full fade-in",children:[(0,s.jsx)(ea.E,{className:"w-full h-[45px] rounded-md"}),(0,s.jsx)(ea.E,{className:"w-full h-[45px] rounded-md"}),(0,s.jsx)(ea.E,{className:"w-full h-[45px] rounded-md"}),(0,s.jsx)(ea.E,{className:"w-full h-[45px] rounded-md"})]}):(0,s.jsxs)("div",{className:"flex flex-col gap-3 flex-1 min-h-0",children:[(0,s.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,s.jsx)("p",{className:"text-primary text-sm",children:"Collections"}),(0,s.jsxs)(r.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.3,type:"tween",stiffness:250},className:"flex flex-row gap-2 items-center px-1",children:[(0,s.jsx)(P.Bc,{children:(0,s.jsxs)(P.m_,{children:[(0,s.jsx)(P.k$,{asChild:!0,children:(0,s.jsx)(m.$,{variant:"ghost",onClick:()=>a(),className:"border border-accent text-accent bg-accent/10 w-10 h-10",children:(0,s.jsx)(ei.fzc,{size:16})})}),(0,s.jsx)(P.ZI,{children:(0,s.jsx)("p",{children:"Refresh collections"})})]})}),(0,s.jsx)(P.Bc,{children:(0,s.jsxs)(P.m_,{children:[(0,s.jsx)(P.k$,{asChild:!0,children:(0,s.jsx)(m.$,{variant:"ghost",onClick:()=>$("name"),className:`border w-10 h-10 ${"name"===W?"border-primary/80 bg-primary/10 text-primary":"border-transparent text-secondary"}`,children:"name"===W&&R?(0,s.jsx)(c.MPV,{size:16}):(0,s.jsx)(c.Bg$,{size:16})})}),(0,s.jsx)(P.ZI,{children:(0,s.jsxs)("p",{children:["Sort by name"," ","name"===W?R?"(A-Z)":"(Z-A)":""]})})]})}),(0,s.jsx)(P.Bc,{children:(0,s.jsxs)(P.m_,{children:[(0,s.jsx)(P.k$,{asChild:!0,children:(0,s.jsx)(m.$,{variant:"ghost",onClick:()=>$("total"),className:`border w-10 h-10 ${"total"===W?"border-primary/80 bg-primary/10 text-primary":"border-transparent text-secondary"}`,children:"total"===W&&R?(0,s.jsx)(c.L2T,{size:16}):(0,s.jsx)(c.OfO,{size:16})})}),(0,s.jsx)(P.ZI,{children:(0,s.jsxs)("p",{children:["Sort by total objects"," ","total"===W?R?"(low to high)":"(high to low)":""]})})]})}),(0,s.jsx)(P.Bc,{children:(0,s.jsxs)(P.m_,{children:[(0,s.jsx)(P.k$,{asChild:!0,children:(0,s.jsx)(t9,{variant:"ghost",onClick:H,classNameDefault:"border border-error text-error w-10 h-10",classNameConfirm:"border border-error text-error",icon:(0,s.jsx)(d.tW_,{size:16}),confirmText:"Clear all metadata?"})}),(0,s.jsx)(P.ZI,{children:(0,s.jsx)("p",{children:"Clear all collection metadata"})})]})})]})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"flex w-full items-center justify-between mb-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:text-primary",onClick:()=>A(e=>!e),children:[(0,s.jsxs)("p",{className:`${q?"text-secondary":"text-primary"} text-sm font-medium`,children:["Available Sources (",_,")"]}),q?(0,s.jsx)(d._kA,{size:16,className:"text-secondary"}):(0,s.jsx)(d.XNc,{size:16,className:"text-primary"})]})}),0===_&&!q&&(0,s.jsxs)(r.P.div,{className:"flex flex-row gap-2 items-center bg-warning/10 border border-warning p-4 rounded-md mb-2",children:[(0,s.jsx)(r.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.3,type:"spring",stiffness:150},children:(0,s.jsx)(d.ZBh,{className:"text-warning",size:20})}),(0,s.jsx)(r.P.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3,type:"spring",stiffness:150},className:"text-warning text-sm",children:"You currently have no data sources analyzed by Athena. To use Athena please analyze a data source from the list below. If no collections are available, please verify if your Weaviate instance contains any collections."})]}),!q&&(0,s.jsx)("div",{className:"overflow-y-auto rounded-lg border border-border/50 max-h-[30rem] mb-3",children:(0,s.jsxs)("div",{className:"flex flex-col gap-1 p-2",children:[e&&!b&&Z(e.filter(e=>e.processed)).map(e=>(0,s.jsx)(aE,{collection:e,selectCollection:L,triggerAnalysis:x,user_id:u??"",currentToasts:f,unprocessed:!e.processed,deleteCollection:t},e.name)),0===_&&(0,s.jsx)("div",{className:"flex items-center justify-center h-32 text-secondary text-sm",children:"No available sources"})]})})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"flex w-full items-center justify-between mb-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:text-primary",onClick:()=>S(e=>!e),children:[(0,s.jsxs)("p",{className:`${E?"text-secondary":"text-primary"} text-sm font-medium`,children:["Analyzable Sources (",j,")"]}),E?(0,s.jsx)(d._kA,{size:16,className:"text-secondary"}):(0,s.jsx)(d.XNc,{size:16,className:"text-primary"})]})}),!E&&(0,s.jsx)("div",{className:"overflow-y-auto rounded-lg border border-border/50 max-h-[30rem] mb-16",children:(0,s.jsxs)("div",{className:"flex flex-col gap-1 p-2",children:[e&&!b&&Z(e.filter(e=>!e.processed)).map(e=>(0,s.jsx)(aE,{collection:e,selectCollection:L,triggerAnalysis:x,user_id:u??"",currentToasts:f,unprocessed:!e.processed,deleteCollection:t},e.name)),0===j&&(0,s.jsx)("div",{className:"flex items-center justify-center h-32 text-secondary text-sm",children:"No analyzable sources"})]})})]})]})})]})]})};function aW(){return(0,s.jsx)("div",{className:"flex flex-col w-full h-screen overflow-hidden",children:(0,s.jsx)(aP,{})})}async function aD(e,t,a,s,n,i,r,o){let l=Math.max(a,1);performance.now();try{let a=await fetch(`${tn.Hc}/collections/${e}/view/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page_number:l,page_size:s,sort_on:n,ascending:i,filter_config:r,query:o})});if(!a.ok)return console.error(`Error fetching collection data! status: ${a.status} ${a.statusText}`),{properties:{},items:[],error:"Error fetching collection data"};return await a.json()}catch(e){return console.error(e instanceof Error?e.message:String(e)),{properties:{},items:[],error:"Error fetching collection data"}}finally{}}async function aR(e,t){performance.now();try{let a=await fetch(`${tn.Hc}/collections/${e}/metadata/${t}`,{method:"GET"});if(!a.ok)return console.error(`Retrieving collection metadata error! status: ${a.status} ${a.statusText}`),{error:a.statusText,metadata:{fields:{},mappings:{},length:0,summary:"",name:"",named_vectors:[],vectorizer:{vectorizer:"",model:""}}};return await a.json()}catch(e){return console.error(e instanceof Error?e.message:String(e)),{error:"Error retrieving collection metadata",metadata:{fields:{},mappings:{},length:0,summary:"",name:"",named_vectors:[],vectorizer:{vectorizer:"",model:""}}}}finally{}}async function aK(e,t,a){performance.now();try{let s=await fetch(`${tn.Hc}/collections/${e}/metadata/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)return console.error(`Patching collection metadata error! status: ${s.status} ${s.statusText}`),{error:s.statusText,result:null};return await s.json()}catch(e){return console.error(e instanceof Error?e.message:String(e)),{error:"Error patching collection metadata",result:null}}finally{}}var aL=a(42442);a(57939);let a$=n.forwardRef(({...e},t)=>(0,s.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...e}));a$.displayName="Breadcrumb";let aZ=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("ol",{ref:a,className:(0,C.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-secondary sm:gap-2.5",e),...t}));aZ.displayName="BreadcrumbList";let aH=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("li",{ref:a,className:(0,C.cn)("inline-flex items-center gap-1.5",e),...t}));aH.displayName="BreadcrumbItem";let aO=n.forwardRef(({asChild:e,className:t,...a},n)=>{let i=e?aL.DX:"a";return(0,s.jsx)(i,{ref:n,className:(0,C.cn)("transition-colors hover:text-primary",t),...a})});aO.displayName="BreadcrumbLink";let az=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("span",{ref:a,role:"link","aria-disabled":"true","aria-current":"page",className:(0,C.cn)("font-normal text-primary",e),...t}));az.displayName="BreadcrumbPage";let aM=({children:e,className:t,...a})=>(0,s.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,C.cn)("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...a,children:e??(0,s.jsx)(eA.A,{})});aM.displayName="BreadcrumbSeparator";let aB=({collectionName:e})=>{let{changePage:t}=(0,n.useContext)(i.z);return(0,s.jsx)(a$,{children:(0,s.jsxs)(aZ,{children:[(0,s.jsx)(aH,{children:(0,s.jsx)(aO,{className:"cursor-pointer text-lg flex items-center gap-2",onClick:()=>t("data",{},!0),children:"Data Dashboard"})}),(0,s.jsx)(aM,{}),(0,s.jsx)(aH,{className:"cursor-pointer",children:(0,s.jsx)(az,{className:"text-lg gap-2 flex items-center justify-center",children:(0,s.jsxs)(r.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center justify-center gap-2",transition:{duration:.3,type:"tween"},children:[(0,s.jsx)(r.P.div,{className:"flex items-center justify-center shrink-0 w-8 h-8 bg-accent/10 text-accent border border-accent rounded-md",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,type:"spring",stiffness:150,delay:.3},children:(0,s.jsx)(l.ZdT,{size:18})}),e||"Loading..."]})})})]})})},aF=({view:e,setView:t,processed:a})=>{let n={hidden:{opacity:0,y:20,scale:.9},visible:{opacity:1,y:0,scale:1}};return(0,s.jsxs)(r.P.div,{className:"flex flex-row flex-wrap gap-1 w-fit justify-end items-center rounded-md bg-background mb-2",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:"visible",children:[(0,s.jsx)(r.P.div,{variants:n,children:(0,s.jsxs)(m.$,{onClick:()=>t("table"),className:`flex flex-1 border ${"table"===e?"bg-accent/10 border-accent text-accent hover:bg-accent/20":"border-foreground bg-transparent"}`,children:[(0,s.jsx)(Y.ist,{className:`${"table"===e?"text-accent":"text-secondary"}`}),(0,s.jsx)("p",{className:`${"table"===e?"text-accent":"text-secondary"}`,children:"Table"})]})}),(0,s.jsx)(r.P.div,{variants:n,children:(0,s.jsxs)(m.$,{onClick:()=>t("metadata"),disabled:!a,className:`flex flex-1 border ${"metadata"===e?"bg-highlight/10 border-highlight text-highlight hover:bg-highlight/20":"border-foreground bg-transparent"}`,children:[(0,s.jsx)(ee.ONe,{className:`${"metadata"===e?"text-highlight":"text-secondary"}`}),(0,s.jsx)("p",{className:`${"metadata"===e?"text-highlight":"text-secondary"}`,children:"Metadata"})]})}),(0,s.jsx)(r.P.div,{variants:n,children:(0,s.jsxs)(m.$,{onClick:()=>t("configuration"),disabled:!a,className:`flex flex-1 border ${"configuration"===e?"bg-alt_color_a/10 border-alt_color_a text-alt_color_a hover:bg-alt_color_a/20":"border-foreground bg-transparent hover:bg-background_alt "}`,children:[(0,s.jsx)(l.ZB5,{className:`${"configuration"===e?"text-alt_color_a":"text-secondary"}`}),(0,s.jsx)("p",{className:`${"configuration"===e?"text-alt_color_a":"text-secondary"}`,children:"Configuration"})]})})]})},aV=({saving:e,hasChanges:t,onSave:a,onCancel:n,saveText:i="Save",cancelText:r="Cancel"})=>(0,s.jsxs)("div",{className:"flex gap-2 justify-end mt-2",children:[(0,s.jsx)(m.$,{onClick:a,disabled:e,className:t?"bg-accent/10 text-accent border border-accent hover:bg-accent/90":"bg-background_alt text-secondary hover:bg-background_alt/90",children:i}),(0,s.jsx)(m.$,{variant:"ghost",onClick:n,className:"text-error hover:text-error hover:bg-error/20 bg-error/10 border border-error",children:r})]}),aU=({collection:e,collectionMetadata:t,metadataEditor:a,globalVectorizer:o})=>{let{deleteCollection:l}=(0,n.useContext)(g.C),{id:d}=(0,n.useContext)(tr.I),{triggerAnalysis:h}=(0,n.useContext)(aq.p),{changePage:f}=(0,n.useContext)(i.z);return e?(0,s.jsxs)("div",{className:"flex flex-1 min-h-0 min-w-0 overflow-auto flex-col w-full gap-4",children:[o&&o.vectorizer&&(0,s.jsxs)(r.P.div,{className:"flex flex-col gap-2 border border-foreground p-4 rounded-md",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,type:"tween",delay:.4},children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"bg-primary/10 border border-primary rounded-md p-1",children:(0,s.jsx)(eT.oQU,{className:"text-primary"})}),(0,s.jsx)("p",{className:"font-bold",children:"Global Vectorizer"})]}),(0,s.jsx)("div",{className:"flex flex-col gap-3 p-4 bg-background_alt rounded-lg border border-border shadow-sm",children:(0,s.jsx)("div",{className:"flex items-start gap-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"p-2 rounded-md bg-primary/10 border-primary/20",children:(0,s.jsx)(eT.oQU,{className:"text-primary w-4 h-4"})}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[(0,s.jsx)("p",{className:"font-bold text-primary truncate text-sm sm:text-base",title:o.model,children:o.model}),(0,s.jsx)("div",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium border text-accent bg-accent/10 border-accent/20 w-fit",children:o.vectorizer})]})})]})})})]}),t?.metadata.named_vectors&&t.metadata.named_vectors.length>0&&(0,s.jsxs)(r.P.div,{className:"flex flex-col gap-2 border border-foreground p-4 rounded-md",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,type:"tween",delay:.4},children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("div",{className:"bg-highlight/10 border border-highlight rounded-md p-1",children:(0,s.jsx)(eT.oQU,{className:"text-highlight"})}),(0,s.jsx)("p",{className:"font-bold",children:"Named Vectors"}),(0,s.jsx)("div",{className:"bg-secondary/10 border border-secondary/20 rounded-full px-2 py-1",children:(0,s.jsxs)("p",{className:"text-xs text-secondary font-medium",children:[t.metadata.named_vectors.length," ",1===t.metadata.named_vectors.length?"vector":"vectors"]})})]}),!a.editingNamedVectors&&(0,s.jsxs)(m.$,{onClick:()=>a.setEditingNamedVectors(!0),className:"",children:[(0,s.jsx)(c.uO9,{className:"text-secondary"}),(0,s.jsx)("p",{className:"text-secondary",children:"Edit"})]})]}),a.editingNamedVectors?(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:t.metadata.named_vectors.map(e=>(0,s.jsxs)("div",{className:"flex flex-col gap-3 p-4 bg-background_alt rounded-lg border border-border shadow-sm",children:[(0,s.jsx)("div",{className:"flex items-start gap-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"p-2 rounded-md bg-highlight/10 border-highlight/20",children:(0,s.jsx)(eT.oQU,{className:"text-highlight w-4 h-4"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.enabled?(0,s.jsx)(c.CMH,{className:"text-accent w-3 h-3"}):(0,s.jsx)(c.QCr,{className:"text-error w-3 h-3"}),(0,s.jsx)("p",{className:"font-bold text-primary truncate text-sm sm:text-base",title:e.name,children:e.name})]}),(0,s.jsx)("div",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium border text-alt_color_a bg-alt_color_a/10 border-alt_color_a/20 w-fit",children:e.vectorizer})]}),(0,s.jsx)("p",{className:"text-xs text-secondary mt-1",children:e.model})]})]})}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-primary",children:"Description:"}),(0,s.jsx)("textarea",{className:"w-full border rounded p-2 bg-background text-sm",rows:3,value:a.namedVectorsDraft[e.name]?.description||"",onChange:t=>a.handleNamedVectorDescriptionChange(e.name,t.target.value),disabled:a.savingNamedVectors,placeholder:"Enter description..."})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-primary",children:"Source Properties:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:e.source_properties?.map(e=>(0,s.jsx)("div",{className:"inline-flex px-2 py-1 rounded text-xs font-medium bg-secondary/10 text-secondary border border-secondary/20",children:e},e))})]})]},e.name))}),(0,s.jsx)(aV,{saving:a.savingNamedVectors,hasChanges:a.hasNamedVectorsChanges,onSave:a.handleSaveNamedVectors,onCancel:()=>{a.setEditingNamedVectors(!1),t?.metadata.named_vectors&&a.setNamedVectorsDraft(t.metadata.named_vectors)}})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:t.metadata.named_vectors.map(e=>(0,s.jsxs)("div",{className:"flex flex-col gap-3 p-4 bg-background_alt rounded-lg border border-border shadow-sm",children:[(0,s.jsx)("div",{className:"flex items-start gap-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"p-2 rounded-md bg-highlight/10 border-highlight/20",children:(0,s.jsx)(eT.oQU,{className:"text-highlight w-4 h-4"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.enabled?(0,s.jsx)(c.CMH,{className:"text-accent w-3 h-3"}):(0,s.jsx)(c.QCr,{className:"text-error w-3 h-3"}),(0,s.jsx)("p",{className:"font-bold text-primary truncate text-sm sm:text-base",title:e.name,children:e.name})]}),(0,s.jsx)("div",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium border text-alt_color_a bg-alt_color_a/10 border-alt_color_a/20 w-fit",children:e.vectorizer})]}),(0,s.jsx)("p",{className:"text-xs text-secondary mt-1",children:e.model})]})]})}),e.description&&(0,s.jsx)("div",{className:"text-sm text-secondary border-l-2 border-border pl-3",children:e.description}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:e.source_properties?.map(e=>(0,s.jsx)("div",{className:"inline-flex px-2 py-1 rounded text-xs font-medium bg-secondary/10 text-secondary border border-secondary/20",children:e},e))})]},e.name))})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 w-full",children:[(0,s.jsx)(r.P.div,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},transition:{duration:.3,type:"tween",delay:.2},children:(0,s.jsxs)(m.$,{className:"flex-1 bg-primary/10 border border-primary hover:bg-primary/20",onClick:()=>h(e,d??""),children:[(0,s.jsx)(eT.W1W,{className:"text-primary"}),(0,s.jsx)("p",{className:"text-primary",children:"Re-Analyze Collection"})]})}),(0,s.jsx)(r.P.div,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},transition:{duration:.3,type:"tween",delay:.3},children:(0,s.jsxs)(m.$,{className:"flex-1 bg-error/10 border border-error hover:bg-error/20",onClick:()=>void(e&&(l(e.name),f("data",{},!0))),children:[(0,s.jsx)(u.ttk,{className:"text-error"}),(0,s.jsx)("p",{className:"text-error",children:"Clear Analysis"})]})})]})]}):null};async function aG(){performance.now();try{let e=await fetch(`${tn.Hc}/collections/mapping_types`,{method:"GET"});if(!e.ok)return console.error(`Retrieving mapping types error! status: ${e.status} ${e.statusText}`),{error:e.statusText,mapping_types:[]};return await e.json()}catch(e){return console.error(e instanceof Error?e.message:String(e)),{error:"Error retrieving mapping types",mapping_types:[]}}finally{}}var aY=a(25810);let aQ=({summary:e,editing:t,summaryDraft:a,saving:n,hasChanges:i,onEdit:r,onChange:o,onSave:l,onCancel:d})=>(0,s.jsxs)("div",{className:"flex flex-col gap-2 border border-foreground p-4 rounded-md",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"bg-highlight/10 border border-highlight rounded-md p-1",children:(0,s.jsx)(aY.tQE,{className:"text-highlight"})}),(0,s.jsx)("p",{className:"font-bold",children:"Summary"})]}),!t&&(0,s.jsxs)(m.$,{onClick:r,className:"",children:[(0,s.jsx)(c.uO9,{className:"text-secondary"}),(0,s.jsx)("p",{className:"text-secondary",children:"Edit"})]})]}),t?(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("textarea",{className:"w-full border rounded p-2 bg-background_alt min-h-[35vh]",rows:4,value:a,onChange:e=>o(e.target.value),disabled:n}),(0,s.jsx)(aV,{saving:n,hasChanges:i,onSave:l,onCancel:d})]}):(0,s.jsx)(H,{text:e})]}),aJ=({mappingTypes:e,mappingTypeDescriptions:t,onSelect:a})=>{let[i,r]=(0,n.useState)(!1);return(0,s.jsxs)(ac,{open:i,onOpenChange:r,children:[(0,s.jsx)(ad,{asChild:!0,children:(0,s.jsxs)(m.$,{children:[(0,s.jsx)(c.OiG,{className:"text-secondary"}),(0,s.jsx)("p",{className:"text-secondary",children:"Add Display"})]})}),(0,s.jsx)(au,{className:"w-[600px] p-4 bg-foreground ",children:(0,s.jsx)("div",{className:"grid grid-cols-1 gap-3 max-h-[400px] overflow-y-auto",children:Object.keys(e).map(e=>{let n=t[e]||"";return(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-md hover:bg-background cursor-pointer transition-colors",onClick:()=>{a(e),r(!1)},children:[(0,s.jsx)("div",{className:"flex-shrink-0 mt-1",children:R(e)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h4",{className:"font-semibold text-primary text-sm mb-1 capitalize",children:e.replace(/_/g," ")}),n&&(0,s.jsx)("p",{className:"text-secondary text-xs leading-relaxed",children:n})]})]},e)})})})]})},aX=({editing:e,mappingsDraft:t,mappingTypes:a,mappingTypeDescriptions:n,collectionDataProperties:i,onEdit:r,onSave:l,onCancel:d,onAddGroup:u,onRemoveGroup:h,onMappingChange:f,saving:p,hasChanges:g,currentMappings:x})=>(0,s.jsxs)("div",{className:"flex flex-col gap-2 border border-foreground p-4 rounded-md",children:[(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2 justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"bg-highlight/10 border border-highlight rounded-md p-1",children:(0,s.jsx)(o.P_M,{className:"text-highlight"})}),(0,s.jsx)("p",{className:"font-bold",children:"Display Mappings"})]}),!e&&(0,s.jsxs)(m.$,{onClick:r,className:"",children:[(0,s.jsx)(c.uO9,{className:"text-secondary"}),(0,s.jsx)("p",{className:"text-secondary",children:"Edit"})]}),e&&(0,s.jsx)(aJ,{mappingTypes:a,mappingTypeDescriptions:n,onSelect:e=>u(e,a)})]}),(0,s.jsx)("div",{className:"w-full",children:e?(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:Object.keys(t).map(e=>(0,s.jsxs)("div",{className:"flex flex-col gap-2 bg-background rounded-lg p-4 border border-border shadow-sm h-fit",children:[(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-row items-center gap-3 flex-1",children:[R(e||""),(0,s.jsx)("p",{className:"font-bold text-primary text-lg",children:e.replace(/_/g," ")})]}),(0,s.jsx)(m.$,{variant:"ghost",onClick:()=>h(e),className:"text-error bg-error/10 border border-error w-8 h-8 hover:bg-error/20 hover:text-error",children:(0,s.jsx)(c.qbC,{size:16})})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1 h-48 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center mb-2 border-b border-border pb-1 sticky top-0 bg-background z-10",children:[(0,s.jsx)("p",{className:"w-[120px] md:w-[150px] text-xs font-semibold text-secondary uppercase tracking-wide",children:"Data Field"}),(0,s.jsx)("div",{className:"w-[24px]"})," ",(0,s.jsx)("p",{className:"w-[120px] md:w-[150px] text-xs font-semibold text-secondary uppercase tracking-wide",children:"Display Field"})]}),Object.keys(a[e]||{}).map(a=>(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,s.jsxs)(ey.l6,{value:t[e][a]||"none",onValueChange:t=>f(e,a,"none"===t?"":t),children:[(0,s.jsx)(ey.bq,{className:"w-[120px] md:w-[150px] h-8 border-background_alt bg-background_alt",children:(0,s.jsx)(ey.yv,{placeholder:"Select field",className:"text-primary"})}),(0,s.jsxs)(ey.gC,{className:"bg-background_alt border-background_alt",children:[(0,s.jsx)(ey.eb,{value:"none",className:"text-primary focus:bg-primary/20 focus:text-primary data-[highlighted]:bg-primary/20 data-[highlighted]:text-primary",children:"(empty)"}),Object.keys(i).map(e=>(0,s.jsx)(ey.eb,{value:e,className:"text-primary focus:bg-primary/20 focus:text-primary data-[highlighted]:bg-primary/20 data-[highlighted]:text-primary",children:e},e))]})]}),(0,s.jsx)(c.eW4,{className:"w-[24px] flex justify-center"}),(0,s.jsx)("p",{className:"w-[120px] md:w-[150px] truncate text-sm md:text-base font-medium",children:a})]},a))]})]},e))}),(0,s.jsx)(aV,{saving:p,hasChanges:g,onSave:l,onCancel:d})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6 w-full",children:Object.keys(x||{}).map(e=>{let t=x[e]||{},a=Object.keys(t).length,n=Object.values(t).filter(e=>e&&e.length>0).length;return(0,s.jsxs)("div",{className:"flex flex-col gap-3 p-4 bg-background_alt rounded-lg border border-border shadow-sm",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-3 items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center flex-1 min-w-0",children:[R(e||""),(0,s.jsx)("p",{className:"font-bold text-sm md:text-base truncate",children:e})]}),(0,s.jsx)("div",{className:"bg-primary/10 border border-primary/20 rounded-full px-2 py-1",children:(0,s.jsxs)("p",{className:"text-xs text-primary font-medium",children:[n,"/",a]})})]}),(0,s.jsxs)("div",{className:"h-48 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center mb-2 border-b border-border pb-1 sticky top-0 bg-background_alt z-10",children:[(0,s.jsx)("p",{className:"w-[120px] md:w-[150px] text-xs font-semibold text-secondary uppercase tracking-wide",children:"Data Field"}),(0,s.jsx)("div",{className:"w-[24px]"})," ",(0,s.jsx)("p",{className:"w-[120px] md:w-[150px] text-xs font-semibold text-secondary uppercase tracking-wide",children:"Display Field"})]}),Object.keys(t).map(e=>(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,s.jsx)("p",{className:`w-[120px] md:w-[150px] truncate text-sm md:text-base ${!t[e]?"text-secondary":""}`,children:t[e]||"(empty)"}),(0,s.jsx)(c.eW4,{className:`w-[24px] flex justify-center ${!t[e]?"text-secondary":"text-primary"}`}),(0,s.jsx)("p",{className:`w-[120px] md:w-[150px] truncate text-sm md:text-base font-medium ${!t[e]?"text-secondary":""}`,children:e})]},e))]})]},e)})})})]}),a0=({fields:e})=>{let t=e=>0===e?"0":Math.abs(e)>=1e6?(e/1e6).toFixed(1)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(1)+"K":e.toFixed(2),a=e=>{switch(e.toLowerCase()){case"number":return"text-accent bg-accent/10 border-accent/20";case"text":case"string":return"text-primary bg-primary/10 border-primary/20";case"text[]":case"string[]":return"text-highlight bg-highlight/10 border-highlight/20";case"date":case"datetime":return"text-secondary bg-secondary/10 border-secondary/20";case"boolean":return"text-foreground bg-foreground/10 border-foreground/20";default:return"text-primary bg-foreground/10 border-foreground/20"}};return(0,s.jsxs)("div",{className:"flex flex-col gap-2 border border-foreground p-4 rounded-md",children:[(0,s.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:justify-between",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("div",{className:"bg-highlight/10 border border-highlight rounded-md p-1",children:(0,s.jsx)(tv.r68,{className:"text-highlight"})}),(0,s.jsx)("p",{className:"font-bold text-sm sm:text-base",children:"Field Metadata"}),(0,s.jsx)("div",{className:"bg-secondary/10 border border-secondary/20 rounded-full px-2 py-1",children:(0,s.jsxs)("p",{className:"text-xs text-secondary font-medium",children:[Object.keys(e).length," fields"]})})]})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:Object.entries(e).map(([e,n])=>{let i=Object.entries(n.groups||{});return(0,s.jsxs)("div",{className:"flex flex-col gap-3 p-4 bg-background_alt rounded-lg border border-border shadow-sm",children:[(0,s.jsx)("div",{className:"flex items-start gap-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:`p-2 rounded-md ${a(n.type).split(" ").slice(1).join(" ")}`,children:(0,s.jsx)("div",{className:a(n.type).split(" ")[0],children:(e=>{let t="w-4 h-4";switch(e.toLowerCase()){case"number":return(0,s.jsx)(c.amN,{className:t});case"text":case"string":return(0,s.jsx)(c.DJg,{className:t});case"text[]":case"string[]":return(0,s.jsx)(c.svy,{className:t});case"date":case"datetime":return(0,s.jsx)(c.bfZ,{className:t});case"boolean":return(0,s.jsx)(c.CMH,{className:t});default:return(0,s.jsx)(c.nBS,{className:t})}})(n.type)})}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[(0,s.jsx)("p",{className:"font-bold text-primary truncate text-sm sm:text-base",title:n.name,children:n.name}),(0,s.jsx)("div",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium border ${a(n.type)} w-fit`,children:n.type})]})})]})}),n.description&&(0,s.jsx)("div",{className:"text-sm text-secondary border-l-2 border-border pl-3",children:n.description}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 text-sm",children:["number"===n.type&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[(0,s.jsx)("span",{className:"text-secondary text-xs sm:text-sm",children:"Range:"}),(0,s.jsxs)("span",{className:"font-medium text-sm",children:[t(n.range[0])," -"," ",t(n.range[1])]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[(0,s.jsx)("span",{className:"text-secondary text-xs sm:text-sm",children:"Mean:"}),(0,s.jsx)("span",{className:"font-medium text-sm",children:t(n.mean)})]})]}),("date"===n.type||"datetime"===n.type)&&n.date_range&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsx)("span",{className:"text-secondary text-xs sm:text-sm",children:"Date Range:"})}),(0,s.jsxs)("div",{className:"text-xs bg-background rounded p-2",children:[(0,s.jsxs)("div",{children:["From: ",n.date_range[0]||"N/A"]}),(0,s.jsxs)("div",{children:["To: ",n.date_range[1]||"N/A"]})]}),n.date_mean&&(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[(0,s.jsx)("span",{className:"text-secondary text-xs sm:text-sm",children:"Mean Date:"}),(0,s.jsx)("span",{className:"font-medium text-xs",children:n.date_mean})]})]}),i.length>0&&(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[(0,s.jsx)("span",{className:"text-secondary text-xs sm:text-sm",children:"Unique Values:"}),(0,s.jsx)("span",{className:"font-medium text-sm",children:i.length})]}),(0,s.jsx)("div",{className:"max-h-24 overflow-y-auto",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[i.slice(0,8).map(([e,t])=>(0,s.jsxs)("span",{className:"inline-flex px-2 py-1 bg-background rounded text-xs border border-border",title:`${t.value} (${t.count})`,children:[t.value.length>10?`${t.value.slice(0,10)}...`:t.value,(0,s.jsxs)("span",{className:"ml-1 text-secondary",children:["(",t.count,")"]})]},e)),i.length>8&&(0,s.jsxs)("span",{className:"inline-flex px-2 py-1 bg-highlight/10 border border-highlight/20 rounded text-xs text-highlight",children:["+",i.length-8," more"]})]})})]})]})]},e)})})]})},a1=({collectionMetadata:e,metadataEditor:t,collectionDataProperties:a})=>{let[i,o]=(0,n.useState)({}),[l,c]=(0,n.useState)({});return(0,n.useEffect)(()=>{aG().then(e=>{e.error||(o(e.mapping_types.reduce((e,t)=>(e[t.name]=t.fields,e),{})),c(e.mapping_types.reduce((e,t)=>(e[t.name]=t.description,e),{})))})},[]),(0,s.jsxs)(r.P.div,{className:"flex flex-1 min-h-0 min-w-0 overflow-auto mb-10 flex-col w-full gap-4",children:[(0,s.jsx)(r.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,type:"tween",delay:.2},children:(0,s.jsx)(aQ,{summary:e?.metadata.summary||"",editing:t.editingSummary,summaryDraft:t.summaryDraft,saving:t.savingSummary,hasChanges:t.hasSummaryChanges,onEdit:()=>t.setEditingSummary(!0),onChange:t.setSummaryDraft,onSave:t.handleSaveSummary,onCancel:()=>{t.setEditingSummary(!1),t.setSummaryDraft(e?.metadata.summary||"")}})}),(0,s.jsx)(r.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,type:"tween",delay:.3},children:(0,s.jsx)(aX,{editing:t.editingMappings,mappingsDraft:t.mappingsDraft,mappingTypes:i,mappingTypeDescriptions:l,collectionDataProperties:a,onEdit:()=>t.setEditingMappings(!0),onSave:t.handleSaveMappings,onCancel:()=>t.setEditingMappings(!1),onAddGroup:t.handleAddGroup,onRemoveGroup:t.handleRemoveGroup,onMappingChange:t.handleMappingChange,saving:t.savingMappings,hasChanges:t.hasMappingsChanges,currentMappings:e?.metadata.mappings||{}})}),(0,s.jsx)(r.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,type:"tween",delay:.4},children:(0,s.jsx)(a0,{fields:e?.metadata.fields||{}})})]})},a2=()=>{let e=(0,aw.useSearchParams)(),t=(0,aw.usePathname)(),{changePage:a}=(0,n.useContext)(i.z),[l,u]=(0,n.useState)(null),{collections:h}=(0,n.useContext)(g.C),{id:f}=(0,n.useContext)(tr.I),{collectionData:p,ascending:x,setAscending:y,sortOn:b,setSortOn:v,page:_,setPage:w,pageSize:j,query:k,setQuery:N,usingQuery:T,loadCollectionData:I,loadingData:C}=function({collection:e,id:t}){let[a,s]=(0,n.useState)(null),[i,r]=(0,n.useState)(!0),[o,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(1),[u,h]=(0,n.useState)(50),[m,f]=(0,n.useState)(""),[p,g]=(0,n.useState)(!1),[x,y]=(0,n.useState)(!1),b=async()=>{e&&t&&(y(!0),m.length>0?p||(d(1),g(!0)):g(!1),s(await aD(t,e.name,c,u,o,i,{type:"and",filters:[]},m)),y(!1))};return(0,n.useEffect)(()=>{b()},[c,u,i,o,e,t]),{collectionData:a,setCollectionData:s,ascending:i,setAscending:r,sortOn:o,setSortOn:l,page:c,setPage:d,pageSize:u,setPageSize:h,query:m,setQuery:f,usingQuery:p,setUsingQuery:g,loadCollectionData:b,loadingData:x}}({collection:l??null,id:"string"==typeof f?f:null}),{collectionMetadata:E,metadataRows:S,loadCollectionMetadata:q}=function({collection:e,id:t}){let[a,s]=(0,n.useState)(null),[i,r]=(0,n.useState)({properties:{},items:[]}),o=e=>{let t={},a={},s=0;for(let n in e.metadata.fields){let i=e.metadata.fields[n],r={type:i?.type||"",groups:i?.groups||[],mean:i?.mean||0,range:i?.range||[0,0]};t[n]=r.type,"number"===r.type?a[n]=["Min: "+r.range[0].toString(),"Max: "+r.range[1].toString()]:a[n]=[...Object.values(r.groups).map(e=>e.value)],s=Math.max(s,a[n].length)}r({properties:t,items:Array.from({length:s},(e,t)=>Object.keys(a).reduce((e,s)=>(e[s]=a[s][t]||"",e),{}))})},l=async()=>{if(!e||!t)return;let a=await aR(t,e.name);s(a),o(a)};return(0,n.useEffect)(()=>{l()},[e,t]),{collectionMetadata:a,setCollectionMetadata:s,metadataRows:i,setMetadataRows:r,loadCollectionMetadata:l,metadataToRows:o}}({collection:l??null,id:"string"==typeof f?f:null}),[A,P]=(0,n.useState)(!1),[W,D]=(0,n.useState)("table"),[R,K]=(0,n.useState)(0),[L,$]=(0,n.useState)(null),[Z,H]=(0,n.useState)(!0),O=function({collection:e,id:t,collectionMetadata:a,collectionDataProperties:s,reloadMetadata:i}){let[r,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{a?.metadata.summary&&c(a.metadata.summary)},[a?.metadata.summary]);let h=l!==(a?.metadata.summary||""),m=async()=>{if(e&&t){u(!0);try{await aK(t,e.name,{summary:l}),o(!1),await i()}finally{u(!1)}}},[f,p]=(0,n.useState)(!1),[g,x]=(0,n.useState)({}),[y,b]=(0,n.useState)(!1),[v,_]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(f&&a?.metadata.mappings){let e={};for(let t in a.metadata.mappings)for(let s in e[t]={},a.metadata.mappings[t]){let n=a.metadata.mappings[t][s],i=Array.isArray(n)?n[0]||"":n||"";e[t][s]=i}x(e)}f||x({})},[f,a]);let w=JSON.stringify(g)!==JSON.stringify(a?.metadata.mappings||{}),j=async()=>{if(e&&t){b(!0);try{await aK(t,e.name,{mappings:g}),p(!1),await i()}finally{b(!1)}}},[k,N]=(0,n.useState)(!1),[T,I]=(0,n.useState)([]),[C,E]=(0,n.useState)(!1);(0,n.useEffect)(()=>{k&&a?.metadata.named_vectors&&I(a.metadata.named_vectors),k||I([])},[k,a]);let S=JSON.stringify(T)!==JSON.stringify(a?.metadata.named_vectors||{}),q=async()=>{if(e&&t){E(!0);try{let a=Object.entries(T).map(([e,t])=>({name:e,description:t.description,enabled:t.enabled}));await aK(t,e.name,{named_vectors:a}),N(!1),await i()}finally{E(!1)}}};return{editingSummary:r,setEditingSummary:o,summaryDraft:l,setSummaryDraft:c,savingSummary:d,hasSummaryChanges:h,handleSaveSummary:m,editingMappings:f,setEditingMappings:p,mappingsDraft:g,setMappingsDraft:x,savingMappings:y,hasMappingsChanges:w,showAddGroupDropdown:v,setShowAddGroupDropdown:_,handleMappingChange:(e,t,a)=>{x(s=>({...s,[e]:{...s[e],[t]:a}}))},handleAddGroup:(e,t)=>{let a=Object.keys(t[e]||[]),n=Object.keys(s),i=Object.fromEntries(a.map(e=>[e,n.includes(e)?e:""]));x(t=>({...t,[e]:i})),_(!1)},handleRemoveGroup:e=>{x(t=>{let a={...t};return delete a[e],a})},handleAddSubkey:e=>{let t="new_key",a=1;for(;g[e][t];)t=`new_key${a++}`;x(a=>({...a,[e]:{...a[e],[t]:""}}))},handleRemoveSubkey:(e,t)=>{x(a=>{let s={...a[e]};return delete s[t],{...a,[e]:s}})},handleSaveMappings:j,editingNamedVectors:k,setEditingNamedVectors:N,namedVectorsDraft:T,setNamedVectorsDraft:I,savingNamedVectors:C,hasNamedVectorsChanges:S,handleNamedVectorDescriptionChange:(e,t)=>{I(a=>a.map(a=>a.name===e?{...a,description:t}:a))},handleSaveNamedVectors:q}}({collection:l,id:"string"==typeof f?f:null,collectionMetadata:E,metadataRows:S,collectionDataProperties:p?.properties||{},reloadMetadata:q}),z=e=>{a("collection",{page_number:e.toString()},!1)};return(0,n.useEffect)(()=>{let t=e.get("source")??null;if(t){let a=h.find(e=>e.name===t);if(a){u(a);let t=Math.ceil(a.total/j);K(t);let s=e.get("page_number");if(s){let e=parseInt(s);e>t?w(t):w(Number.isNaN(e)?1:e)}else w(1);let n=e.get("sort_on");v("string"==typeof n?n:null)}}},[t,e,h]),(0,n.useEffect)(()=>{if(l)if(l.vectorizer){var e;e=l.vectorizer,e.global&&e.global.model&&e.global.vectorizer?$({vectorizer:e.global.vectorizer,model:e.global.model}):E?.metadata?.vectorizer?.vectorizer&&E?.metadata?.vectorizer?.model?$({vectorizer:E.metadata.vectorizer.vectorizer,model:E.metadata.vectorizer.model}):$(null)}else $(null)},[l,E]),(0,n.useEffect)(()=>{h.length>0&&l?P(!1):P(!0)},[l,h]),(0,n.useEffect)(()=>{I()},[_,j,x,b,l,f]),(0,n.useEffect)(()=>{q()},[l,f]),(0,s.jsxs)("div",{className:"flex flex-col w-full gap-2 min-h-0 items-center justify-start h-full",children:[(0,s.jsxs)("div",{className:"flex mb-2 w-full justify-between",children:[(0,s.jsx)(aB,{collectionName:l?l.name:void 0}),(0,s.jsx)(aF,{view:W,setView:D,processed:!!l?.processed})]}),(0,s.jsxs)("div",{className:"flex flex-col w-full gap-6 h-full",children:[l&&!l.processed&&!A&&(0,s.jsx)("div",{className:"flex flex-row justify-between items-center w-full bg-warning/10 text-warning border border-warning p-2 rounded-md",children:(0,s.jsxs)("div",{className:"flex flex-col gap-1 items-start justify-start",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-warning",children:"Warning"}),(0,s.jsx)("p",{className:"text-sm ",children:"This collection needs to be analyzed before it can be used in Athena and to access its metadata."})]})}),l&&E&&Z&&!L&&l.processed&&!(E?.metadata.named_vectors&&E.metadata.named_vectors.length>0)&&!L&&(0,s.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,type:"tween",delay:.2},className:"flex flex-row justify-between items-center w-full border border-highlight bg-highlight/10 p-2 rounded-md",children:(0,s.jsxs)("div",{className:"flex flex-col gap-1 items-start justify-start",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-1 items-center justify-between w-full",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-highlight",children:"Note"}),(0,s.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>H(!1),className:"h-auto p-1 text-highlight hover:text-highlight hover:bg-highlight/20","aria-label":"Close note",children:(0,s.jsx)(d.$8F,{size:16})})]}),(0,s.jsxs)("p",{className:"text-sm ",children:["No vectorizers could be detected for this collection (neither global nor named vectors). Vector search might be limited which could lead to issues. Please verify that your collection is using one of Weaviate's supported embedding model providers."," "]}),(0,s.jsx)("a",{href:"https://docs.weaviate.io/weaviate/model-providers",target:"_blank",rel:"noopener noreferrer",className:"text-highlight underline hover:no-underline text-sm",children:"View Weaviate documentation"})]})}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 w-full pb-16 rounded-md flex-1 min-h-0 min-w-0",children:["table"===W&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col w-full gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-1 w-full items-center justify-center",onKeyDown:e=>{"Enter"===e.key&&I()},children:[(0,s.jsx)(tH.p,{type:"text",placeholder:"Search "+(l?.name||"collection"),value:k,className:"text-sm placeholder:text-secondary placeholder:text-sm",onChange:e=>N(e.target.value)}),(0,s.jsx)(m.$,{className:"bg-accent/10 border border-accent hover:bg-accent/20 w-9 h-9",onClick:()=>I(),children:(0,s.jsx)(c.KSO,{className:"text-accent"})})]}),(0,s.jsxs)("div",{className:"flex flex-col-reverse md:flex-row gap-2 md:gap-1 w-full",children:[(0,s.jsx)("div",{className:"hidden md:block w-1/3"}),(0,s.jsx)("div",{className:"flex items-center justify-center w-full md:w-1/3",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)(m.$,{variant:"ghost",disabled:1===_,onClick:()=>void(1!==_&&z(_-1)),className:"w-8 h-8",children:(0,s.jsx)(o.pyl,{})}),T?(0,s.jsx)("p",{className:"text-primary text-xs font-light",children:"Page "+_}):(0,s.jsx)("p",{className:"text-primary text-xs font-light",children:"Page "+_+" of "+R}),(0,s.jsx)(m.$,{variant:"ghost",disabled:_===R,onClick:()=>void(!l||_+1>R||(!T||p?.items?.length===j)&&z(_+1)),className:"w-8 h-8",children:(0,s.jsx)(o.mf,{})})]})})]})]}),(0,s.jsx)(r.P.div,{className:"flex-1 min-h-0 min-w-0 mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,type:"tween",delay:.2},children:!A||p||C?(0,s.jsx)(eR,{data:p?.items||[],header:p?.properties||{},setSortOn:e=>{b===e?y(e=>!e):(a("collection",{sort_on:e},!1),y(!0))},ascending:x,sortOn:b||"",stickyHeaders:!0,maxHeight:"100%",loadingData:C}):(0,s.jsx)("div",{className:"flex flex-col gap-2 items-start justify-start w-full h-full fade-in overflow-auto",children:[...Array(10)].map((e,t)=>(0,s.jsx)(ea.E,{className:"w-full h-[25px] rounded-sm"},t))})})]}),"metadata"===W&&(0,s.jsx)(a1,{collectionMetadata:E,metadataEditor:O,collectionDataProperties:p?.properties||{}}),"configuration"===W&&l&&(0,s.jsx)(aU,{collection:l,collectionMetadata:E,metadataEditor:O,globalVectorizer:L})]})]})]})};function a4(){return(0,s.jsx)("div",{className:"h-screen flex flex-col overflow-hidden w-full",children:(0,s.jsx)(a2,{})})}function a3({currentUserConfig:e,configIDs:t,loadingConfigs:a,onCreateConfig:n,onRefreshConfigs:i,onSelectConfig:r}){return(0,s.jsx)("div",{className:"flex lg:hidden w-full",children:e&&!a&&(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2 w-full sm:w-auto sm:flex-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-secondary",children:"Configuration"}),(0,s.jsxs)(ey.l6,{value:e.id??void 0,onValueChange:e=>r(e),children:[(0,s.jsx)(ey.bq,{className:"w-full",children:(0,s.jsx)(ey.yv,{children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[t.find(t=>t.config_id===e.id)?.default&&(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-highlight"}),e.name]})})}),(0,s.jsx)(ey.gC,{children:t.map(e=>(0,s.jsx)(ey.eb,{value:e.config_id,children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[e.default&&(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-highlight"}),e.name]})},e.config_id))})]})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-2 w-full sm:w-auto",children:[(0,s.jsxs)(m.$,{className:"flex-1 sm:flex-none",onClick:n,children:[(0,s.jsx)(ei.j8n,{}),(0,s.jsx)("span",{children:"New"})]}),(0,s.jsx)(m.$,{className:"w-10 flex-shrink-0",onClick:i,children:(0,s.jsx)(ei.fzc,{})})]})]})})}function a5({currentUserConfig:e,configIDs:t,loadingConfigs:a,onCreateConfig:n,onRefreshConfigs:i,onSelectConfig:r,onDeleteConfig:l}){return(0,s.jsxs)("div",{className:"hidden lg:flex flex-col justify-start w-1/4 xl:w-1/5 border-r border-foreground_alt h-full p-4 gap-2 min-h-0",children:[(0,s.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 w-full",children:[(0,s.jsxs)(m.$,{className:"flex-1",onClick:n,children:[(0,s.jsx)(ei.j8n,{}),(0,s.jsx)("span",{children:"New"})]}),(0,s.jsx)(m.$,{className:"w-10",onClick:i,children:(0,s.jsx)(ei.fzc,{})})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1 flex-1 overflow-y-auto",children:[!a&&t.map((t,a)=>(0,s.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,s.jsxs)(m.$,{variant:t.config_id===e?.id?"default":"ghost",className:`justify-start w-full text-left truncate ${t.config_id===e?.id?"bg-background_alt text-primary":"bg-background text-secondary hover:bg-foreground_alt hover:text-primary"}`,onClick:()=>r(t.config_id),children:[t.default&&(0,s.jsx)("div",{className:"flex flex-row items-center gap-2",children:(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-highlight"})}),(0,s.jsx)("span",{className:"truncate",children:t.name})]},t.config_id+"_config_"+a),(0,s.jsx)(t9,{classNameDefault:"w-10 h-10 text-secondary text-xs hover:bg-background hover:text-error",classNameConfirm:"w-10 h-10 text-secondary text-xs hover:bg-background hover:text-error",variant:"ghost",icon:(0,s.jsx)(o.b6i,{}),text:"",confirmIcon:(0,s.jsx)(ei.v_8,{}),onClick:()=>{l(t.config_id,t.config_id===e?.id)}},t.config_id+"_delete_button_"+a)]},t.config_id+"_config_list_"+a)),a&&(0,s.jsx)("div",{className:"flex flex-row items-center justify-center w-full",children:(0,s.jsx)("p",{className:"text-primary shine text-sm mt-4",children:"Loading configs..."})})]})]})}function a6({currentUserConfig:e,editName:t,nameExists:a,nameIsEmpty:n,isNewConfig:i,isDefaultConfig:r,loadingConfigs:o,onNameChange:l,onEditStart:c,onEditEnd:u}){return(0,s.jsx)("div",{className:"border-foreground_alt w-full lg:w-auto",children:(0,s.jsxs)("div",{className:"flex flex-row sm:items-center gap-2",children:[(0,s.jsx)(P.Bc,{children:(0,s.jsxs)(P.m_,{children:[(0,s.jsx)(P.k$,{asChild:!0,children:t?(0,s.jsx)(tH.p,{className:`text-primary bg-transparent flex-1 min-w-0 ${a||n?"border-destructive focus-visible:ring-destructive":""}`,value:e?.name||"",onChange:e=>l(e.target.value),onBlur:u,placeholder:"Config name",autoFocus:!0}):(0,s.jsx)("span",{className:`text-sm lg:text-base text-primary font-medium border rounded-md px-4 py-1 flex-1 truncate cursor-pointer hover:bg-foreground_alt/10 transition-colors ${a||n?"border-destructive":"border-foreground_alt"}`,onDoubleClick:c,children:e?.name||"Loading config..."})}),(0,s.jsx)(P.ZI,{children:(0,s.jsx)("p",{children:"Double click to edit name"})})]})}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2 flex-wrap",children:[a&&(0,s.jsxs)("div",{className:"flex flex-row fade-in items-center gap-2 bg-destructive text-destructive-foreground rounded-md px-2 py-1",children:[(0,s.jsx)(d.tr_,{size:12}),(0,s.jsx)("p",{className:"text-xs",children:"Name exists"})]}),n&&(0,s.jsxs)("div",{className:"flex flex-row fade-in items-center gap-2 bg-destructive text-destructive-foreground rounded-md px-2 py-1",children:[(0,s.jsx)(d.tr_,{size:12}),(0,s.jsx)("p",{className:"text-xs",children:"Name required"})]}),i&&!o&&(0,s.jsx)("div",{className:"flex flex-row fade-in items-center gap-2 bg-primary/10 rounded-md px-2 py-1",children:(0,s.jsx)("p",{className:"text-xs text-primary",children:"New Config"})}),r&&!o&&(0,s.jsx)("div",{className:"flex flex-row fade-in items-center gap-2 bg-highlight/10 rounded-md px-2 py-1",children:(0,s.jsx)("p",{className:"text-xs text-highlight",children:"Default"})})]})]})})}function a9({changedConfig:e,matchingConfig:t,isNewConfig:a,isDefaultConfig:n,isConfigValid:i,nameExists:o,nameIsEmpty:l,loadingConfig:d,loadingConfigs:u,savingConfig:h,saveAsDefault:f,userConfigId:p,onSaveAsDefaultChange:g,onSaveConfig:x,onCancelConfig:y,onDeleteConfig:b}){let v=(!t||a)&&!d&&i,_=t&&!a&&!n&&!d&&!u;return(0,s.jsxs)("div",{className:"flex flex-row items-stretch sm:items-center gap-3 w-full lg:w-auto",children:[(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)(tZ.S,{checked:f,onCheckedChange:e=>{g(e)}}),(0,s.jsx)("p",{className:"text-sm text-secondary",children:"Save as default"})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,s.jsxs)(r.P.div,{animate:e?{rotate:[-2,2,-2,2,0],y:[0,-4,0,-4,0]}:{},transition:{duration:.5,repeat:e?1/0:0,repeatDelay:1,ease:"easeInOut"},children:[v&&(0,s.jsxs)(m.$,{disabled:!e&&!a||!i||o||l,className:"bg-accent/10 text-accent hover:bg-accent/20 w-full sm:w-auto",onClick:()=>{x(f)},children:[(0,s.jsx)(c.dIn,{}),"Save"]}),h&&(0,s.jsxs)(m.$,{disabled:!0,className:"bg-accent/10 text-accent hover:bg-accent/20 w-full sm:w-auto",children:[(0,s.jsx)(c.Qp1,{scale:.2,className:"text-lg pulsing_color"}),"Saving..."]}),_&&(0,s.jsxs)(m.$,{disabled:!i||o||l,className:"bg-highlight/10 text-highlight hover:bg-highlight/20 w-full sm:w-auto fade-in",onClick:()=>{x(!0)},children:[(0,s.jsx)(c.gt3,{}),"Set as default"]})]}),(0,s.jsx)(m.$,{variant:"destructive",onClick:y,disabled:t,className:"w-full sm:w-auto",children:"Cancel"}),(0,s.jsx)(t9,{variant:"ghost",classNameDefault:"w-full sm:w-auto text-secondary hover:text-error border border-foreground ",classNameConfirm:"w-full sm:w-auto text-secondary hover:text-error border border-foreground ",icon:(0,s.jsx)(A.fr5,{}),disabled:a||!p,text:"Delete",confirmText:"Are you sure?",onClick:b})]})]})}function a8({currentUserConfig:e,currentFrontendConfig:t,weaviateIssues:a,wcdUrlValid:n,wcdApiKeyValid:i,customWeaviateHttpHostValid:r,customWeaviateGrpcHostValid:o,onUpdateSettings:l,onUpdateFrontend:d}){let u=e?.settings.WEAVIATE_IS_LOCAL,h=e?.settings.WEAVIATE_IS_CUSTOM;return(0,s.jsxs)(tJ,{children:[(0,s.jsx)(tX,{icon:(0,s.jsx)(c.nBS,{}),className:"bg-accent",header:"Weaviate Cluster",buttonIcon:(0,s.jsx)(tv.zrq,{}),buttonText:"Create Cluster",onClick:()=>{window.open("https://console.weaviate.cloud/","_blank")}}),a.length>0&&(0,s.jsx)(af,{title:"Weaviate Configuration Required",issues:a}),(0,s.jsxs)(t0,{children:[(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"Cluster Type",description:"Choose between cloud-hosted, local, or custom Weaviate instance."}),(0,s.jsx)(t4,{value:u?"Local":h?"Custom":"Cloud",onChange:t=>{let a={WEAVIATE_IS_LOCAL:"Local"===t,WEAVIATE_IS_CUSTOM:"Custom"===t};"Local"!==t||e?.settings?.WCD_URL&&""!==e.settings.WCD_URL.trim()||(a.WCD_URL="http://localhost"),l(a)},labels:["Cloud","Local","Custom"],icons:[(0,s.jsx)(c.tmj,{},"cloud"),(0,s.jsx)(c.vwk,{},"server"),(0,s.jsx)(c.nBS,{},"custom")]})]}),!h&&(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"URL",description:"The URL of your Weaviate cluster."}),(0,s.jsx)(am,{isProtected:!1,value:e?.settings.WCD_URL||"",onChange:e=>{l("WCD_URL",e)},isInvalid:!n})]}),u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"GRPC Port",description:"The GRPCport of the local Weaviate cluster."}),(0,s.jsx)(am,{isProtected:!1,value:e?.settings.LOCAL_WEAVIATE_GRPC_PORT||0,onChange:e=>{l("LOCAL_WEAVIATE_GRPC_PORT",e)},disabled:!u})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"Port",description:"The port of the local Weaviate cluster."}),(0,s.jsx)(am,{isProtected:!1,value:e?.settings.LOCAL_WEAVIATE_PORT||0,onChange:e=>{l("LOCAL_WEAVIATE_PORT",e)},disabled:!u})]})]}),h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"HTTP Host",description:"The HTTP host of your custom Weaviate instance."}),(0,s.jsx)(am,{isProtected:!1,value:e?.settings.CUSTOM_HTTP_HOST||"",onChange:e=>{l("CUSTOM_HTTP_HOST",e)},disabled:!h,isInvalid:!r})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"HTTP Port",description:"The GRPC host of your custom Weaviate instance."}),(0,s.jsx)(am,{isProtected:!1,value:e?.settings.CUSTOM_HTTP_PORT||80,onChange:e=>{l("CUSTOM_HTTP_PORT",e)},disabled:!h})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"HTTP Secure",description:"Whether the HTTP connection is secure."}),(0,s.jsx)(t5,{value:e?.settings.CUSTOM_HTTP_SECURE||!1,onChange:e=>{l("CUSTOM_HTTP_SECURE",e)}})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"GRPC Host",description:"The GRPC host of your custom Weaviate instance."}),(0,s.jsx)(am,{isProtected:!1,value:e?.settings.CUSTOM_GRPC_HOST||"",onChange:e=>{l("CUSTOM_GRPC_HOST",e)},disabled:!h,isInvalid:!o})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"GRPC Port",description:"The GRPC port of your custom Weaviate instance."}),(0,s.jsx)(am,{isProtected:!1,value:e?.settings.CUSTOM_GRPC_PORT||50051,onChange:e=>{l("CUSTOM_GRPC_PORT",e)},disabled:!h})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"GRPC Secure",description:"Whether the GRPC connection is secure."}),(0,s.jsx)(t5,{value:e?.settings.CUSTOM_GRPC_SECURE||!1,onChange:e=>{l("CUSTOM_GRPC_SECURE",e)}})]})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"API Key",description:u?"The API key of your local Weaviate cluster. Needs to be configured in the local Weaviate cluster.":h?"The API key of your custom Weaviate instance.":"The API key of your Weaviate cluster."}),(0,s.jsx)(am,{isProtected:!0,value:e?.settings.WCD_API_KEY||"",onChange:e=>{l("WCD_API_KEY",e)},isInvalid:!u&&!h&&!i})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"Tree Timeout",description:"The timeout for the tree."}),(0,s.jsx)(am,{isProtected:!1,value:t?.tree_timeout||0,onChange:e=>{d("tree_timeout",e)}})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"Client Timeout",description:"The timeout for the client."}),(0,s.jsx)(am,{isProtected:!1,value:t?.client_timeout||0,onChange:e=>{d("client_timeout",e)}})]})]})]})}function a7({currentFrontendConfig:e,storageIssues:t,shouldHighlightUseSameCluster:a,onUpdateFrontend:n,onCopyWeaviateValues:i,customStorageHttpHostValid:r,customStorageGrpcHostValid:l}){let u=e?.save_location_weaviate_is_local,h=e?.save_location_weaviate_is_custom;return(0,s.jsxs)(tJ,{children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center w-full justify-between gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-7 w-7 bg-background rounded-md flex items-center justify-center",children:(0,s.jsx)(o.rrw,{})}),(0,s.jsx)("p",{className:"text-primary text-lg",children:"Athena Storage"})]}),(0,s.jsx)("div",{className:"flex items-center justify-end w-full sm:w-auto",children:(0,s.jsx)("div",{children:(0,s.jsxs)(m.$,{variant:"default",onClick:i,className:`flex items-center gap-2 w-full sm:w-[10rem] ${a?"bg-highlight/10 text-highlight hover:bg-highlight/20 border-highlight/30":""}`,children:[(0,s.jsx)(d.iyF,{}),(0,s.jsx)("span",{className:"text-sm font-base",children:"Use Same Cluster"})]})})})]}),t.length>0&&(0,s.jsx)(af,{title:"Storage Configuration Required",issues:t}),(0,s.jsxs)(t0,{children:[(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"Storage Type",description:"Choose between local or remote Weaviate storage."}),(0,s.jsx)(t4,{value:u?"Local":h?"Custom":"Cloud",onChange:t=>{let a={save_location_weaviate_is_local:"Local"===t,save_location_weaviate_is_custom:"Custom"===t};"Local"!==t||e?.save_location_wcd_url&&""!==e.save_location_wcd_url.trim()||(a.save_location_wcd_url="http://localhost"),n(a)},labels:["Cloud","Local","Custom"],icons:[(0,s.jsx)(c.tmj,{},"cloud"),(0,s.jsx)(c.vwk,{},"server"),(0,s.jsx)(c.nBS,{},"custom")]})]}),!h&&(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"URL",description:"The URL of your Weaviate cluster to save configs and conversations to."}),(0,s.jsx)(am,{isProtected:!1,value:e?.save_location_wcd_url||"",onChange:e=>{n("save_location_wcd_url",e)},isInvalid:(e?.save_configs_to_weaviate||e?.save_trees_to_weaviate)&&!e?.save_location_wcd_url?.trim()},"elysia-storage-url")]}),h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"HTTP Host",description:"The HTTP host of your custom Weaviate instance."}),(0,s.jsx)(am,{isProtected:!1,value:e?.save_location_custom_http_host||"",onChange:e=>{n("save_location_custom_http_host",e)},isInvalid:!r})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"HTTP Port",description:"The HTTP port of your custom Weaviate instance."}),(0,s.jsx)(am,{isProtected:!1,value:e?.save_location_custom_http_port||80,onChange:e=>{n("save_location_custom_http_port",e)}})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"HTTP Secure",description:"Whether the HTTP connection is secure."}),(0,s.jsx)(t5,{value:e?.save_location_custom_http_secure||!1,onChange:e=>{n("save_location_custom_http_secure",e)}})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"GRPC Host",description:"The GRPC host of your custom Weaviate instance."}),(0,s.jsx)(am,{isProtected:!1,value:e?.save_location_custom_grpc_host||"",onChange:e=>{n("save_location_custom_grpc_host",e)},isInvalid:!l})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"GRPC Port",description:"The GRPC port of your custom Weaviate instance."}),(0,s.jsx)(am,{isProtected:!1,value:e?.save_location_custom_grpc_port||50051,onChange:e=>{n("save_location_custom_grpc_port",e)}})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"GRPC Secure",description:"Whether the GRPC connection is secure."}),(0,s.jsx)(t5,{value:e?.save_location_custom_grpc_secure||!1,onChange:e=>{n("save_location_custom_grpc_secure",e)}})]})]}),u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"GRPC Port",description:"The GRPCport of the local Weaviate cluster."}),(0,s.jsx)(am,{isProtected:!1,value:e?.save_location_local_weaviate_grpc_port||50051,onChange:e=>{n("save_location_weaviate_grpc_port",e)},disabled:!u})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"Port",description:"The port of the local Weaviate cluster."}),(0,s.jsx)(am,{isProtected:!1,value:e?.save_location_local_weaviate_port||0,onChange:e=>{n("save_location_weaviate_port",e)},disabled:!u})]})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"API Key",description:u?"The API key of your local Weaviate cluster. Needs to be configured in the local Weaviate cluster.":"The API key of your Weaviate cluster to save configs and conversations to."}),(0,s.jsx)(am,{isProtected:!0,value:e?.save_location_wcd_api_key||"",onChange:e=>{n("save_location_wcd_api_key",e)},isInvalid:!u&&!h&&(e?.save_configs_to_weaviate||e?.save_trees_to_weaviate)&&!e?.save_location_wcd_api_key?.trim()},"elysia-storage-api-key")]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"Save Conversations",description:"Save conversations to Weaviate."}),(0,s.jsx)(t5,{value:e?.save_trees_to_weaviate||!1,onChange:e=>{n("save_trees_to_weaviate",e)}})]}),(0,s.jsxs)(t1,{children:[(0,s.jsx)(t2,{title:"Save Configs",description:"Save configs to Weaviate."}),(0,s.jsx)(t5,{value:e?.save_configs_to_weaviate||!1,onChange:e=>{n("save_configs_to_weaviate",e)}})]})]})]})}let se=({isProtected:e,startEditable:t,title:a,value:i,onChange:r,onRemove:l})=>{let[u,h]=(0,n.useState)(e&&!t),[f,p]=(0,n.useState)(t),[g,x]=(0,n.useState)(a),[y,b]=(0,n.useState)(i);return(0,n.useEffect)(()=>{x(a),b(i)},[a,i]),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2 w-full",children:[(0,s.jsx)("div",{className:"w-1/3",children:(0,s.jsx)(tH.p,{type:"text",value:g,onChange:e=>x(e.target.value),disabled:!f,placeholder:"Key name"})}),(0,s.jsxs)("div",{className:"flex flex-1 items-center gap-1",children:[(0,s.jsx)(tH.p,{type:u?"password":"text",value:y,onChange:e=>b(e.target.value),disabled:!f,placeholder:"Key value",className:"flex-1"}),!f&&(0,s.jsx)(m.$,{variant:"ghost",className:"h-8 w-8 text-secondary flex-shrink-0",onClick:()=>h(!u),children:u?(0,s.jsx)(ei.$3n,{}):(0,s.jsx)(ei.M8f,{})}),(0,s.jsx)(m.$,{variant:f?"accept":"ghost",className:`h-8 w-8 ${f?"text-primary":"text-secondary"} flex-shrink-0`,onClick:()=>void(f?(p(!1),e&&h(!0),r(a,g,y)):(p(!0),h(!1))),children:f?(0,s.jsx)(Y.CMH,{}):(0,s.jsx)(o.Yvo,{})}),f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.$,{variant:"destructive",className:"h-8 w-8 text-primary flex-shrink-0",onClick:()=>{x(a),b(i),p(!1),e&&h(!0)},children:(0,s.jsx)(d.$8F,{})}),(0,s.jsx)(m.$,{variant:"destructive",className:"h-8 w-8 text-primary flex-shrink-0",onClick:l,children:(0,s.jsx)(c.H8h,{})})]})]})]})};function st({currentUserConfig:e,apiKeysIssues:t,onAddAPIKey:a,onAddAllMissingAPIKeys:n,onUpdateAPIKeys:i,onRemoveAPIKey:o,onOpenEnvModal:l}){return(0,s.jsxs)(tJ,{children:[(0,s.jsx)(tX,{icon:(0,s.jsx)(d.itB,{}),buttonText:"Import .env",buttonIcon:(0,s.jsx)(c.PiR,{}),className:"bg-alt_color_b",header:"API Keys",onClick:l}),t.length>0&&(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-start gap-3 p-4 border border-warning bg-warning/10 rounded-md mb-2",children:[(0,s.jsx)(d.tr_,{className:"text-warning flex-shrink-0 mt-0.5",size:20}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 flex-1",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("h3",{className:"text-warning font-medium",children:"API Keys Required"}),(0,s.jsx)("p",{className:"text-sm text-secondary",children:"The following API keys are required for your selected models:"}),(0,s.jsx)("ul",{className:"text-sm text-secondary list-disc list-inside space-y-1",children:t.map((e,t)=>(0,s.jsx)("li",{className:"break-words",children:e},t))})]}),(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsxs)(m.$,{variant:"outline",size:"sm",onClick:n,className:"bg-accent/10 text-accent hover:bg-accent/20 border-accent/30 flex items-center gap-2 w-full sm:w-auto",children:[(0,s.jsx)(d.YHj,{size:16}),(0,s.jsx)("span",{className:"whitespace-nowrap",children:"Add Missing Keys"})]})})]})]}),(0,s.jsxs)(t0,{children:[Object.entries(e?.settings.API_KEYS||{}).filter(([e])=>e.startsWith("new_key")).map(([e,t])=>(0,s.jsx)(t1,{children:(0,s.jsx)(se,{isProtected:!0,startEditable:!0,title:e,value:t||"",onChange:(e,t,a)=>{i(e,t,a)},onRemove:()=>{o(e)}})},e)),Object.entries(e?.settings.API_KEYS||{}).filter(([e])=>!e.startsWith("new_key")).map(([e,t])=>(0,s.jsx)(t1,{children:(0,s.jsx)(se,{isProtected:!0,startEditable:!1,title:e,onRemove:()=>{o(e)},value:t||"",onChange:(e,t,a)=>{i(e,t,a)}})},e)),(0,s.jsx)("div",{className:"flex items-center justify-center pt-2",children:(0,s.jsxs)(m.$,{variant:"outline",onClick:a,className:"bg-accent/10 hover:bg-accent/20 border-accent/30 text-accent hover:text-accent-foreground flex items-center gap-2 w-full sm:w-auto",children:[(0,s.jsx)(d.YHj,{size:16}),(0,s.jsx)("span",{className:"whitespace-nowrap",children:"Add API Key"})]})})]})]})}function sa({isOpen:e,envContent:t,onOpenChange:a,onEnvContentChange:n,onSubmit:i,onCancel:r}){return(0,s.jsx)(tD.lG,{open:e,onOpenChange:a,children:(0,s.jsxs)(tD.Cf,{className:"sm:max-w-[500px]",children:[(0,s.jsxs)(tD.c7,{children:[(0,s.jsx)(tD.L3,{children:"Import API Keys from .env"}),(0,s.jsxs)(tD.rr,{children:["Paste your .env file content below. We'll automatically parse and add your API keys. Supports both ",(0,s.jsx)("code",{children:"KEY=value"})," and"," ",(0,s.jsx)("code",{children:'KEY="value"'})," formats."]})]}),(0,s.jsx)("div",{className:"grid gap-4 py-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"env-content",className:"text-sm font-medium",children:".env Content"}),(0,s.jsx)("textarea",{id:"env-content",value:t,onChange:e=>n(e.target.value),placeholder:`OPENAI_API_KEY=your_key_here
ANTHROPIC_API_KEY="your_key_here"
GOOGLE_API_KEY=your_key_here`,className:"flex min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-y",rows:8}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Comments (lines starting with #) will be ignored"})]})}),(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,s.jsx)(m.$,{variant:"outline",onClick:r,children:"Cancel"}),(0,s.jsx)(m.$,{onClick:i,disabled:!t.trim(),className:"bg-accent/10 text-accent hover:bg-accent/20",children:"Import Keys"})]})]})})}function ss(){let{id:e,userConfig:t,configIDs:a,updateConfig:i,handleCreateConfig:o,getConfigIDs:l,handleLoadConfig:c,handleDeleteConfig:d,loadingConfig:u,loadingConfigs:h,savingConfig:m,updateUnsavedChanges:f,initError:p}=(0,n.useContext)(tr.I),{currentUserConfig:g,currentFrontendConfig:x,changedConfig:y,matchingConfig:b,editName:v,isNewConfig:_,isDefaultConfig:w,nameExists:j,nameIsEmpty:k,setCurrentUserConfig:N,setCurrentFrontendConfig:T,setChangedConfig:I,setEditName:C,updateFields:E,updateFrontendFields:S,updateSettingsFields:q,cancelConfig:A}=function(e,t){let[a,s]=(0,n.useState)(null),[i,r]=(0,n.useState)(null),[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),[m,f]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),[x,y]=(0,n.useState)(!1),[b,v]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{e?.backend&&e?.frontend&&(s({...e.backend}),r({...e.frontend}),l(!1),d(!0))},[e]),(0,n.useEffect)(()=>{if(a&&t){let e=a.id,s=t.some(t=>t.config_id===e);g(t.some(t=>t.default&&t.config_id===e)),f(!s)}},[t,a]),(0,n.useEffect)(()=>{if(a&&e?.backend){let t=tF()(a,e.backend),s=tF()(i,e.frontend);d(t&&s)}},[a,i,e]),(0,n.useEffect)(()=>{a&&t&&y(t.some(e=>e.name===a.name&&e.config_id!==a.id)),a&&v(!a.name||""===a.name.trim())},[a?.name,t,a?.id]),{currentUserConfig:a,currentFrontendConfig:i,changedConfig:o,matchingConfig:c,editName:u,isNewConfig:m,isDefaultConfig:p,nameExists:x,nameIsEmpty:b,setCurrentUserConfig:s,setCurrentFrontendConfig:r,setChangedConfig:l,setEditName:h,updateFields:(e,t)=>{a&&(s({...a,[e]:t}),l(!0))},updateFrontendFields:(e,t)=>{i&&("string"==typeof e?r({...i,[e]:t}):r({...i,...e}),l(!0))},updateSettingsFields:(e,t)=>{a&&("string"==typeof e?s({...a,settings:{...a.settings,[e]:t}}):s({...a,settings:{...a.settings,...e}}),l(!0))},cancelConfig:()=>{e?.backend&&e?.frontend&&(s({...e.backend}),r({...e.frontend}),l(!1))}}}(t,a),{showConfirmModal:P}=(0,n.useContext)(to.$),[W,D]=(0,n.useState)(null),[R,K]=(0,n.useState)(!0),{currentValidation:L,getMissingApiKeys:$,getStorageIssues:Z,isConfigValid:H,getWeaviateIssues:O,getModelsIssues:z,getApiKeysIssues:M}=tY(g,x,W),{addAPIKey:B,addAllMissingAPIKeys:F,removeAPIKey:V,updateAPIKeys:U,parseEnvContent:G}={addAPIKey:()=>{if(g){let e={...g.settings.API_KEYS};e.new_key="new_value",N({...g,settings:{...g.settings,API_KEYS:e}}),I(!0)}},addAllMissingAPIKeys:()=>{if(g){let e={...g.settings.API_KEYS};$.forEach(t=>{e[t]||(e[t]="")}),N({...g,settings:{...g.settings,API_KEYS:e}}),I(!0)}},removeAPIKey:e=>{if(g){let t={...g.settings.API_KEYS};delete t[e],N({...g,settings:{...g.settings,API_KEYS:t}}),I(!0)}},updateAPIKeys:(e,t,a)=>{if(g){let s={...g.settings.API_KEYS};delete s[e],s[t]=a,N({...g,settings:{...g.settings,API_KEYS:s}}),I(!0)}},parseEnvContent:e=>{if(!g)return;let t=e.split("\n").filter(e=>e.trim()&&!e.trim().startsWith("#")),a={...g.settings.API_KEYS};t.forEach(e=>{let t=e.trim().match(/^([^=]+)=(.+)$/);if(t){let e=t[1].trim(),s=t[2].trim();(s.startsWith('"')&&s.endsWith('"')||s.startsWith("'")&&s.endsWith("'"))&&(s=s.slice(1,-1)),e&&s&&(a[e]=s)}}),N({...g,settings:{...g.settings,API_KEYS:a}}),I(!0)}},[Y,Q]=(0,n.useState)(!0),[J,X]=(0,n.useState)(!1),[ee,et]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{try{K(!0);let e=await tM();e.error?console.error("Error fetching models:",e.error):D(e.models)}catch(e){console.error("Failed to fetch models:",e)}finally{K(!1)}})()},[]);let ea=async(e=!1)=>{g&&x&&await i({backend:g,frontend:x},e)&&(I(!1),C(!1))},es=t=>{e&&(y?P("Unsaved Changes","You have unsaved changes. Are you sure you want to load a new config?",()=>en(t)):en(t))},en=t=>{e&&(c(e,t),C(!1))},ei=async()=>{y?P("Unsaved Changes","You have unsaved changes. Are you sure you want to create a new config?",()=>er()):er()},er=async()=>{e&&(await o(e),I(!1),C(!1))},eo=function(e,t){if(!e||!t)return!1;let a=t.save_configs_to_weaviate,s=t.save_trees_to_weaviate;if(!(a||s))return!1;let n=e.settings?.WEAVIATE_IS_LOCAL,i=e.settings?.WCD_URL?.trim()||"",r=e.settings?.WCD_API_KEY?.trim()||"",o=e.settings?.LOCAL_WEAVIATE_GRPC_PORT||0,l=e.settings?.LOCAL_WEAVIATE_PORT||0,c=t.save_location_weaviate_is_local,d=t.save_location_wcd_url?.trim()||"",u=t.save_location_wcd_api_key?.trim()||"",h=t.save_location_local_weaviate_grpc_port||0,m=t.save_location_local_weaviate_port||0;return i!==d||n!==c||!(n||r===u)||!(!n||!c||o===h&&l===m)}(g,x);return(0,n.useEffect)(()=>{f(y)},[y]),(0,s.jsxs)("div",{className:"flex flex-col w-full h-screen",children:[(0,s.jsxs)("div",{className:"flex flex-col w-full gap-4 min-h-0 items-start justify-start h-full fade-in p-2 lg:p-4",children:[(0,s.jsx)(a3,{currentUserConfig:g,configIDs:a,loadingConfigs:h,onCreateConfig:ei,onRefreshConfigs:()=>{e&&l(e)},onSelectConfig:es,onDeleteConfig:(t,a)=>{e&&d(e,t,a)}}),(0,s.jsxs)("div",{className:"flex flex-row w-full gap-4 min-h-0 items-start justify-start h-full",children:[(0,s.jsx)(a5,{currentUserConfig:g,configIDs:a,loadingConfigs:h,onCreateConfig:ei,onRefreshConfigs:()=>{e&&l(e)},onSelectConfig:es,onDeleteConfig:(t,a)=>{e&&d(e,t,a)}}),(0,s.jsxs)("div",{className:"flex w-full lg:w-3/4 xl:w-4/5 flex-col min-h-0 h-full fade-in",children:[g&&x&&(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"flex flex-col lg:flex-row items-start lg:items-end justify-between gap-4 w-full py-4 flex-shrink-0",children:[(0,s.jsx)(a6,{currentUserConfig:g,editName:v,nameExists:j,nameIsEmpty:k,isNewConfig:_,isDefaultConfig:w,loadingConfigs:h,onNameChange:e=>E("name",e),onEditStart:()=>C(!0),onEditEnd:()=>C(!1)}),(0,s.jsx)(a9,{changedConfig:y,matchingConfig:b,isNewConfig:_,isDefaultConfig:w,isConfigValid:H,nameExists:j,nameIsEmpty:k,loadingConfig:u,loadingConfigs:h,savingConfig:m,saveAsDefault:Y,userConfigId:t?.backend?.id,onSaveAsDefaultChange:Q,onSaveConfig:ea,onCancelConfig:A,onDeleteConfig:()=>{e&&t?.backend?.id&&d(e,t.backend.id,!0)}})]}),t?(0,s.jsx)("div",{className:`flex flex-col gap-6 overflow-y-auto pb-8 flex-1 min-h-0 fade-in transition-opacity mb-8 ${u?"opacity-70":"opacity-100"}`,children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(a8,{currentUserConfig:g,currentFrontendConfig:x,weaviateIssues:O(),wcdUrlValid:L.wcd_url,wcdApiKeyValid:L.wcd_api_key,customWeaviateHttpHostValid:L.custom_weaviate_http_host,customWeaviateGrpcHostValid:L.custom_weaviate_grpc_host,onUpdateSettings:q,onUpdateFrontend:S}),(0,s.jsx)(a7,{currentFrontendConfig:x,storageIssues:Z,shouldHighlightUseSameCluster:eo,onUpdateFrontend:S,onCopyWeaviateValues:()=>{let e=function(e,t){if(!e||!t)return null;let a=e.settings.WCD_URL||"",s=e.settings.WCD_API_KEY||"",n=e.settings.WEAVIATE_IS_LOCAL,i=e.settings.LOCAL_WEAVIATE_GRPC_PORT||0,r=e.settings.LOCAL_WEAVIATE_PORT||0,o=e.settings.CUSTOM_HTTP_HOST||"",l=e.settings.CUSTOM_HTTP_PORT||80,c=e.settings.CUSTOM_HTTP_SECURE||!0,d=e.settings.CUSTOM_GRPC_HOST||"",u=e.settings.CUSTOM_GRPC_PORT||50051,h=e.settings.CUSTOM_GRPC_SECURE||!0,m=e.settings.WEAVIATE_IS_CUSTOM;return{...t,save_location_wcd_url:a,save_location_wcd_api_key:s,save_location_weaviate_is_local:n,save_location_local_weaviate_grpc_port:i,save_location_local_weaviate_port:r,save_location_custom_http_host:o,save_location_custom_http_port:l,save_location_custom_http_secure:c,save_location_custom_grpc_host:d,save_location_custom_grpc_port:u,save_location_custom_grpc_secure:h,save_location_weaviate_is_custom:m}}(g,x);e&&(T(e),I(!0))},customStorageHttpHostValid:L.custom_storage_http_host,customStorageGrpcHostValid:L.custom_storage_grpc_host}),(0,s.jsx)(t6,{currentUserConfig:g,onUpdateFields:E,onUpdateSettings:q}),(0,s.jsx)(ag,{currentUserConfig:g,modelsData:W,loadingModels:R,modelsIssues:z(),baseProviderValid:L.base_provider,baseModelValid:L.base_model,complexProviderValid:L.complex_provider,complexModelValid:L.complex_model,onUpdateSettings:q,onUpdateConfig:N,setChangedConfig:I}),(0,s.jsx)(st,{currentUserConfig:g,apiKeysIssues:M(),onAddAPIKey:B,onAddAllMissingAPIKeys:F,onUpdateAPIKeys:U,onRemoveAPIKey:V,onOpenEnvModal:()=>X(!0)})]})}):p?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full gap-4",children:[(0,s.jsx)("p",{className:"text-error text-lg font-semibold",children:"Initialization Failed"}),(0,s.jsx)("p",{className:"text-secondary text-center max-w-md",children:p}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-background rounded-md hover:bg-primary/90 transition-colors",children:"Retry"})]}):(0,s.jsx)("div",{className:"flex items-center justify-center h-full w-full",children:(0,s.jsx)("p",{className:"text-primary shine",children:"Loading config..."})})]})]})]}),(0,s.jsx)(sa,{isOpen:J,envContent:ee,onOpenChange:X,onEnvContentChange:et,onSubmit:()=>{ee.trim()&&(G(ee),et(""),X(!1))},onCancel:()=>{X(!1),et("")}})]})}let sn={light:"",dark:".dark"},si=n.createContext(null);function sr(){let e=n.useContext(si);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let so=n.forwardRef(({id:e,className:t,children:a,config:i,...r},o)=>{let l=n.useId(),c=`chart-${e||l.replace(/:/g,"")}`;return(0,s.jsx)(si.Provider,{value:{config:i},children:(0,s.jsxs)("div",{"data-chart":c,ref:o,className:(0,C.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-primary [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-background_alt [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-foreground [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...r,children:[(0,s.jsx)(sl,{id:c,config:i}),(0,s.jsx)(eZ.u,{children:a})]})})});so.displayName="Chart";let sl=({id:e,config:t})=>{let a=Object.entries(t).filter(([,e])=>e.theme||e.color);return a.length?(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(sn).map(([t,s])=>`
${s} [data-chart=${e}] {
${a.map(([e,a])=>{let s=a.theme?.[t]||a.color;return s?`  --color-${e}: ${s};`:null}).join("\n")}
}
`).join("\n")}}):null},sc=eB.m,sd=n.forwardRef(({active:e,payload:t,className:a,indicator:i="dot",hideLabel:r=!1,hideIndicator:o=!1,label:l,labelFormatter:c,labelClassName:d,formatter:u,color:h,nameKey:m,labelKey:f},p)=>{let{config:g}=sr(),x=n.useMemo(()=>{if(r||!t?.length)return null;let[e]=t,a=`${f||e.dataKey||e.name||"value"}`,n=su(g,e,a),i=f||"string"!=typeof l?n?.label:g[l]?.label||l;return c?(0,s.jsx)("div",{className:(0,C.cn)("font-medium",d),children:c(i,t)}):i?(0,s.jsx)("div",{className:(0,C.cn)("font-medium",d),children:i}):null},[l,c,t,r,d,g,f]);if(!e||!t?.length)return null;let y=1===t.length&&"dot"!==i;return(0,s.jsxs)("div",{ref:p,className:(0,C.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-secondary bg-background px-2.5 py-1.5 text-xs shadow-xl",a),children:[y?null:x,(0,s.jsx)("div",{className:"grid gap-1.5",children:t.map((e,t)=>{let a=`${m||e.name||e.dataKey||"value"}`,n=su(g,e,a),r=h||e.payload.fill||e.color;return(0,s.jsx)("div",{className:(0,C.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-secondary","dot"===i&&"items-center"),children:u&&e?.value!==void 0&&e.name?u(e.value,e.name,e,t,e.payload):(0,s.jsxs)(s.Fragment,{children:[n?.icon?(0,s.jsx)(n.icon,{}):!o&&(0,s.jsx)("div",{className:(0,C.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===i,"w-1":"line"===i,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===i,"my-0.5":y&&"dashed"===i}),style:{"--color-bg":r,"--color-border":r}}),(0,s.jsxs)("div",{className:(0,C.cn)("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[(0,s.jsxs)("div",{className:"grid gap-1.5",children:[y?x:null,(0,s.jsx)("span",{className:"text-secondary",children:n?.label||e.name})]}),e.value&&(0,s.jsx)("span",{className:"font-mono font-medium tabular-nums text-primary",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function su(e,t,a){if("object"!=typeof t||null===t)return;let s="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,n=a;return a in t&&"string"==typeof t[a]?n=t[a]:s&&a in s&&"string"==typeof s[a]&&(n=s[a]),n in e?e[n]:e[a]}async function sh(e){performance.now();try{if(!e)return{total_feedback:0,feedback_by_value:{positive:0,negative:0,superpositive:0},feedback_by_date:{}};let t=await fetch(`${tn.Hc}/feedback/metadata/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)return console.error(`Get Feedback error! status: ${t.status} ${t.statusText}`),{total_feedback:0,feedback_by_value:{positive:0,negative:0,superpositive:0},feedback_by_date:{}};return await t.json()}catch(e){return console.error("Get Feedback error:",e),{total_feedback:0,feedback_by_value:{positive:0,negative:0,superpositive:0},feedback_by_date:{}}}finally{}}sd.displayName="ChartTooltip",eF.s,n.forwardRef(({className:e,hideIcon:t=!1,payload:a,verticalAlign:n="bottom",nameKey:i},r)=>{let{config:o}=sr();return a?.length?(0,s.jsx)("div",{ref:r,className:(0,C.cn)("flex items-center justify-center gap-4","top"===n?"pb-3":"pt-3",e),children:a.map(e=>{let a=`${i||e.dataKey||"value"}`,n=su(o,e,a);return(0,s.jsxs)("div",{className:(0,C.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-secondary"),children:[n?.icon&&!t?(0,s.jsx)(n.icon,{}):(0,s.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),n?.label]},e.value)})}):null}).displayName="ChartLegend";let sm={count:{label:"Count",color:"#ffffff"}};function sf(){let{id:e}=(0,n.useContext)(tr.I),t=(0,n.useRef)(!1),[a,r]=(0,n.useState)(null),{changePage:l}=(0,n.useContext)(i.z),[c,d]=(0,n.useState)([]),u=async()=>{if(!e||t.current)return;t.current=!0;let a=await sh(e);r(a),(e=>{if(!e)return;let t=new Map;for(let a in e.feedback_by_date){let s=new Date(a),n=s.toLocaleDateString(),i=s.toISOString().split("T")[0];t.has(i)||t.set(i,{day:n,count:0,positive:0,negative:0,very_positive:0});let r=t.get(i),o=e.feedback_by_date[a];t.set(i,{...r,count:r.count+o.count,positive:r.positive+o.positive,negative:r.negative+o.negative,very_positive:r.very_positive+o.superpositive})}d(Array.from(t.values()).sort((t,a)=>{let s=new Date(Object.keys(e.feedback_by_date).find(e=>new Date(e).toLocaleDateString()===t.day)||""),n=new Date(Object.keys(e.feedback_by_date).find(e=>new Date(e).toLocaleDateString()===a.day)||"");return s.getTime()-n.getTime()}))})(a),t.current=!1};return(0,n.useEffect)(()=>{u()},[e]),(0,s.jsx)("div",{className:"flex flex-col w-full gap-2 items-start justify-start",tabIndex:0,children:(0,s.jsxs)("div",{className:"flex flex-col gap-8 items-start justify-start w-full",children:[(0,s.jsx)("div",{className:"flex items-center justify-start gap-2",children:(0,s.jsx)("p",{className:"text-primary text-xl font-heading font-bold",children:"Evaluation Dashboard"})}),t.current&&(0,s.jsx)("div",{className:"w-full flex flex-col items-start justify-start gap-2 fade-in",children:(0,s.jsx)(ea.E,{className:"w-full h-[25vh]"})}),!t.current&&a&&(0,s.jsx)("div",{className:"w-full flex flex-col items-start justify-start gap-2 fade-in",children:(0,s.jsxs)(el,{className:"w-full",children:[(0,s.jsxs)(ec,{children:[(0,s.jsx)(ed,{children:(0,s.jsxs)("div",{className:"w-full flex items-start justify-between",children:[(0,s.jsx)("p",{children:"Feedback Evaluation"}),(0,s.jsxs)(m.$,{onClick:()=>{l("eval",{page:"feedback"},!0)},className:"text-primary",children:[(0,s.jsx)(o.Tnl,{}),"Browse Feedback"]})]})}),(0,s.jsx)(eu,{children:"Feedback received over the last 30 days"})]}),(0,s.jsxs)(eh,{className:"flex lg:flex-row flex-col gap-2",children:[(0,s.jsx)(so,{config:sm,className:"max-h-[25vh] lg:w-2/3 w-full",children:(0,s.jsxs)(eH.E,{accessibilityLayer:!0,data:c,children:[(0,s.jsx)(eO.d,{vertical:!1}),(0,s.jsx)(ez.W,{dataKey:"day",tickLine:!1,tickMargin:10,axisLine:!1,tickFormatter:e=>e}),(0,s.jsx)(sc,{content:(0,s.jsx)(sd,{})}),(0,s.jsx)(eV.y,{dataKey:"positive",fill:"#A5FF90",radius:3}),(0,s.jsx)(eV.y,{dataKey:"negative",fill:"#BA2B2B",radius:3}),(0,s.jsx)(eV.y,{dataKey:"very_positive",fill:"#ABCDFF",radius:3})]})}),(0,s.jsxs)("div",{className:"w-full lg:w-1/3 flex flex-col border border-secondary rounded-md h-full",children:[(0,s.jsxs)("div",{className:"flex flex-col flex-1 items-start justify-start gap-2 p-4 w-full border-b border-secondary",children:[(0,s.jsx)("p",{className:"text-secondary text-sm",children:"Total Feedback"}),(0,s.jsx)("p",{className:"text-primary text-3xl font-bold",children:a.total_feedback})]}),(0,s.jsxs)("div",{className:"flex items-start justify-start w-full flex-1",children:[(0,s.jsxs)("div",{className:"flex flex-col items-start justify-start border-r border-secondary gap-2 w-1/3 p-2",children:[(0,s.jsx)("p",{className:"text-secondary text-sm",children:"Very Positive"}),(0,s.jsx)("p",{className:"text-highlight text-3xl font-bold",children:a.feedback_by_value.superpositive})]}),(0,s.jsxs)("div",{className:"flex flex-col items-start justify-start border-r border-secondary gap-2 w-1/3 p-2",children:[(0,s.jsx)("p",{className:"text-secondary text-sm",children:"Positive"}),(0,s.jsx)("p",{className:"text-accent text-3xl font-bold",children:a.feedback_by_value.positive})]}),(0,s.jsxs)("div",{className:"flex flex-col items-start justify-start gap-2 w-1/3 p-2",children:[(0,s.jsx)("p",{className:"text-secondary text-sm",children:"Negative"}),(0,s.jsx)("p",{className:"text-error text-3xl font-bold",children:a.feedback_by_value.negative})]})]})]})]})]})})]})})}let sp=({tasks_completed:e})=>e&&0!==e.length?(0,s.jsx)("div",{className:"w-full flex flex-col gap-4",children:e.map((e,t)=>(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"flex flex-col gap-4 p-4 bg-background_alt rounded-md border border-foreground",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-6 h-6 bg-accent rounded-full",children:(0,s.jsx)("span",{className:"text-xs font-bold text-white",children:t+1})}),(0,s.jsxs)("p",{className:"text-secondary text-sm font-medium",children:["Task ",t+1]})]}),(0,s.jsx)("div",{className:"p-3 bg-background rounded-md border border-foreground",children:(0,s.jsx)("p",{className:"text-primary text-sm leading-relaxed",children:e.prompt})})]}),(0,s.jsx)("div",{className:"flex flex-col gap-3",children:e.task.map((e,a)=>(0,s.jsxs)(r.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*t+.05*a},className:"flex flex-col gap-3 p-3 bg-background rounded-md border border-foreground",children:[(0,s.jsx)("div",{className:"flex flex-col gap-2",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-5 h-5 bg-highlight/20 rounded-full flex-shrink-0 mt-0.5",children:(0,s.jsx)("span",{className:"text-xs font-bold text-highlight",children:a+1})}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-primary text-sm font-medium leading-relaxed",children:e.todo}),e.reasoning&&(0,s.jsxs)("p",{className:"text-secondary text-xs leading-relaxed",children:[(0,s.jsx)("span",{className:"font-medium",children:"Reasoning:"})," ",e.reasoning]}),e.extra_string&&(0,s.jsxs)("p",{className:"text-secondary text-xs leading-relaxed",children:[(0,s.jsx)("span",{className:"font-medium",children:"Details:"})," ",e.extra_string]})]})]})}),(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center flex-wrap pl-8",children:[(0,s.jsx)(ef,{className:"text-xs bg-accent/10 text-accent border-accent/20",children:e.task}),(0,s.jsxs)(ef,{className:"text-xs bg-highlight/10 text-highlight border-highlight/20",children:["Count: ",e.count]}),e.action&&(0,s.jsxs)(ef,{className:"text-xs bg-secondary/10 text-secondary border-secondary/20",children:["Action: ",e.action]})]})]},a))})]},t))}):(0,s.jsx)("div",{className:"flex items-center justify-center w-full p-8 bg-background_alt rounded-md border border-foreground",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3 text-secondary",children:[(0,s.jsx)(o.vDh,{size:32,className:"opacity-50"}),(0,s.jsx)("p",{className:"text-sm",children:"No tasks completed"})]})});var sg=a(57518);let sx=sg.bL,sy=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(sg.B8,{ref:a,className:(0,C.cn)("inline-flex h-9 items-center justify-center rounded-lg text-secondary",e),...t}));sy.displayName=sg.B8.displayName;let sb=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(sg.l9,{ref:a,className:(0,C.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md h-full text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background_alt data-[state=active]:text-primary ",e),...t}));sb.displayName=sg.l9.displayName;let sv=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(sg.UC,{ref:a,className:(0,C.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));function s_({feedbackData:e,selectedIndex:t,onClose:a}){let n=e.items[t];return(0,s.jsxs)(r.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex flex-col gap-6 w-full pb-8",children:[(0,s.jsxs)(tJ,{children:[(0,s.jsx)(tX,{icon:(0,s.jsx)(o.MJW,{}),className:"bg-accent",header:"Feedback Details",buttonIcon:(0,s.jsx)(o.OZi,{}),buttonText:"Close",onClick:a}),(0,s.jsxs)(t0,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-col p-4 border border-foreground bg-background_alt rounded-md",children:[(0,s.jsxs)("div",{className:"w-full flex justify-between items-center mb-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-secondary",children:"Query ID"}),(0,s.jsx)(v,{copyText:n.query_id})]}),(0,s.jsx)("p",{className:"text-primary text-sm font-mono truncate",children:n.query_id})]}),(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"flex flex-col p-4 border border-foreground bg-background_alt rounded-md",children:[(0,s.jsxs)("div",{className:"w-full flex justify-between items-center mb-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-secondary",children:"Conversation ID"}),(0,s.jsx)(v,{copyText:n.conversation_id})]}),(0,s.jsx)("p",{className:"text-primary text-sm font-mono truncate",children:n.conversation_id})]}),(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col p-4 border border-foreground bg-background_alt rounded-md",children:[(0,s.jsxs)("div",{className:"w-full flex justify-between items-center mb-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-secondary",children:"User ID"}),(0,s.jsx)(v,{copyText:n.user_id})]}),(0,s.jsx)("p",{className:"text-primary text-sm font-mono truncate",children:n.user_id})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full",children:[(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"flex flex-col p-4 border border-foreground bg-background_alt rounded-md",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-secondary mb-2",children:"Base Model"}),(0,s.jsx)("p",{className:"text-primary text-sm",children:n.base_lm_used})]}),(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex flex-col p-4 border border-foreground bg-background_alt rounded-md",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-secondary mb-2",children:"Complex Model"}),(0,s.jsx)("p",{className:"text-primary text-sm",children:n.complex_lm_used})]})]})]})]}),(0,s.jsx)(tJ,{children:(0,s.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"w-full",children:(0,s.jsxs)(sx,{defaultValue:"history",className:"w-full",children:[(0,s.jsxs)(sy,{className:"grid w-full grid-cols-2 mb-6",children:[(0,s.jsx)(sb,{value:"history",className:"flex items-center gap-2",children:"Conversation History"}),(0,s.jsx)(sb,{value:"tasks",className:"flex items-center gap-2",children:"Tasks"})]}),(0,s.jsx)(sv,{value:"history",className:"mt-0",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full overflow-y-auto",children:[(0,s.jsx)("div",{className:"flex flex-col gap-3 p-4 bg-background_alt rounded-md border border-foreground",children:n.conversation_history.map((e,t)=>(0,s.jsx)(r.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*t},children:(0,s.jsx)(tS,{message:e,messageIndex:t})},t))}),n.action_information.length>0&&(0,s.jsxs)("div",{className:"flex flex-col gap-3 p-4 bg-background_alt rounded-md border border-foreground",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("p",{className:"text-primary text-sm font-medium",children:"Queries Performed"})}),(0,s.jsx)(er.w,{className:"my-2"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.action_information.map((e,t)=>(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"p-3 bg-background rounded-md border border-foreground",children:[(0,s.jsx)("p",{className:"text-primary text-sm font-medium mb-1",children:e.code&&e.code.text}),(0,s.jsxs)("p",{className:"text-secondary text-xs",children:["Collection: ",e.collection_name]})]},t))})]})]})}),(0,s.jsx)(sv,{value:"tasks",className:"mt-0",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 p-4 bg-background_alt rounded-md border border-foreground",children:[(0,s.jsx)("p",{className:"text-primary text-sm font-medium",children:"Task Route"}),(0,s.jsx)("div",{className:"flex flex-row gap-2 items-center w-full justify-center flex-wrap",children:n.route.map((e,t)=>(0,s.jsxs)(r.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*t},className:"flex items-center",children:[(0,s.jsx)("div",{className:"px-3 py-1 bg-accent/10 text-accent rounded-md border border-accent/20",children:(0,s.jsx)("p",{className:"font-medium text-sm",children:e})}),t<n.route.length-1&&(0,s.jsx)("span",{className:"mx-2 text-secondary",children:"→"})]},t))})]}),(0,s.jsx)(sp,{tasks_completed:n.tasks_completed})]})})]})})})]})}sv.displayName=sg.UC.displayName;var sw=a(73033);function sj(){let e=(0,aw.useSearchParams)(),{changePage:t}=(0,n.useContext)(i.z),a=(0,aw.usePathname)(),{id:c}=(0,n.useContext)(tr.I),[d,h]=(0,n.useState)(null),p=(0,n.useRef)(!1),[g,x]=(0,n.useState)("feedback_date"),[y,b]=(0,n.useState)(!1),[v,_]=(0,n.useState)(1),[w,j]=(0,n.useState)("all"),[k,N]=(0,n.useState)(0),T=async()=>{c&&N(Math.ceil((await sh(c)).total_feedback/20)-1)},I=async()=>{if(!c||p.current)return;p.current=!0,E(null);let e=[];"positive"===w?e.push({field:"feedback",operator:"equal",value:1}):"negative"===w?e.push({field:"feedback",operator:"equal",value:0}):"very_positive"===w&&e.push({field:"feedback",operator:"equal",value:2}),c&&e.push({field:"user_id",operator:"equal",value:c}),h(await aD(c,"ELYSIA_FEEDBACK__",v-1,20,g,y,{type:"all",filters:e},"")),T(),p.current=!1};(0,n.useEffect)(()=>{I()},[v,20,g,y,w,c]),(0,n.useEffect)(()=>{if("/eval/feedback"===a){let t=e.get("page");t&&_(parseInt(t))}},[e,a]);let[C,E]=(0,n.useState)(null),S=a=>{new URLSearchParams(e.toString()).set("page",a.toString()),t("eval",{page:"feedback"},!0)},q=async e=>{let t=d?.items[e];if(t){let e=await (0,sw.F)(t.user_id,t.conversation_id,t.query_id);if(e.error)throw Error(e.error);I()}};return(0,s.jsx)("div",{className:"flex flex-col w-full h-full",children:(0,s.jsxs)("div",{className:"flex flex-col w-full gap-4 min-h-0 items-start justify-start h-full fade-in p-2 lg:p-4",children:[(0,s.jsx)("div",{className:"flex mb-2 w-full justify-start",children:(0,s.jsx)(a$,{children:(0,s.jsxs)(aZ,{children:[(0,s.jsx)(aH,{children:(0,s.jsx)(aO,{className:"cursor-pointer text-lg flex items-center gap-2",onClick:()=>{t("eval",{},!0)},children:"Evaluation"})}),(0,s.jsx)(aM,{}),(0,s.jsx)(aH,{className:"cursor-pointer",children:(0,s.jsxs)(az,{className:"text-lg gap-2 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"flex items-center justify-center shrink-0 w-8 h-8 bg-highlight rounded-md",children:(0,s.jsx)(o.DEU,{size:18})}),"Feedback"]})})]})})}),(0,s.jsxs)("div",{className:"flex flex-col w-full gap-6",children:[(0,s.jsxs)(tJ,{children:[(0,s.jsx)(tX,{icon:(0,s.jsx)(o.DEU,{}),className:"bg-highlight",header:"User Feedback",buttonIcon:(0,s.jsx)(l.JbZ,{}),buttonText:"Refresh",onClick:()=>I()}),(0,s.jsx)(t0,{children:(0,s.jsx)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-3 lg:gap-4 w-full",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3 w-full lg:w-auto",children:[(0,s.jsxs)(f.rI,{children:[(0,s.jsx)(f.ty,{asChild:!0,children:(0,s.jsx)(m.$,{size:"sm",variant:"outline",children:"feedback_date"===g?"Date":"time_taken_seconds"===g?"Query Time":"Sort By"})}),(0,s.jsx)(f.SQ,{children:(0,s.jsxs)(f.Hr,{value:g||"",onValueChange:x,children:[(0,s.jsx)(f.Ht,{value:"feedback_date",children:"Date"}),(0,s.jsx)(f.Ht,{value:"time_taken_seconds",children:"Query Time"})]})})]}),(0,s.jsxs)(f.rI,{children:[(0,s.jsx)(f.ty,{asChild:!0,children:(0,s.jsx)(m.$,{size:"sm",variant:"outline",children:y?"Ascending":"Descending"})}),(0,s.jsx)(f.SQ,{children:(0,s.jsxs)(f.Hr,{value:y?"ascending":"descending",onValueChange:e=>{b("ascending"===e)},children:[(0,s.jsx)(f.Ht,{value:"ascending",children:"Ascending"}),(0,s.jsx)(f.Ht,{value:"descending",children:"Descending"})]})})]}),(0,s.jsxs)(f.rI,{children:[(0,s.jsx)(f.ty,{asChild:!0,children:(0,s.jsxs)(m.$,{size:"sm",variant:"outline",children:["Filter by ",w]})}),(0,s.jsx)(f.SQ,{children:(0,s.jsxs)(f.Hr,{value:w,onValueChange:j,children:[(0,s.jsx)(f.Ht,{value:"all",children:"All"}),(0,s.jsx)(f.Ht,{value:"very_positive",children:"Very Positive"}),(0,s.jsx)(f.Ht,{value:"positive",children:"Positive"}),(0,s.jsx)(f.Ht,{value:"negative",children:"Negative"})]})})]})]})})})]}),(0,s.jsx)(tJ,{children:(0,s.jsx)("div",{className:"flex flex-col lg:flex-row items-start justify-start w-full gap-6 h-full min-h-0",children:p.current?(0,s.jsxs)("div",{className:"w-full flex flex-col gap-4 items-center justify-center fade-in",children:[(0,s.jsx)(ea.E,{className:"w-full h-[15vh]"}),(0,s.jsx)(ea.E,{className:"w-full h-[15vh]"}),(0,s.jsx)(ea.E,{className:"w-full h-[15vh]"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:`${null!==C?"hidden lg:flex":"flex"} flex flex-col gap-4 w-full lg:w-1/3`,children:[(0,s.jsx)(r.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-center w-full p-3 bg-background_alt rounded-md border border-foreground",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,s.jsxs)(m.$,{size:"sm",variant:"ghost",onClick:()=>void(1!==v&&(E(null),S(v-1))),disabled:1===v,className:"flex items-center gap-2",children:[(0,s.jsx)(o.pyl,{size:16}),"Previous"]}),(0,s.jsx)("div",{className:"flex items-center gap-2 px-3",children:(0,s.jsxs)("span",{className:"text-primary text-sm font-medium",children:["Page ",v," of ",k+1]})}),(0,s.jsxs)(m.$,{size:"sm",variant:"ghost",onClick:()=>void(!(v+1>k)&&(E(null),S(v+1))),disabled:v+1>k,className:"flex items-center gap-2",children:["Next",(0,s.jsx)(o.mf,{size:16})]})]})}),(0,s.jsx)("div",{className:"flex flex-col max-h-[calc(100vh-20rem)] overflow-y-auto mb-20 gap-2",children:d&&d.items&&d.items.map((e,t)=>(0,s.jsx)(r.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*t},className:`flex items-start justify-start w-full gap-3 p-4 rounded-md border transition-all duration-200 ease-in-out cursor-pointer hover:shadow-sm ${C===t?"bg-accent/10 border-accent shadow-sm":"bg-background_alt border-foreground hover:bg-background_alt/80"}`,onClick:()=>{C===t?E(null):E(t)},children:(0,s.jsxs)("div",{className:"flex flex-col gap-3 w-full min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between w-full gap-2",children:[(0,s.jsx)("p",{className:"text-sm text-primary line-clamp-2 flex-1",children:e.user_prompt}),(0,s.jsxs)(f.rI,{children:[(0,s.jsx)(f.ty,{asChild:!0,children:(0,s.jsx)(m.$,{size:"icon",variant:"ghost",className:"h-8 w-8 flex-shrink-0",children:(0,s.jsx)(aI.aQx,{size:14})})}),(0,s.jsx)(f.SQ,{side:"right",align:"start",children:(0,s.jsxs)(f._2,{onClick:e=>{e.stopPropagation(),q(t)},className:"text-error focus:text-error focus:bg-error/10",children:[(0,s.jsx)(u.ttk,{size:14}),(0,s.jsx)("span",{children:"Delete"})]})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-start gap-2 flex-wrap",children:[(0,s.jsx)(ef,{className:"text-xs bg-background_alt text-secondary",children:new Date(e.feedback_date).toLocaleDateString()}),(0,s.jsxs)(ef,{className:"text-xs bg-background_alt text-secondary",children:[Math.round(e.time_taken_seconds),"s"]}),2===e.feedback&&(0,s.jsx)(ef,{className:"text-highlight bg-highlight/10 border-highlight/20 text-xs",children:"Very Positive"}),1===e.feedback&&(0,s.jsx)(ef,{className:"text-accent bg-accent/10 border-accent/20 text-xs",children:"Positive"}),0===e.feedback&&(0,s.jsx)(ef,{className:"text-error bg-error/10 border-error/20 text-xs",children:"Negative"})]})]})},t))})]}),(0,s.jsx)("div",{className:"w-full lg:w-2/3 flex flex-col min-h-0 h-full",children:null!==C&&d?(0,s.jsx)("div",{className:"h-[40rem] overflow-y-scroll",children:(0,s.jsx)(s_,{feedbackData:d,selectedIndex:C,onClose:()=>E(null)})}):(0,s.jsx)("div",{className:"flex items-center justify-center w-full h-full min-h-[20rem] bg-background_alt rounded-md border border-foreground",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3 text-secondary",children:[(0,s.jsx)(o.DEU,{size:48,className:"opacity-50"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:"Select feedback to view details"}),(0,s.jsx)("p",{className:"text-sm text-center max-w-md",children:"Choose a feedback item from the list to see the full conversation and details."})]})})})]})})})]})]})})}let sk=(0,tz.default)(()=>Promise.all([a.e(9367),a.e(2274),a.e(616),a.e(1128)]).then(a.bind(a,8747)),{loadableGenerated:{webpack:()=>[8747]},ssr:!1});function sN(){return(0,s.jsx)("div",{className:"flex flex-col w-screen h-screen",children:(0,s.jsx)(sk,{debug:!0,displacementStrength:null,distortionStrength:null})})}let sT={id:"12345",query:"What is Athena?",messages:[{type:"User",id:"c4ad2b35-9628-44b8-b443-f52f9ad58826",query_id:"8273a7f3-d43c-4559-8e68-d77f7a1a14a3",conversation_id:"6154bd36-a29f-4ce8-9815-4c20d54249f8",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",payload:{type:"text",metadata:{},code:{language:"",title:"",text:""},objects:["What is Athena?"]}},{type:"text",id:"tex-c4516e1b-e96f-4794-9a91-57e8752c7b84",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"6154bd36-a29f-4ce8-9815-4c20d54249f8",query_id:"8273a7f3-d43c-4559-8e68-d77f7a1a14a3",payload:{type:"response",metadata:{},objects:[{text:"Athena is an agentic retrieval augmented generation (RAG) service, where you can query from Weaviate collections, and I will retrieve the most relevant information and answer your question. This includes a variety of different ways to query, such as by filtering, sorting, querying multiple collections, and providing summaries and textual responses."}]}}],finished:!0,query_start:new Date,query_end:new Date(new Date().getTime()+1e3),NER:{text:"What is Athena?",noun_spans:[],entity_spans:[[8,14]]},feedback:2,index:0},sI={id:"12345",query:"Let's start this chat!",messages:[{type:"User",id:"12345",query_id:"12345",conversation_id:"12345",payload:{type:"text",metadata:{},code:{language:"",title:"",text:""},objects:["Let's start this chat!"]}}],finished:!1,query_start:new Date,query_end:new Date(new Date().getTime()+1e3),NER:{text:"Let's start this chat!",noun_spans:[[17,21]],entity_spans:[]},feedback:0,index:0},sC={id:"12345",query:"When was the highest wind recorded?",messages:[{type:"User",id:"80411939-2ea8-4178-bd22-2a6f834556e7",query_id:"2663dacf-4c10-4351-b753-8cf78c8b16a6",conversation_id:"30fb6699-81de-42b1-a190-f74f5dd351f7",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",payload:{type:"text",metadata:{},code:{language:"",title:"",text:""},objects:["When was the highest wind recorded?"]}},{type:"text",id:"tex-87a426aa-b1f3-40a3-8bdd-91a843c06f9b",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"30fb6699-81de-42b1-a190-f74f5dd351f7",query_id:"2663dacf-4c10-4351-b753-8cf78c8b16a6",payload:{type:"response",metadata:{},objects:[{text:"I will now query the Weather collection to find the highest recorded wind speed."}]}},{type:"text",id:"tex-abb234dd-eafb-4bab-bf07-610bddb2ba5f",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"30fb6699-81de-42b1-a190-f74f5dd351f7",query_id:"2663dacf-4c10-4351-b753-8cf78c8b16a6",payload:{type:"response",metadata:{},objects:[{text:"I will sort the weather data by wind speed in descending order and limit the results to the top entry to find the highest recorded wind speed and its date."}]}},{type:"result",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"30fb6699-81de-42b1-a190-f74f5dd351f7",query_id:"2663dacf-4c10-4351-b753-8cf78c8b16a6",id:"res-c7373331-c3d8-44fc-a81c-dd4ed6dce383",payload:{type:"table",objects:[{humidity:.93,precip_Type:"rain",wind_Bearing_degrees:279,categorisation:"Windy and Foggy",visibility_km:.7567,formatted_Date:"2015-05-14T01:00:00Z",apparent_Temperature_C:15.094444444444449,temperature_C:15.094444444444449,cloud_Cover:0,pressure_millibars:1011.67,wind_Speed_km_h:46.6095,daily_Summary:"Mostly cloudy throughout the day.",uuid:"5f00dfe5-9974-5a3c-b10b-369c8d514f11",_REF_ID:"query_Weather_0_0"}],metadata:{collection_name:"Weather",display_type:"table",needs_summarising:!1,query_text:null,query_type:"filter_only",chunked:!1,query_output:{target_collections:["Weather"],search_type:"filter_only",search_query:null,sort_by:{property_name:"wind_Speed_km_h",direction:"descending"},filter_buckets:null,limit:1},code:{language:"python",title:"Query",text:"collection.query.fetch_objects(\n    limit=1,\n    sort=Sort.by_property(\n        'wind_Speed_km_h',\n        ascending=False\n    )\n)"}},code:{language:"python",title:"Query",text:"collection.query.fetch_objects(\n    limit=1,\n    sort=Sort.by_property(\n        'wind_Speed_km_h',\n        ascending=False\n    )\n)"}}},{type:"text",id:"tex-4fb0f6b1-188f-41b0-9623-5ba2c84d0c16",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"30fb6699-81de-42b1-a190-f74f5dd351f7",query_id:"2663dacf-4c10-4351-b753-8cf78c8b16a6",payload:{type:"response",metadata:{},objects:[{text:"I am now creating a summary of the highest recorded wind speed and its date."}]}},{type:"text",id:"tex-8ff90132-8223-4373-aeef-283fa64a085b",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"30fb6699-81de-42b1-a190-f74f5dd351f7",query_id:"2663dacf-4c10-4351-b753-8cf78c8b16a6",payload:{type:"text_with_citations",metadata:{title:"Highest Recorded Wind Speed"},objects:[{text:"The highest recorded wind speed was on 2015-05-14T01:00:00Z, with a wind speed of 46.6095 km/h.",ref_ids:["query_Weather_0_0"]}]}},{type:"suggestion",id:"dfcfff0e-1c11-44a7-b005-688480e2eff0",conversation_id:"30fb6699-81de-42b1-a190-f74f5dd351f7",query_id:"2663dacf-4c10-4351-b753-8cf78c8b16a6",user_id:"com-0946d7d3-1f4e-475f-a0ec-586bfc749cae",payload:{error:"",suggestions:[]}}],finished:!0,query_start:new Date,query_end:new Date(new Date().getTime()+1e3),NER:{text:"What is Athena?",noun_spans:[],entity_spans:[[8,14]]},feedback:0,index:0},sE={id:"12345",query:"list all issues related to pdf",messages:[{type:"User",id:"a071da68-e3b0-4206-b3f5-45c815d6e93e",query_id:"ac4fc4a7-37c6-4ad6-aab0-74eba49b8930",conversation_id:"a5ef6d74-3e72-48c1-b634-21d1b9bf993e",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",payload:{type:"text",metadata:{},code:{language:"",title:"",text:""},objects:["list all issues related to pdf"]}},{type:"text",id:"tex-2068d1fa-2b9e-4f01-af10-16e1a128c0e8",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"a5ef6d74-3e72-48c1-b634-21d1b9bf993e",query_id:"ac4fc4a7-37c6-4ad6-aab0-74eba49b8930",payload:{type:"response",metadata:{},objects:[{text:"I will now query the `Example_verba_github_issues` collection to find issues related to PDF."}]}},{type:"text",id:"tex-3e3050ba-5218-4b5f-932f-cfb5acf64473",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"a5ef6d74-3e72-48c1-b634-21d1b9bf993e",query_id:"ac4fc4a7-37c6-4ad6-aab0-74eba49b8930",payload:{type:"response",metadata:{},objects:[{text:'I\'m performing a keyword search for "pdf" within the `issue_content` of the `Example_verba_github_issues` collection.'}]}},{type:"result",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"a5ef6d74-3e72-48c1-b634-21d1b9bf993e",query_id:"ac4fc4a7-37c6-4ad6-aab0-74eba49b8930",id:"res-84474914-71e3-4292-b3c9-65e5a84b07ac",payload:{type:"ticket",objects:[{created_at:"2024-10-31T03:29:51Z",content:'## Installation\r\n- [x] pip install goldenverba\r\n- [ ] pip install from source\r\n- [ ] Docker installation\r\nIf you installed via pip, please specify the version:\r\n## Weaviate Deployment\r\n- [x] Local Deployment\r\n- [ ] Docker Deployment\r\n- [ ] Cloud Deployment\r\n## Configuration\r\nReader:\r\nChunker:Token\r\nEmbedder:OPENAI-text_embedding-3-small\r\nRetriever:\r\nGenerator:\r\n## Additional context\r\nWhen I select to upload the parsed file,if the pdf is small, it can be uploaded normally. If the pdf is large, it returns "Unexpected error: TimeoutError -".How can I set the value of this Timeout?\r\nThe error message is as follows:\r\n```text\r\nℹ Removing abc.pdf from BatchManager\r\nℹ Found existing Client\r\nℹ STARTING | abc.pdf | Starting Import | 0\r\nℹ Loading abc.pdf (pdf)\r\nℹ LOADING | abc.pdf | Loaded abc.pdf | 5.96\r\nℹ CHUNKING | abc.pdf |  | 0\r\nℹ CHUNKING | abc.pdf | Split abc.pdf into 89 chunks | 0.02\r\nℹ EMBEDDING | abc.pdf |  | 0\r\nℹ Vectorizing 89 chunks in 1 batches\r\n✘ Unexpected error: TimeoutError -\r\nℹ ERROR | abc.pdf | Import for abc.pdf failed: Batch vectorization\r\nfailed: Vectorization failed for some batches:  | 31.82\r\n✘ No documents imported 0 of 1 succesful tasks\r\nℹ ERROR | abc.pdf | Import for abc.pdf failed: Import for abc.pdf\r\nfailed: Batch vectorization failed: Vectorization failed for some batches:  |\r\n0\r\n```\r',tags:["investigating"],id:0x9c83ef5d,url:"https://github.com/weaviate/Verba/issues/312",comments:1,title:"How can I set the value of this Timeout?",status:"open",updated_at:"2024-12-07T16:59:53Z",author:"ccutyear",uuid:"cc7936ac-8506-5f03-b722-c04e5411dcde",_REF_ID:"query_Example_verba_github_issues_0_0"},{created_at:"2024-12-27T06:00:03Z",content:"## Installation\r\n- [x] pip install goldenverba\r\n- [ ] pip install from source\r\n- [ ] Docker installation\r\nIf you installed via pip, please specify the version:\r\n## Weaviate Deployment\r\n- [ ] Local Deployment\r\n- [ ] Docker Deployment\r\n- [ ] Cloud Deployment\r\n## Configuration\r\nReader:\r\nChunker:\r\nEmbedder:\r\nRetriever:\r\nGenerator:\r\n## Additional context\r",tags:["investigating"],id:0xa488f97d,url:"https://github.com/weaviate/Verba/issues/357",comments:3,title:"Import for Unit_5.pdf failed: Import for Unit_5.pdf failed: Batch vectorization failed: Vectorization failed for some batches: ",status:"open",updated_at:"2025-01-15T10:25:24Z",author:"gokulcoder7",uuid:"9d23661d-5d5f-5492-be32-98b58ad6a647",_REF_ID:"query_Example_verba_github_issues_0_1"},{created_at:"2023-09-19T11:10:28Z",content:"This is a feature request to add native support for PDF files.\r\nMy understanding is that Verba currently only handles text files such as `.txt` and `.md`. We can convert PDF files to text files to use them with Verba, but this will remove images and affect formatting. It would be great if we can load `.pdf` files directly into Verba and for the UI to display the PDF file with highlighted sections.\r\nSince many other file formats can be converted to PDF without losing their formatting, this would greatly expand the use cases of Verba.",tags:["enhancement"],id:0x71697ce3,url:"https://github.com/weaviate/Verba/issues/18",comments:2,title:"Load and display PDF files",status:"closed",updated_at:"2023-11-13T09:25:57Z",author:"vincentmin",uuid:"472a9a45-4aee-50c7-ac04-dcf8b79e050c",_REF_ID:"query_Example_verba_github_issues_0_2"},{created_at:"2023-12-30T17:28:56Z",content:"I've tried both:\r\npip install goldenverba\r\n... and:\r\ngit clone https://github.com/weaviate/Verba\r\npip install -e .\r\nFor both SimpleReader and PDFReader the following occurs ... not even a one line text file will load.\r\n..................................... from Terminal output:\r\n✔ Saved Config\r\nℹ Received Data to Import: READER(SimpleReader, Documents 1, Type\r\nDocumentation) CHUNKER (TokenChunker, UNITS 250, OVERLAP 50), EMBEDDER\r\n(ADAEmbedder)\r\n✔ Loaded 1 documents\r\nChunking documents: 100%|████████████████████████████████████████████████████| 1/1 [00:00<00:00, 13662.23it/s]\r\n✔ Chunking completed\r\nℹ (1/1) Importing document cls.txt with 1 batches\r\n✘ {'errors': {'error': [{'message': 'store is read-only'}]}, 'status':\r\n'FAILED'}\r\nImporting batches:   0%|                                                                | 0/1 [00:00<?, ?it/s]✘ {'errors': {'error': [{'message': 'store is read-only'}]}, 'status':\r\n'FAILED'}\r\nImporting batches: 100%|████████████████████████████████████████████████████████| 1/1 [00:00<00:00,  2.56it/s]\r\n✘ Loading data failed Document df91e789-78cd-4a99-970f-c9f0074a8932 not\r\nfound None\r\nINFO:     127.0.0.1:52222 - \"POST /api/load_data HTTP/1.1\" 200 OK\r\n.....................................\r\nDid I miss something?  I followed 2 youtube videos, and the simple install on the github.\r\nI do see usage on OpenAIs API page = 2 cents.\r",tags:[],id:0x7ad56c5a,url:"https://github.com/weaviate/Verba/issues/103",comments:6,title:"No text/pdf will load using SimpleReader or PDFReader",status:"closed",updated_at:"2024-03-22T12:15:05Z",author:"cleesmith",uuid:"3e4c3838-a27b-53f2-944b-278b6b20ae05",_REF_ID:"query_Example_verba_github_issues_0_3"},{created_at:"2025-01-06T21:58:29Z",content:"## Description\r\nThe current version of Verba uses  @react-pdf/renderer@3.4.4 which consumes legacy-swc helpers (@react-pdf/renderer@3.4.4 › @react-pdf/font@2.5.1 › fontkit@2.0.2 › @swc/helpers@0.4.36 › legacy-swc-helpers@0.4.14). This library has a severe vulnerability which would need to be addressed before being able to trust the overall project.\r\nSnyk Report for Issues: https://security.snyk.io/vuln/SNYK-JS-LEGACYSWCHELPERS-7647380\r\nReact PDF Issue: https://github.com/diegomura/react-pdf/issues/2839\r\n## Installation\r\nN/A\r\nIf you installed via pip, please specify the version:\r\n## Weaviate Deployment\r\nN/A\r\n## Steps to Reproduce\r\nRun a vulnerability scan on the repro (in this case Snyk). This vulnerability will be shown.\r\n## Additional context\r",tags:["investigating"],id:0xa531fdf8,url:"https://github.com/weaviate/Verba/issues/361",comments:1,title:"Critical Vulnerability in React PDF",status:"open",updated_at:"2025-02-28T11:47:26Z",author:"levisiebensecfx",uuid:"abe66b08-2207-59d3-9b69-82b9bc56f7c8",_REF_ID:"query_Example_verba_github_issues_0_4"}],metadata:{collection_name:"Example_verba_github_issues",display_type:"ticket",needs_summarising:!1,query_text:"pdf",query_type:"keyword",chunked:!1,query_output:{target_collections:["Example_verba_github_issues"],search_type:"keyword",search_query:"pdf",sort_by:null,filter_buckets:null,limit:5},code:{language:"python",title:"Query",text:"collection.query.bm25(\n    query='pdf',\n    limit=5\n)"}},code:{language:"python",title:"Query",text:"collection.query.bm25(\n    query='pdf',\n    limit=5\n)"}}},{type:"text",id:"tex-0df026ef-ec86-4d55-8361-8a4f42b51abe",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"a5ef6d74-3e72-48c1-b634-21d1b9bf993e",query_id:"ac4fc4a7-37c6-4ad6-aab0-74eba49b8930",payload:{type:"response",metadata:{},objects:[{text:"I will now summarize the issues related to PDF that I found in the `Example_verba_github_issues` collection."}]}},{type:"text",id:"tex-178f90a6-b52b-49e9-a3b4-933a53244cb2",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"a5ef6d74-3e72-48c1-b634-21d1b9bf993e",query_id:"ac4fc4a7-37c6-4ad6-aab0-74eba49b8930",payload:{type:"text_with_citations",metadata:{title:"Summary of PDF-related Issues in Verba"},objects:[{text:"There are several open and closed issues related to PDF files in the Verba project.\n\n",ref_ids:[]},{text:"One issue reports a timeout error when uploading large PDF files, suggesting a need to adjust timeout settings. ",ref_ids:["query_Example_verba_github_issues_0_0"]},{text:"Another reports a failure during import of a PDF file due to batch vectorization issues.",ref_ids:["query_Example_verba_github_issues_0_1"]},{text:"A feature request suggests adding native support for PDF files, including displaying them in the UI with highlighted sections, to avoid losing formatting and images when converting them to text. ",ref_ids:["query_Example_verba_github_issues_0_2"]},{text:"One user reported issues loading any text or PDF files using SimpleReader or PDFReader, encountering a 'store is read-only' error. ",ref_ids:["query_Example_verba_github_issues_0_3"]},{text:"Additionally, a critical vulnerability was identified in React PDF, a dependency used by Verba, which needs to be addressed to ensure the project's security.",ref_ids:["query_Example_verba_github_issues_0_4"]}]}},{type:"suggestion",id:"33c2b133-6e53-4b6a-8e6e-4e7a276a3249",conversation_id:"a5ef6d74-3e72-48c1-b634-21d1b9bf993e",query_id:"ac4fc4a7-37c6-4ad6-aab0-74eba49b8930",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",payload:{error:"",suggestions:["Are there any resolved PDF issues that might offer solutions?","Can you list the authors who reported PDF issues?"]}}],finished:!0,query_start:new Date,query_end:new Date(new Date().getTime()+1e3),NER:{text:"list all issues related to pdf",noun_spans:[],entity_spans:[]},feedback:1,index:0},sS={id:"12345",query:"I'm looking for a white dress",messages:[{type:"User",id:"ea76b6e1-2649-4fb5-86f2-704ab4079c7c",query_id:"40607ece-baf3-42e4-b397-da5bdc00b229",conversation_id:"60552f05-f4ac-4bce-9065-3c61f03da3e8",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",payload:{type:"text",metadata:{},code:{language:"",title:"",text:""},objects:["I'm looking for a white dress"]}},{type:"text",id:"tex-5f7ad2fe-fc16-4337-9b71-1ddfb9a5b04b",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"60552f05-f4ac-4bce-9065-3c61f03da3e8",query_id:"40607ece-baf3-42e4-b397-da5bdc00b229",payload:{type:"response",metadata:{},objects:[{text:"I will now search the Ecommerce collection for dresses."}]}},{type:"text",id:"tex-0b1ee47f-698c-4859-9a4b-1fb52d572a8c",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"60552f05-f4ac-4bce-9065-3c61f03da3e8",query_id:"40607ece-baf3-42e4-b397-da5bdc00b229",payload:{type:"response",metadata:{},objects:[{text:'I\'m performing a hybrid search on the `Ecommerce` collection for "white dress" within the description field.'}]}},{type:"result",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"60552f05-f4ac-4bce-9065-3c61f03da3e8",query_id:"40607ece-baf3-42e4-b397-da5bdc00b229",id:"res-e48c1c51-3231-4ab0-8d48-002b7279a8cf",payload:{type:"ecommerce",objects:[{collection:"Light Academia",tags:"['new in']",description:"Embrace the essence of optimism with our midi dress, embodying elegance through its flowing silhouette and ethereal ivory tone. Designed for those who cherish the beauty of learning and classical art, this piece features delicate pleating and a fabric belt to highlight an inspired and thoughtful life.",id:"87820e36-447a-4e17-9e98-9db02facb54b",price:89.99,rating:4.8,brand:"Nova Nest",name:"Seraphic Study Midi",subcategory:"Casual Dresses",reviews:"['Absolutely in love with the fabric and how it flows!', 'The perfect dress for a sunlit reading at the cafe. Felt very inspired and comfortable.']",image:"https://d3o574pyao1sq3.cloudfront.net/fashion/87820e36-447a-4e17-9e98-9db02facb54b.png",category:"Dresses & Jumpsuits",colors:["white"],uuid:"9a66d0eb-8fa0-5179-83f6-85c8ffb5d3f0"},{collection:"Light Academia",tags:"['sale']",description:"Evoke the spirit of intellectual pursuit with this refined, ivory silk gown adorned with subtle gold accents. Its elegant silhouette and detailed pleating pay homage to classical art and architecture, making it a timeless piece for any formal occasion.",id:"ec26ccc7-5c9b-4d81-a618-45fb1f33be0f",price:299.99,rating:4.8,brand:"Nova Nest",name:"Athena's Gown",subcategory:"Formal Dresses",reviews:"['Absolutely stunning and feels like it was made just for me!', 'The subtle gold accents add such a classical beauty to the dress.']",image:"https://d3o574pyao1sq3.cloudfront.net/fashion/ec26ccc7-5c9b-4d81-a618-45fb1f33be0f.png",category:"Dresses & Jumpsuits",colors:["white","gold"],uuid:"e839a80b-ed33-5fb0-9541-0e94911fb55f"},{collection:"Light Academia",tags:"[]",description:"Embrace a world of elegance and intellect in our Ivory Parchment Gown. Crafted from luxurious fabric, this dress features a fitted bodice that flares into a full, flowing skirt, reminiscent of the timeless beauty found in the pages of classic literature. Exquisite lace detailing on the sleeves and hem adds a touch of romance, making it perfect for enlightened evenings.",id:"52436f10-8daa-4a1a-a7e2-d6a599aeda0b",price:349.99,rating:4.8,brand:"Nova Nest",name:"Ivory Parchment Gown",subcategory:"Formal Dresses",reviews:"['Stunning gown, I felt like a heroine from a classic novel!', 'Elegant and comfortable, received so many compliments.']",image:"https://d3o574pyao1sq3.cloudfront.net/fashion/52436f10-8daa-4a1a-a7e2-d6a599aeda0b.png",category:"Dresses & Jumpsuits",colors:["white"],uuid:"8f5ebb68-5c74-55c9-8ede-9e6eb59ed05e"},{collection:"Cottagecore",tags:"[]",description:"Embrace the simplicity of countryside charm with this light, airy dress. Tailored for comfort and designed for the romantic at heart, it features delicate fabric buttons and a softly flared skirt to whisk you away to a world of pastoral bliss. Perfect for sunny days in the garden or lazy afternoons beneath the shade of an old oak tree.",id:"a7dc7b63-ff5e-45c3-933d-55df2d29aba1",price:58.99,rating:4.7,brand:"Loom & Aura",name:"Breezy Bramble Dress",subcategory:"Casual Dresses",reviews:"['Absolutely in love with the fit and feel!', 'Perfect for my weekend getaways to the countryside.', 'Feels like a second skin, so soft and easy to wear.']",image:"https://d3o574pyao1sq3.cloudfront.net/fashion/a7dc7b63-ff5e-45c3-933d-55df2d29aba1.png",category:"Dresses & Jumpsuits",colors:["green","white"],uuid:"cc5ac477-a2a8-54cb-8992-4ba3293b40ee"},{collection:"Cottagecore",tags:"[]",description:"Embrace the serenity of countryside elegance with this floor-length chiffon gown, detailed with a subtle v-neckline and soft, flowing sleeves. Perfect for twilight gatherings under the open sky, its lavender hue and delicate fabric embody the essence of pastoral serenity.",id:"e7690ae0-5a94-4ef5-b1d1-e95c0ad8607f",price:189.99,rating:4.8,brand:"Canvas & Co.",name:"Blossom Twilight Gown",subcategory:"Formal Dresses",reviews:"['Feels like a fairy tale wearing this dress!', 'The lavender color is just perfect for a garden wedding.']",image:"https://d3o574pyao1sq3.cloudfront.net/fashion/e7690ae0-5a94-4ef5-b1d1-e95c0ad8607f.png",category:"Dresses & Jumpsuits",colors:["purple"],uuid:"338b364b-3efc-5a59-bac0-8a5668c3f187"},{collection:"Cottagecore",tags:"[]",description:"A serene, pastel green fabric flows like a gentle stream, artfully tailored to evoke the timeless grace of a forest glen at dawn. Subtle sleeve ruffles dance like leaves in a soft breeze, inviting tales of yore and magic untold.",id:"1adae57c-bdcd-4f89-9e9c-e7f964723d44",price:89,rating:4.8,brand:"Canvas & Co.",name:"Mystwood Midi Dress",subcategory:"Casual Dresses",reviews:"['Feels like a dream, absolutely ethereal!', 'The color is so calming and fits wonderfully.', 'Truly a piece out of a storybook. Love it!']",image:"https://d3o574pyao1sq3.cloudfront.net/fashion/1adae57c-bdcd-4f89-9e9c-e7f964723d44.png",category:"Dresses & Jumpsuits",colors:["green"],uuid:"c7c13f12-4182-5592-bac7-5e8e681fb4cc"},{collection:"Light Academia",tags:"[]",description:"An elegant, ivory-colored gown, capturing the essence of refined intellectualism with its subtle floral patterns and graceful silhouettes. Perfect for celebratory readings and cultured gatherings.",id:"ec1e0c6a-2474-408f-9f25-cec724f3abaf",price:259.99,rating:4.8,brand:"Loom & Aura",name:"Eloquence Gown",subcategory:"Formal Dresses",reviews:'["Absolutely stunning! It\'s elegant and makes me feel like I\'m in a classic novel.", "The detail is amazing. Very comfortable and perfect for my university\'s art gala."]',image:"https://d3o574pyao1sq3.cloudfront.net/fashion/ec1e0c6a-2474-408f-9f25-cec724f3abaf.png",category:"Dresses & Jumpsuits",colors:["white"],uuid:"c3d496b4-2477-5f5f-854d-c1bf466a9512"},{collection:"Y2K",tags:"['sale', 'most loved']",description:"Dazzle under the disco ball in this twilight-inspired mini dress, featuring a sleek silhouette with a playful baby blue shimmer. The ultimate blend of flirt and sass for your next big night out.",id:"4976eabe-f52b-42e6-901f-6c836efa672f",price:89.99,rating:4.5,brand:"Vivid Verse",name:"Glitterati Twilight Mini",subcategory:"Casual Dresses",reviews:"['Absolutely in love with this dress!', 'The color pops and the fit is perfect. Felt like a star all night.']",image:"https://d3o574pyao1sq3.cloudfront.net/fashion/4976eabe-f52b-42e6-901f-6c836efa672f.png",category:"Dresses & Jumpsuits",colors:["blue"],uuid:"1e1649c9-fa2f-5183-9100-138939e88833"},{collection:"Y2K",tags:"[]",description:"Embrace the dawn of the millennium in this baby blue mini dress, featuring a shimmering iridescent finish and a flirtatiously flared skirt. Perfect for turning heads at any daytime soiree or nighttime bash.",id:"864c977c-1217-4547-b6ba-3eaa1732b473",price:58.99,rating:4.6,brand:"Vivid Verse",name:"Twilight Spark Mini Dress",subcategory:"Casual Dresses",reviews:"['Absolutely in love with the retro vibe!', 'The material catches the light beautifully. Got so many compliments.']",image:"https://d3o574pyao1sq3.cloudfront.net/fashion/864c977c-1217-4547-b6ba-3eaa1732b473.png",category:"Dresses & Jumpsuits",colors:["blue","purple"],uuid:"eb619644-1bae-56fc-9fd2-7d8957b363ca"},{collection:"Cyberpunk",tags:"[]",description:"Sleek formal dress with holographic trim and asymmetric zipper. Perfect for traversing the twilight cityscapes.",id:"6e8e40e2-a318-4021-9348-fc0dc39e51b8",price:89.99,rating:4.7,brand:"Vivid Verse",name:"Eclipse Dress",subcategory:"Formal Dresses",reviews:"['Absolutely stunning and surprisingly comfortable!', 'The holographic trim catches the light beautifully. Perfect for a night out.']",image:"https://d3o574pyao1sq3.cloudfront.net/fashion/6e8e40e2-a318-4021-9348-fc0dc39e51b8.png",category:"Dresses & Jumpsuits",colors:["black","silver"],uuid:"85919daf-ef82-58bb-ac5d-e3e1cf36ed02"}],metadata:{collection_name:"Ecommerce",display_type:"ecommerce",needs_summarising:!1,query_text:"white dress",query_type:"hybrid",chunked:!1,query_output:{target_collections:["Ecommerce"],search_type:"hybrid",search_query:"white dress",sort_by:null,filter_buckets:null,limit:10},code:{language:"python",title:"Query",text:"collection.query.hybrid(\n    query='white dress',\n    limit=10\n)"}},code:{language:"python",title:"Query",text:"collection.query.hybrid(\n    query='white dress',\n    limit=10\n)"}}},{type:"text",id:"tex-d6a796e7-66be-4bb1-ab76-de01f9e884f0",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"60552f05-f4ac-4bce-9065-3c61f03da3e8",query_id:"40607ece-baf3-42e4-b397-da5bdc00b229",payload:{type:"response",metadata:{},objects:[{text:"I will now summarize the search results for white dresses from the Ecommerce collection."}]}},{type:"text",id:"tex-c6b3d2e1-433b-4a89-b012-d8a468ca4973",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"60552f05-f4ac-4bce-9065-3c61f03da3e8",query_id:"40607ece-baf3-42e4-b397-da5bdc00b229",payload:{type:"text_with_citations",metadata:{title:"White Dresses Available"},objects:[{text:'Several white dresses are available in the Ecommerce collection, ranging from casual to formal styles. Many of the dresses are part of the "Light Academia" collection, known for its elegant and intellectual aesthetic.\n',ref_ids:[]},{text:'For casual options, there\'s the "Seraphic Study Midi" dress, an ethereal ivory midi dress perfect for those who appreciate classical art and comfortable style. Another option is the "Breezy Bramble Dress", a light and airy dress suitable for countryside charm, though it is also available in green.\n',ref_ids:["query_Ecommerce_0_0","query_Ecommerce_0_3"]},{text:'For formal occasions, consider "Athena\'s Gown", an ivory silk gown with gold accents, or the "Ivory Parchment Gown", featuring lace detailing and a flowing skirt. The "Eloquence Gown" is another elegant, ivory-colored option suitable for cultured gatherings.\n',ref_ids:["query_Ecommerce_0_1","query_Ecommerce_0_2","query_Ecommerce_0_6"]}]}},{type:"suggestion",id:"7288e77e-ada2-4f1a-8c45-66125cf338e4",conversation_id:"60552f05-f4ac-4bce-9065-3c61f03da3e8",query_id:"40607ece-baf3-42e4-b397-da5bdc00b229",user_id:"com-f058bc92-fb59-4180-bafd-e013897ba2f7",payload:{error:"",suggestions:[]}}],finished:!0,query_start:new Date,query_end:new Date(new Date().getTime()+1e3),NER:{text:"I'm looking for a white dress",noun_spans:[],entity_spans:[]},feedback:1,index:0},sq={id:"12345",query:"What is hybrid search in Weaviate?",messages:[{type:"User",id:"949a2d5a-acec-4b38-8653-ecd510451a5d",query_id:"b4c8ce36-0989-436e-966e-962efe8dacd3",conversation_id:"9eecf0fb-b3e2-4272-b8d3-050e0f2e7d95",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",payload:{type:"text",metadata:{},code:{language:"",title:"",text:""},objects:["what is Weaviate?"]}},{type:"text",id:"tex-75a69e92-5524-402f-b4ce-9778597a98fa",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"9eecf0fb-b3e2-4272-b8d3-050e0f2e7d95",query_id:"b4c8ce36-0989-436e-966e-962efe8dacd3",payload:{type:"response",metadata:{},objects:[{text:"I will now search the Weaviate documentation and blog collections to find information about Weaviate."}]}},{type:"text",id:"tex-5748fd32-de1c-487d-85d2-c8ab1a54c07f",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"9eecf0fb-b3e2-4272-b8d3-050e0f2e7d95",query_id:"b4c8ce36-0989-436e-966e-962efe8dacd3",payload:{type:"response",metadata:{},objects:[{text:"I'm using a hybrid search on the content of both the documentation and blog collections to find the most relevant information about Weaviate."}]}},{type:"result",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"9eecf0fb-b3e2-4272-b8d3-050e0f2e7d95",query_id:"b4c8ce36-0989-436e-966e-962efe8dacd3",id:"res-790f97c5-b9f9-42d5-8b4f-c131dd84c911",payload:{type:"document",objects:[{content:"\n##  Unit overview\n\nimport ReactPlayer from 'react-player/lazy'\n\n\n\n\n\n\nWelcome!\n\nThis is the beginning of your journey through the world of vectors with Weaviate. This unit will provide you with an overview of the fundamentals of Weaviate.\n\nYou'll first gain an understanding of what Weaviate is, and what it can do. You will then learn about what vector database and vector search are before going on to run Weaviate and perform vector searches yourself.\n\nBy the end of this unit, you will have a strong foundation of knowledge that will help you to effectively navigate the rest of the course, and for using Weaviate in your own projects.\n\n###  Prerequisites\n\n- None\n\n##  Learning objectives\n\n\n\n\n\n## Questions and feedback\n\n\n",title:"Theory Hello_weaviate",category:["Documentation"],uuid:"2288bc03-5bfe-4bce-83d4-076d05a58444",collection_name:"Weaviate_documentation",chunk_spans:[],_REF_ID:"query_Weaviate_documentation_0_0"},{content:"\nData Platforms offer robust solutions for managing, processing, and analyzing large volumes of data. These platforms provide tools and services that facilitate seamless data ingestion directly into Weaviate. \n\nLearn about how Weaviate integrates with these solutions:\n* [Airbyte](/developers/integrations/data-platforms/airbyte/)\n* [Aryn](/developers/integrations/data-platforms/aryn/)\n* [Astronomer](/developers/integrations/data-platforms/astronomer/)\n* [Boomi](/developers/integrations/data-platforms/boomi/)\n* [Box](/developers/integrations/data-platforms/box/)\n* [Confluent](/developers/integrations/data-platforms/confluent)\n* [Context Data](/developers/integrations/data-platforms/context-data/)\n* [Databricks](/developers/integrations/data-platforms/databricks/)\n* [Firecrawl](/developers/integrations/data-platforms/firecrawl/)\n* [IBM](/developers/integrations/data-platforms/ibm/)\n* [Unstructured](/developers/integrations/data-platforms/unstructured)\n",title:"Integrations Data-platforms",category:["Documentation"],uuid:"c2678033-ee07-426b-a783-e663e21275cc",collection_name:"Weaviate_documentation",chunk_spans:[],_REF_ID:"query_Weaviate_documentation_0_1"},{content:"\n##  Unit review\n\nIn this unit, we aimed to provide you with an overview of Weaviate.\n\nWe did this by covering what Weaviate is, and what it can do, before discussing what vector database and vector search are before going on to run Weaviate and perform vector searches yourself.\n\nNow, you should have a foundation of knowledge from which we can begin to learn more about Weaviate, including more details on how to build a database and perform queries. Before long, you will be creating your own projects using Weaviate.\n\n###  Learning outcomes\n\nHaving finished this unit, you should be able to:\n- Broadly describe what Weaviate is.\n- Outline what vector search is.\n- Create a Weaviate instance on WCD.\n- Install your preferred Weaviate client (Python for Weaviate Academy).\n- Describe some of Weaviate's capabilities.\n\n## Questions and feedback\n\n",title:"Hello_weaviate Wrap_up",category:["Documentation"],uuid:"1a4a1e96-bf85-4457-b5c5-306b3b5b5d24",collection_name:"Weaviate_documentation",chunk_spans:[],_REF_ID:"query_Weaviate_documentation_0_2"},{content:"\nThis section shows you how to configure Weaviate.\n\n- Extend Weaviate's functionality by adding vectorizers and other [modules](./modules.md)\n- Configure how Weaviate stores and indexes data\n\n  - [schema](../manage-data/collections.mdx)\n  - [data types](../config-refs/datatypes.md)\n  - [distance metrics](../config-refs/distances.md)\n\n- Manage performance and cost with [vector index properties](/developers/weaviate/config-refs/schema/vector-index)\n- [Back up](./backups.md) your Weaviate instance\n- Control access\n  - [authentication](./authentication.md)\n  - [authorization](./authorization.md)\n- [Monitor](./monitoring.md) your Weaviate instance\n",title:"Weaviate Configuration",category:["Documentation"],uuid:"caa363c5-73c9-43b2-a0a6-a38b6eaa9640",collection_name:"Weaviate_documentation",chunk_spans:[],_REF_ID:"query_Weaviate_documentation_0_3"},{content:"\n\n\n##  Unit overview\n\nimport ReactPlayer from 'react-player/lazy'\n\n\n\n\n\n\nWelcome!\n\nThis is the beginning of your journey through the world of vectors with Weaviate. This unit will provide you with an overview of the fundamentals of Weaviate.\n\nYou'll first gain an understanding of what Weaviate is, and what it can do. You will then learn about what vector database and vector search are before going on to run Weaviate and perform vector searches yourself.\n\nBy the end of this unit, you will have a strong foundation of knowledge that will help you to effectively navigate the rest of the course, and for using Weaviate in your own projects.\n\n###  Prerequisites\n\n- None\n\n##  Learning objectives\n\n\n\n\n\n## Questions and feedback\n\n\n",title:"Zero_to_mvp Hello_weaviate",category:["Documentation"],uuid:"cd056a88-8be5-4f08-9f5f-dddb1c50457e",collection_name:"Weaviate_documentation",chunk_spans:[],_REF_ID:"query_Weaviate_documentation_0_4"},{content:"\n\n\n\nThese pages can help with common questions:\n\n- [FAQ](./faq.md)\n- [Glossary](./glossary.md)\n- [Example datasets](./example-datasets.md)\n- [Example use cases](./example-use-cases.md)\n- [Index types and performance](./performance.md)\n- [Migration Guide](./migration/index.md)\n\n## (Even) more resources\n\nFor additional information, try these sources.\n\n- [Weaviate Community Forum](https://forum.weaviate.io/)\n- [Knowledge base of old issues](https://github.com/weaviate/weaviate/issues?utf8=%E2%9C%93&q=label%3Abug)\n- [Weaviate slack channel](https://weaviate.io/slack)\n\n\n## Questions and feedback\n\n\n",title:"Weaviate More-resources",category:["Documentation"],uuid:"8e057128-06f6-481b-b724-dda2c6048dac",collection_name:"Weaviate_documentation",chunk_spans:[],_REF_ID:"query_Weaviate_documentation_0_5"},{content:"\n[Dynamiq](https://www.getdynamiq.ai/) is an operating platform for building agentic AI applications.\n \n\n## Dynamiq and Weaviate\nWeaviate is a [supported document retriever](https://docs.getdynamiq.ai/low-code-builder/rag-nodes/inference-rag-workflow/document-retrievers#weaviate-retriever) in Dynamiq. The integration allows you to `read` and `write` to your Weaviate cluster to build robust RAG applications.\n\n## Our Resources \n[**Hands on Learning**](#hands-on-learning): Build your technical understanding with end-to-end tutorials.\n\n### Hands on Learning\n\n| Topic | Description | Resource | \n| --- | --- | --- |\n| Dynamiq Getting Started | A guide to integrating the Weaviate vector database with Dynamiq. | [Notebook](https://github.com/weaviate/recipes/blob/main/integrations/llm-agent-frameworks/dynamiq/dynamiq-getting-started.ipynb) | \n| Dynamiq Research Flow | Combine Dynamiq and Weaviate to streamline the research process, automate data storage, and generate research reports. | [Notebook](https://github.com/weaviate/recipes/blob/main/integrations/llm-agent-frameworks/dynamiq/dynamiq-research-workflow.ipynb) |",title:"Llm-agent-frameworks Dynamiq",category:["Documentation"],uuid:"c717b8d7-dfe0-40f8-9544-0032df15764f",collection_name:"Weaviate_documentation",chunk_spans:[],_REF_ID:"query_Weaviate_documentation_0_6"},{content:"\nThis section helps you to get started with Weaviate.\n\n## Guides\n\n- [Which Weaviate setup to use?](./which-weaviate.md): Find the right Weaviate setup for your needs.\n- [Collection definitions and schema](/developers/weaviate/starter-guides/managing-collections): How to define your collection settings and schema.\n  - [Collection scaling limits](/developers/weaviate/starter-guides/managing-collections/collections-scaling-limits): A guide on the benefits of using multi-tenancy when you have too many collections. \n- [Bring your own vectors](./custom-vectors.mdx): How to use your own vectors with Weaviate.\n- [Retrieval augmented generation (RAG)](./generative.md): Guide to performing retrieval augmented generation (RAG), or generative search.\n- [Indexing](./managing-resources/indexing.mdx): How does Weaviate index data for fast search and filtering? What index types and settings are right for me?\n- [Managing resources](./managing-resources/index.md): How to balance search speeds, accuracy/recall, and costs with Weaviate's flexible resource management features.\n",title:"Weaviate Starter-guides",category:["Documentation"],uuid:"f6a2c923-a4a8-46ee-a28e-bffa04143c4b",collection_name:"Weaviate_documentation",chunk_spans:[],_REF_ID:"query_Weaviate_documentation_0_7"},{content:"\nVectorETL by [Context Data](https://contextdata.ai/) is a modular no-code Python framework that is designed to help AI and Data Engineers work with data:\n\n* Quickly extract data from multiple data sources (databases, cloud storage, and local files)\n* Embed using major models (including OpenAI, Cohere, and Google Gemini)\n* Write to vector databases \n\n## Context Data and Weaviate\nWeaviate is a [target connection](https://context-data.gitbook.io/context-data-1/adding-target-connections#add-a-weaviate-target-connection) in Context Data. \n\nTo connect to Context Data, open the console and input your Weaviate instance's URL and authentication credentials when prompted.\n\n## Our Resources \n[**Hands on Learning**](#hands-on-learning): Build your technical understanding with end-to-end tutorials.\n\n### Hands on Learning\n\n| Topic | Description | Resource | \n| --- | --- | --- |\n| VectorETL into Weaviate | Three examples showing you how to ingest data from Google Cloud Storage, Postgres, and S3 into Weaviate. | [Notebook](https://github.com/weaviate/recipes/tree/main/integrations/data-platforms/context-data) |",title:"Data-platforms Context-data",category:["Documentation"],uuid:"7ac5bbbd-7b7f-455e-8978-cfb9a4237b52",collection_name:"Weaviate_documentation",chunk_spans:[],_REF_ID:"query_Weaviate_documentation_0_8"},{content:"\n[Boomi](https://boomi.com/) is an integration platform as a service, API management, master data management and data preparation solution.\n\n## Boomi and Weaviate\nWeaviate is integrated into Boomi's platform through Boomi's REST Client Connector. This integration allows users to perform operations such as data ingestion and retrieval within Weaviate directly from Boomi's low-code environment.\n\n\n## Our Resources \n[**Hands on Learning**](#hands-on-learning): Build your technical understanding with end-to-end tutorials.\n\n### Hands on Learning\n\n| Topic | Description | Resource |\n| --- | --- | --- |\n| Start Connecting with Weaviate | A replication of Weaviate's Quickstart tutorial on the Boomi platform using the REST Client connector. | [Article](https://community.boomi.com/s/article/Start-Connecting-with-Weaviate) [Tutorial](https://discover.boomi.com/solutions/start-connecting-with-weaviate) | \n\n\n",title:"Data-platforms Boomi",category:["Documentation"],uuid:"3109b2d5-73d1-4e85-a4eb-e1c023a90253",collection_name:"Weaviate_documentation",chunk_spans:[],_REF_ID:"query_Weaviate_documentation_0_9"}],metadata:{collection_name:"Weaviate_documentation",display_type:"document",needs_summarising:!1,query_text:"what is Weaviate?",query_type:"hybrid",chunked:!1,query_output:{target_collections:["Weaviate_documentation","ELYSIA_CHUNKED_weaviate_blogs__"],search_type:"hybrid",search_query:"what is Weaviate?",sort_by:null,filter_buckets:null,limit:10},code:{language:"python",title:"Query",text:"collection.query.hybrid(\n    query='what is Weaviate?',\n    limit=10\n)"}},code:{language:"python",title:"Query",text:"collection.query.hybrid(\n    query='what is Weaviate?',\n    limit=10\n)"}}},{type:"result",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"9eecf0fb-b3e2-4272-b8d3-050e0f2e7d95",query_id:"b4c8ce36-0989-436e-966e-962efe8dacd3",id:"res-8c9c1f8d-0cf5-44d4-bf61-814bddb1999d",payload:{type:"document",objects:[{title:"Blog Crud-support-in-weaviate",content:"\nWith the rising popularity of machine learning models, the demand for vector similarity search solutions has also increased dramatically. Machine learning models typically output vectors and common search queries involve finding the closest set of related vectors. For example, for a text-based vector search the search query \"landmarks in Paris\" would be encoded to a vector, it is then the job of the vector database to find the documents with the vector closest to this query. This might be a document with the title \"Eiffel Tower\" whose vector matched the search vector most closely.\n\nSuch a vector similarity comparison is computationally trivial if there are very few, say less than 10,000 objects to be searched through. That is not a very realistic situation, however. The amount of unstructured data that companies and users need to search through is massive. The number of objects is often in the high millions or even billions of data points. A primitive brute-force comparison can no longer return results in an acceptable time frame.\n\nThis led to the rise of Approximate Nearest Neighbor (ANN) models. You might have heard of Spotify's Annoy, Facebook's faiss, or Google's ScaNN. What they all have in common is that they make a conscious trade-off between accuracy (precision, recall) and retrieval speed. This has enabled users to retrieve the 5, 10, or 100 closest vectors within a few milliseconds — even out of a billion objects.\n\nHowever, there is yet another trade-off engineers have to make when using ANN models. Many of the common ANN libraries fall short of some of the features we are used to when working with traditional databases and search engines. Imagine you were using a MySQL database, but after you imported your data it would be read-only for the rest of time. That's not how it works, right? So why should it work like this for vector searching? In this article, I'm going to introduce you to Weaviate, a vector database that removes many of the limitations imposed by ANN libraries.\n\n## Overview\nIn this article we will cover:\n\n* how ANN models enable fast & large-scale vector searches\n* where popular ANN libraries fall short\n* what Weaviate is and how it can bring your vector search needs to production\n* a glimpse of how Weaviate works under the hood\n\n## What is Weaviate?\nBefore we dive deeper into how Weaviate removes the limitations you might expect from existing ANN solutions, let's quickly take a look at what Weaviate is. Weaviate is a cloud-native, modular, real-time vector database built to scale your machine learning models. Oh, it's also open-source, by the way. Because of its modularity, Weaviate can cover a wide variety of bases. By default, Weaviate is agnostic of how you came up with your vectors. This means teams with experience in data science and machine learning can simply keep using their finely-tuned ML models and import their data objects alongside their existing vector positions. At the same time, Weaviate comes with optional modules for text, images, and other media types. Those modules can do the vectorization for you. Thus, if you are new to the world of machine learning you can import your objects just as you would with a traditional database and let Weaviate handle the vectorization. This brings the benefits of vector searching to the masses — even without an ML background. The ability to combine modules also allows for relations between e.g. a text object and a corresponding image object. As this article will show, Weaviate is also not restricted by some of the limitations of popular ANN libraries.\n\n## When do you call a database a database?\nIf you were to ask one hundred engineers what defines a database you will most likely get as many different answers. We might take the following points for granted in the world of SQL and NoSQL databases, yet they are anything but ubiquitous in the context of vector searches.\n\n* **CRUD**\n    We are used to databases allowing us to create, read, update and delete objects.\n* **Real-time (or near real-time)**\n    Objects imported into a database are typically queryable within a very short period. Some databases have refresh intervals and some databases make use of eventual consistency. Both can lead to a slight delay, but in general, objects are present within seconds as opposed to minutes or hours.\n* **Mutability**\n    Databases are generally mutable. This does not only refer to individual objects (as is already covered with CRUD abilities), but also to the entire database or a collection therein, such as a table in a SQL database. We are used to adding another row as we please.\n* **Persistence**\n    We generally expect database writes to be persistent. This does not mean that an in-memory database is not a database. But it does mean that when a database uses a disk, we do not expect writes to get lost — for example, on an unexpected restart.\n* **Consistency. Resiliency and Scaling**\n    Some databases have atomic transactions, others don't support consistency at all. Some databases scale really well in the cloud, others work best as big, single machines. The exact characteristics do not make a database a database. But the fact that the engineers who built it have decided on a specific strategy is a key trait of a database.\n\n## Popular ANN libraries fall short of many of the above principles\nThe biggest downside of ANN libraries is with regards to their real-time capabilities and mutability. Libraries, such as Annoy or ScaNN require you to import all of your data objects upfront. This is then followed by a build period to build up the index. After that's done, it's a read-only model. This brings two major disadvantages with regards to the points we outlined before: First up, if you import your first object it is not yet queryable until all objects are imported. If you import a billion objects this can be a very considerable time. They are therefore not real-time. Furthermore, once you have built your index, you cannot alter the index anymore without rebuilding it from scratch. Thus, operations, such as updating or deleting are impossible and the search model cannot be considered mutable — not even for further inserts.\n\nThe persistence strategy of the above models is typically snapshotting. So while you can save the index to disk and also reload it from disk, an individual write is typically not persisted. As Annoy, ScaNN and the like are not applications, but libraries, this also means that coming up with resiliency and scaling strategy is left to the developer. It is certainly not difficult to scale a read-only model. However, the feature set of simply duplicating your model does not compare to scaling popular distributed databases, such as [Cassandra](https://db-engines.com/en/system/Cassandra).\n\n## Weaviate overcomes the limitations of ANN libraries\n\nOne of the goals in designing Weaviate was to combine the speed and large-scale capabilities of ANN models with all the functionality we enjoy about databases. Thus, any object imported into Weaviate can immediately be queried — whether through a lookup by its id, a keyword search using the inverted index, or a vector search. This makes Weaviate a real-time vector database. And because Weaviate also uses an ANN model under the hood, the vector search will be as fast as with a vector library.\n\nAdditionally, objects can be updated or deleted at will and new objects can be added at any time — even while querying. This means Weaviate supports both full CRUD capabilities, as well as mutability of its indexes. Last but not least, every single write is persisted, if your machine crashes or Weaviate is otherwise forced to interrupt its operations, it will simply continue where you left off after restarting. There is no scenario where you import for hours on end only to lose all progress due to a crash at the last minute.\n\n## How can Weaviate achieve all of this?\nWeaviate is built around the idea of modularity. This also boils down to the ANN vector index models that Weaviate supports. At the time of writing this article in early 2021, the first vector index type that's supported is HNSW. By choosing this particular type, one of the limitations is already overcome: HNSW supports querying while inserting. This is a good basis for mutability, but it's not all.\n\nExisting HNSW libraries fall short of full CRUD-support. Updating is not possible at all and deleting is only mimicked by marking an object as deleted without cleaning it up. Furthermore, the most popular library hnswlib only supports snapshotting, but not individual writes to disk.\n\nTo get to where Weaviate is today, a custom HNSW implementation was needed. It follows the same principles [as outlined in this paper](https://arxiv.org/abs/1603.09320) but extends it with more features. Each write is added to a [write-ahead log](https://martinfowler.com/articles/patterns-of-distributed-systems/wal.html). Additionally, since inserts into HNSW are not mutable by default, Weaviate internally assigns an immutable document ID that allows for updates. If an object is altered, Weaviate deletes the old doc id under the hood, assigns a new one, and reimports the object into the vector index. Last, but not least, a tombstoning approach — inspired by Cassandra — is used to handle deletes. Any incoming delete — whether an explicit delete or an implicit delete through an update — leads to [marking a document ID as deleted](https://github.com/weaviate/weaviate/blob/b59527994a85d35664bec7eb5acc8fa628318a86/adapters/repos/db/vector/hnsw/delete.go#L23-L64) (\"attaching a tombstone\"). It is therefore immediately hidden on future query results. Then — and this is where Weaviate's custom HNSW implementation differs from hnswlib — an asynchronous [cleanup process rebuilds the affected parts of the index](https://github.com/weaviate/weaviate/blob/b59527994a85d35664bec7eb5acc8fa628318a86/adapters/repos/db/vector/hnsw/delete.go#L116-L167) and removes the tombstoned elements for good. This keeps the index fresh at all times while saving a lot of computing resources due to a well-tuned bulk cleanup process that is considerably faster than individual cleanups would be.\n\nIt is the combination of the above that makes Weaviate the perfect solution for handling your vector search needs in production.\n\n## Choose what's right for your use case — and try it out yourself!\nNow that you've learned about some of the limitations imposed by popular ANN libraries and how Weaviate helps you overcome them, there is just one question left to answer: When should you choose which? If you know for certain that you will never need to update your data, will never add a new data point, and don't need real-time abilities, a library like the ones mentioned above will be a good solution. But if you want to update your data, import additional objects even while queries are occurring, and not sacrifice real-time or persistence, then you should take a look at Weaviate.\n\nCheck out the [quickstart guide](/developers/weaviate/quickstart) in the documentation or [learn more about Weaviate here](/developers/weaviate). If you like what you've read and would consider using Weaviate in the future, feel free to leave a star on [GitHub](https://github.com/weaviate/weaviate).\n\n\nimport WhatNext from '/_includes/what-next.mdx'\n\n\n",category:["Blog"],uuid:"198640fa-543d-4c5f-87e3-da9780e84970",collection_name:"Weaviate_blogs",chunk_spans:[{start:2581,end:3051,uuid:"36646a4a-21ee-5514-8cea-cbb14dbb6678"},{start:2034,end:2619,uuid:"1349145a-70c0-5b1e-b834-b4a259425a53"}]},{title:"Blog Private-llm",content:"\nLarge Language Models (LLM’s) have revolutionized how we access and consume information, shifting the pendulum from a search engine market that was predominantly retrieval-based (where we asked for source documents containing concepts relevant to our search query), to one now that is growingly memory-based and performs generative search (where we ask LLMs to generate answers to questions based on their knowledge of and training on massive datasets). More importantly, what’s different this time is that with the advent of widely accessible products like ChatGPT that have exposed the underlying technology of these models to the wider consumer market, we’re seeing these models revolutionize how we work, learn and interact on a scale never seen before.\n\nThis wide-scale adoption of LLMs makes the concerns and challenges around privacy and data security paramount, and ones that each organization needs to address. In this blog post we will explore some of the different potential approaches organizations can take to ensure robust data privacy while harnessing the power of these LLMs.\n\n## Understanding the Privacy Challenge\n\nLLMs are typically trained on vast amounts of data to develop a statistical understanding of human language patterns. If you’d like to get an introductory explanation of how these models work, please read our previous blogpost: [How LLMs Work](/blog/what-are-llms). The extensive datasets used in training can often contain sensitive information, leading to privacy concerns. Additionally, the traditional approach of relying on cloud-based services to deploy and conduct inference with these models requires organizations to transfer their data to third-party centralized model providers which can lead to data exposure, data breaches, and unauthorized access. This is the very reason large corporations such as Samsung, Apple, Verizon, JPMorgan and many more have [limited their employees from using these services](https://www.hr-brew.com/stories/2023/05/11/these-companies-have-banned-chatgpt-in-the-office).\n\nTo leverage the advantages of generative AI while simultaneously addressing these privacy concerns, the field of privacy-preserving machine learning has emerged, offering techniques and tools that allow for the secure execution of large language models while protecting the confidentiality of sensitive data both during model fine-tuning as well as when providing responses grounded in proprietary data.\n\n## Potential Solutions to the Privacy Challenge\n\n### Federated Learning\n\n![Federated](./img/federated.png)\n\nFederated Learning enables model training without directly accessing or transferring user data. Instead, individual edge devices or servers collaboratively train the model while keeping the data local. This approach ensures that sensitive data remains private, reducing the risk of data breaches during model fine-tuning on custom data.\n\nMore specifically, federated learning is a distributed approach to model training that allows multiple parties to collaborate without the need for centralized data sharing. In traditional machine learning, data is typically collected, centralized, and used for training a model. However, in scenarios where data privacy is a concern, federated learning offers a privacy-preserving alternative.\n\nThe core idea behind federated learning is to bring the model training process to the data instead of moving the data to a central location where model training occurs. This decentralized approach ensures that sensitive data remains local and does not need to be exposed or transferred. Instead, individual devices or servers participate in the training process by sending model updates to a central server, which aggregates and incorporates these updates to improve the global model.\n\nThe main challenge here is that training LLMs in central locations with access to large amounts of optimized computing is hard enough, and doing this in a distributed manner significantly complicates matters. You now have to worry about the heterogeneity of the data available on different edge devices that the model is training on, how to securely aggregate the learned weights from all the different edge devices, how to prevent adversaries from inferring private data from the individual model updates, as well as model compression and efficiency since now these edge devices like mobile phones have to upload model updates to be aggregated globally.\n\n### Homomorphic Encryption\n\n![Encryption](./img/encryption.png)\n\nHomomorphic encryption (HE) allows computations to be performed on encrypted data without decrypting it. It is a powerful tool for preserving privacy in scenarios where sensitive data needs to be processed or analyzed while maintaining confidentiality. This technique can be applied to LLMs, enabling private inference while preserving the confidentiality of user inputs. However, it's worth noting that homomorphic encryption can introduce computational overhead, impacting the model's performance.\n\nIn traditional encryption, encrypted data can only be operated on in its decrypted form. HE, on the other hand, enables computations to be carried out directly on encrypted data, producing encrypted results that can be decrypted to obtain the same outcome as if the computations were performed on the original, unencrypted data.\n\nHE enables the secure outsourcing of data processing tasks to third-party service providers or cloud platforms. Data owners can delegate computations without revealing the underlying data, ensuring confidentiality while benefiting from the superior computational resources available to large cloud providers. Allowing computations on encrypted data enables training and inference on sensitive datasets without revealing their contents. HE seems to be a very promising way of achieving privacy-preserving LLM usage simply by encrypting the prompt token and decrypting the generated response.\n\nOn a practical level however HE does have some disadvantages: it is much harder to implement LLM training and inference with HE data than on unencrypted data, and more compute is required to process encrypted data, which increases processing times and further increases compute requirements which are already very high. You also lose out on model quality and accuracy when training/inferencing on encrypted data (this is because the encryption process adds noise to the data) and thus you have to balance privacy vs. model performance/utility.\n\n### Locally Deployed LLMs\n\nAnother option is to run open-source LLMs locally vs running models that can only be accessed by general-purpose black-box APIs. Out of all of the privacy-preserving machine learning techniques presented thus far, this is perhaps the most production-ready and practical solution organizations can implement today. There are already some preliminary solutions that are publicly available that allow you to deploy LLMs locally, including [privateGPT](https://github.com/imartinez/privateGPT) and [h2oGPT](https://github.com/h2oai/h2ogpt). These solutions, which are currently proof of concepts, are taking advantage of the growing zoo of open-source LLMs, including the famous [LLaMA](https://arxiv.org/abs/2302.13971) model from Meta, which is proven to perform quite well with some limited fine-tuning, as presented in this [recent paper](https://arxiv.org/abs/2305.11206).\n\nLet’s dig deeper into locally deployed LLMs, and see how companies can more securely leverage the power of open source software (OSS) LLMs on their own proprietary documents, all in the privacy of their on-prem or hybrid servers.\n\n## Locally Running LLMs With Custom Data\n\nPrior to discussing how you can run OSS LLMs locally, let's discuss how you can get any LLM, local or remote, to answer prompts grounded in your custom data. The key ingredient here is to store the documents that you want to use to provide the LLM custom context, in a [vector database](/blog/what-is-a-vector-database) so that when needed the LLM can look up and retrieve the relevant documents and consume them to learn more context prior to generating a prompt. This not only provides the LLM custom data and context where it previously had none, but it also prevents hallucinations, since you help provide the LLM with relevant information, greatly reducing the chances it will make something up to fulfill the prompt. This process is known as [retrieval augmented generation (RAG)](https://arxiv.org/pdf/2005.11401.pdf) since you are augmenting the generation process of the LLM with retrieved documents from your vector database.\n\nCurrently, RAG is a 4-step process illustrated in the figure below:\n\n\n\n![fig1](./img/fig1.png)\n Figure 1. Step 1&2: Query your remotely deployed vector database that stores your proprietary data to retrieve the documents relevant to your current prompt. Step3&4: Stuff the returned documents along with the prompt into the context tokens provided to the remote LLM; which it will then use to generate a custom response. \n\n\nAs shown in the above image, this process requires you to remotely store your documents in a cloud-hosted vector database and also call an API which allows you to prompt a remotely deployed LLM. This exact workflow can be replicated using [Weaviate Cloud](https://console.weaviate.cloud/) and any one of the generative modules ([OpenAI](/developers/weaviate/model-providers/openai/generative), [Cohere](/developers/weaviate/model-providers/cohere/generative), [PaLM](/developers/weaviate/model-providers/google/generative)).\n\nNow let's discuss how you can modify this setup to achieve a completely local vector database and LLM setup. The first step to a fully local setup is to bring our proprietary data into our local environment. For some organizations, this means running the vector database on premises within their walls. For others this can mean running the vector database on their own self-managed virtual private cloud (VPC). Either of these workflows can be set up with a vector database like Weaviate, enabling a secure and private solution where data included in Step 1&2 doesn’t leave your organization. The generative modules mentioned above can also be used in this setup seamlessly but note that in this setup, retrieved documents included with the prompt will need to be shared with the LLM that is remotely hosted. This is what our modified workflow now looks like:\n\n\n\n![fig2](./img/fig2.png)\n Figure 2. Step 1&2: Query your locally deployed vector database that stores your proprietary data to retrieve the documents relevant to your current prompt. Step3&4: Stuff the returned documents along with the prompt into the context tokens provided to the remote LLM; which it will then use to generate a custom response. \n\n\nIn order to bring the LLMs into your local environment you need to have access to their weights so that you can perform inference with them locally on demand. As a result, you can only use open-source models along with vector databases that can be deployed on-prem or within your VPC for this next setup displayed in Figure 3 below.\n\n\n\n![fig3](./img/fig3.png)\n Figure 3. Step 1&2: Query your locally deployed vector database that stores your proprietary data to retrieve the documents relevant to your current prompt. Step3&4: Stuff the returned documents along with the prompt into the context tokens provided to the locally running OSS LLM; which it will then use to generate a custom response. \n\n\nWith this above setup, now we can conduct RAG completely locally and privately. In order for you to play around with this setup, we have developed a Weaviate integration for privateGPT that implements that above setup [here](https://github.com/hsm207/privateGPT). This integration allows you to vectorize, ingest and query your own custom documents with open source models, as well as having Weaviate act as a vector store, completely locally. You can run this demo offline if you wanted once you have all the required dependencies. If you implement the above demo, one of the limitations you’ll find is the remarkably slow inference times when running the LLM on your own machine. Let's discuss some of the advantages and disadvantages of the above fully local private setup that can be used to perform RAG on your proprietary data.\n\n## Advantages and Disadvantages of a Local/Private Setup\n\nThe advantages of locally deploying your vector database and LLM models first and foremost is the data privacy guarantee: user and proprietary data now remain within the local infrastructure, reducing chances of exposure to external entities and mitigating third-party risk. If you keep your VectorDB+LLM local, another advantage is the reduction of the attack surface and potential vulnerabilities associated with network communications and unauthorized data access. These privacy guarantees can facilitate compliance with data protection and privacy regulations which are pivotal for regulated businesses that operate in healthcare, finance, etc.\n\nOn the other hand, a RAG stack running locally or on your VPC is constrained by the compute and resources that you can make available to it. This is the main reason the above privateGPT demo with Weaviate might run quite slowly on your own machines. Organizations need to invest in high-performance hardware, such as powerful servers or specialized hardware accelerators, to handle the computational demands. This can result in high upfront costs, ongoing maintenance expenses as well as difficulty scaling quickly if needed. Another disadvantage of bringing the tech stack local is the responsibility of infrastructure maintenance, system administration, security updates as well as machine learning-specific model updates which require extensive technical expertise. For this reason, this solution is great for larger companies like Samsung, Apple, and JPMorgan that have the budget to afford the required compute and expertise, and less so for resource-constrained smaller-scale companies.\n\n## Conclusion\n\nThe advent of large language models and consumer-wide adoption has brought tremendous progress, but a by-product of this large-scale adoption is that privacy concerns have also become more pronounced. However, advances in privacy-preserving techniques have made it possible to harness the power of large language models while upholding the highest standards of data privacy and security.\n\nIn this blog post, we discussed some cutting-edge approaches to privacy-preserving ML, such as federated learning and homomorphic encryption (which are currently being developed and have great potential in the future), as well as a more practical approach that can take advantage of OSS LLMs and vector databases to power generative search and custom chatbots locally and privately.\n\nAs we move forward, it is crucial for the AI community to continue prioritizing privacy and security, ensuring that LLMs can be deployed in a manner that respects individual privacy rights.\n\nimport WhatNext from '/_includes/what-next.mdx'\n\n\n",category:["Blog"],uuid:"2e092919-3292-4292-babd-6edae5994849",collection_name:"Weaviate_blogs",chunk_spans:[{start:9833,end:10427,uuid:"3b153767-fb79-54e8-a6ed-8434038770c3"}]},{title:"Blog Ref2vec-centroid",content:'\nWeaviate 1.16 introduced the [Ref2Vec](/developers/weaviate/modules/ref2vec-centroid) module. In this article, we give you an overview of what Ref2Vec is and some examples in which it can add value such as recommendations or representing long objects.\n\n## What is Ref2Vec?\nThe name Ref2Vec is short for reference-to-vector, and it offers the ability to vectorize a data object with its cross-references to other objects. The Ref2Vec module currently holds the name ref2vec-**centroid** because it uses the average, or centroid vector, of the cross-referenced vectors to represent the **referencing** object. The benefit of this approach is that the referencing object can be characterized from its actions and relationships as well as refined over time.\n\nIn one example, we could use Ref2Vec in a Weaviate database containing **User** and **Product** classes of objects to produce recommendations. Here, the Product class may include various types of vectorized items, such as shoes, or clothing, and a User could be vectorized by its relationships to Product instances. So a User who has liked 3 shoe Product instances will be represented as the average vector of the 3 shoe Product vectors, whereas another User might be represented by an average vector of whatever Product instances that they liked. This can be used for recommendation, for instance, by treating the averaged vector of the User as a search query in Product objects.\n\nThe following image depicts how Ref2Vec aggregates the representations of 3 Product items to represent a User who has purchased a pair of boots, shorts, and Weaviate t-shirt!\n\n![Ref2Vec Image](./img/ref2vec.png)\n\nSuch a representation of the User, by an aggregation of their cross-references, allows Weaviate to conveniently and immediately learn from each User\'s preferences and actions to provide improved and up-to-date characterizations. Ref2Vec can in other words capture each User\'s interests and tendencies across multiple axes, such as product categories or even fashion styles! And by doing so, the resulting recommendations can more closely match the User\'s product and style preferences.\n\nWe envision Ref2Vec to have great potential in multiple application areas. Let\'s take a look at a few of them in more detail, starting with recommendation systems.\n\n## Recommendation in Weaviate\nMany of you might primarily know Weaviate as a vector database and search engine, but Weaviate can also power high-quality, lightning-fast recommendations. This is because Recommendation is a very similar task to Search from the perspective of a vector database. Both tasks leverage the ANN index of vector representations to search for a suitable object. The key difference is that in Search, relevance is typically contained entirely within the query. In Recommendation, relevance is additionally dependent on the user, making the query a subjective, user-dependent task rather than an objective task. So if a User searches for "adidas  shoes for the summer", not only does Weaviate need to find these particular kinds of shoes, but it also needs to rank them based on relevance to the particular user\'s interests!\n\nWith Ref2Vec, this task is made easier by representing a user\'s interests by drawing a graph of cross-references from the user to objects the user has engaged with. This gives Weaviate unique points of reference for each user that can be used to rank the search results.\n\nIn Weaviate, Classes represent data objects such as Users, Products, or Brands. The vector for an instance of a Class, such as a Product, is obtained from a Machine Learning model\'s inference of (typically) an image or text description of the Product. Additionally, Weaviate\'s cross-references enable relations between Classes, such as Users that "liked" a Product. For example, User, Product, and Brand objects may each have a vector representation, symbolic properties like name or price, and relations as shown below.\n\n![Cross-reference](./img/Weaviate-Ref2Vec_1.png)\n\nRef2Vec gives Weaviate another way to vectorize a class, such as the User class, based on their relationships to other classes. This allows Weaviate to quickly create up-to-date representations of users based on their relationships such as recent interactions. If a user clicks on 3 shoe images on an e-commerce store, it is a safe bet that they want to see more shoes. Ref2Vec captures this intuition by calculating vectors that aggregate each User\'s interaction with another class.\n\nThe below animation visualizes a real example of this in e-Commerce images. The demo is organized such that user interactions are outlined with a green box and moved to the top-left of the grid. The nearest neighbors to the ref2vec-centroid are then arranged from left-to-right top-down.\n\n\n  \nYour browser does not support the video tag.\n\n\nThis animation shows how selecting multiple backpacks (such as two school-style book bags) can help personalize the user\'s recommendations (so showing more backpacks in a similar style rather than the duffle bags). We also see here how selecting multiple digital LED screen watches moves results away from analog watches. In other words, the User vector is being updated in real-time here to take into account their preferences and actions, which helps to produce more relevant results at speed. Another benefit of Ref2Vec is that this calculation is not compute-heavy, leading to low overhead.\n\nWith Ref2Vec, you can use Weaviate to provide Recommendation with "user-as-query". This is a very common and powerful way to build Home Feed style features in apps. This can be done by sending queries like this to Weaviate:\n\n```graphql\n{\n  Get {\n    Product (\n      nearObject: {\n        id: "8abc5-4d5..." # id for the User object with vector defined by ref2vec-centroid\n      }\n    ) {\n      product_name\n      price\n    }\n  }\n}\n```\n\nThis short query encapsulates the power of Ref2Vec. Although all the query does is provide the ID of the User object, Ref2Vec has done the hard work by inferring a centroid vector from the User\'s references to other vectors. And as the set of references continues to evolve, the Ref2Vec vectors will continue to evolve also, ensuring that the User vector remains up-to-date with their latest interests.\n\nWhether your goal is to construct a Home Feed interface for users or to pair with search queries, Ref2Vec provides a strong foundation to enable Recommendation with fairly low overhead. For example, it can achieve personalized re-ranking, also known as a session-based recommendation, without persisting user data over a long sequence of interactions. A new user could have personalization available after a few interactions on the app which will help them quickly settle in and feel at home, helping to overcome what is known as the cold-start problem.\n\n\n## Representing long objects\n\nOne of the most outstanding problems in Search technology is finding suitable representations for long objects. In this sense, "long" is used to describe text documents that significantly exceed the 512 token input limit on Deep Transformer Neural Networks. This problem is a large part of what motivates our interest in Hybrid Search techniques that combine the flexibility of Vector Search with the sparse BM25 word counting algorithm well suited for >512 token text sequences. We think Ref2Vec can also help address this challenge.\n\nTo be clear, Weaviate already offers a solution to represent long documents with Cross-References! As an example, [the Wikipedia Demo](https://github.com/weaviate/semantic-search-through-wikipedia-with-weaviate) breaks the long Wikipedia articles into a (Paragraph, inArticle, Article) data schema in which each Paragraph contains less than 512 tokens of text. This allows us to combine the title of the Article with the vector search in the Paragraph vectors in Weaviate with the following query:\n\n```graphql\n{\n  Get {\n    Paragraph(\n      nearText: {\n        concepts: ["What was Obama\'s legacy?"],\n      }\n      where: {\n        operator: Equal,\n        path: ["inArticle", "Article", "title"]\n        valueText: "Barack Obama"\n      }\n    ) {\n      content\n      order\n      title\n    }\n  }\n}\n```\n\nSo Weaviate already has a strong solution to long documents in play. However, what if we are searching through Scientific Papers, Legal contracts, or Screenplays such that we need to make long-range references between the Paragraphs?\n\nIn this case, Ref2Vec can be used to average the vectors that represent each **Paragraph** to form the representation of the referencing **Article Class**. In other words, each Article instance would refer to constituent Paragraph instances, and the Ref2Vec module would calculate the vector of the Article as the centroid of the Paragraph vectors. We can then search directly through these Articles with an aggregated vector representation from each Wikipedia Article, thus helping to identify full articles that best match the query.\n\n## More Coming Soon\nWe are very excited about the potential of Ref2Vec, and how it leverages existing symbolic data to augment vector searches in a new way. One of my favorite articles about Weaviate is Bob van Luijt\'s ["The AI-First Database Ecosystem"](/blog/semantic-search-with-wikipedia-and-weaviate). In this article, Bob describes emerging **waves** of database technology; from SQL, to NoSQL, and now, AI-first databases that focus "on data that is processed by a machine learning model first, where the AI models help in processing, storing and searching through the data as opposed to traditional ways".\n\nAlthough Weaviate puts Machine Learning data representations first, **this doesn\'t mean we discard symbolic data and many features of previous systems**. Rather, we are actively searching for how symbolic data can improve neural functionality and vice versa.\n\nWeaviate is a database that supports data structures like inverted index structures of categorical properties. Weaviate can integrate symbolic properties such as "colour" in the [HNSW vector search algorithm](https://towardsdatascience.com/effects-of-filtered-hnsw-searches-on-recall-and-latency-434becf8041c) to enable more efficient and guided search. This is called **pre-filtering** to describe applying the symbolic filter prior / during the search rather than simply after the nearest neighbors have been returned in **post-filtering**. Weaviate has clear applications of symbolic **properties** in vector search, but we have another symbolic data type that we hadn\'t yet leveraged in vector search – **Relational Structure**.\n\nRef2Vec-Centroid goes some way to harness the joint power of vector search **combined with** relational structure, by making it easier to derive object vectors from relationships. As you have seen above, we think Ref2Vec can add value for use cases such as recommendations, re-ranking, overcoming the cold start problem and representing long objects. We are also excited to see what you build with Ref2Vec, and excited to build on this module with its future iterations.\n\nSpeaking of which, we have another blog post coming soon on the development directions of Ref2Vec for the future. We will discuss topics such as **collaborative filtering**, **multiple centroids**, **graph neural networks**, and more on **re-ranking** with Ref2Vec. Stay tuned!\n\n\nimport WhatNext from \'/_includes/what-next.mdx\'\n\n\n',category:["Blog"],uuid:"5b07f07b-2b21-4d89-bf46-f40312c826c6",collection_name:"Weaviate_blogs",chunk_spans:[{start:9567,end:10369,uuid:"e20bb3a9-b143-5b38-8ad9-27ca7b7287d3"}]},{title:"Blog History-of-weaviate",content:'\nIn this article, I want to share the history of Weaviate, how the concept was born, and where we are heading towards in the near future.\n\n## A World of Wonders called Natural Language Processing\nSomewhere early 2015 I was introduced to the concept of word embeddings through the publication of an article that contained a machine-learning algorithm to turn individual words into embeddings called [GloVe](https://nlp.stanford.edu/projects/glove/).\n\n### Example of an embedding\n\n```txt\nsquarepants 0.27442 -0.25977 -0.17438 0.18573 0.6309 0.77326 -0.50925 -1.8926\n0.72604 0.54436 -0.2705 1.1534 0.20972 1.2629 1.2796 -0.12663 0.58185 0.4805\n-0.51054 0.026454 0.20253 0.32844 0.72568 1.23 0.90203 1.1607 -0.39605 0.80305\n0.16373 0.053425 -0.65308 1.0607 -0.29405 0.42172 -0.45183 0.57945 0.20217\n-1.3342 -0.71227 -0.6081 -0.3061 0.96214 -1.1097 -0.6499 -1.1147 0.4808 0.29857\n-0.30444 1.3929 0.088861\n```\n\nIf you are new to the world of word embeddings, a metaphor to understand them is in the form of a supermarket. The supermarket itself is a space in which products are stored based on the category they are in. Inside, you can find an apple by moving your shopping cart to the right coordinates in the fruit section and when you look around you, you\'ll find similar products like oranges, limes, bananas, etcetera, and you also know that a cucumber will be closer by than washing powder.\n\n\nThis is the same way a word embedding is structured. All the coordinates combined represent a multidimensional hyperspace (often around 300 dimensions) and words that have a similar meaning are more closely related to each other, like similar products in the store.\n\nBeing able to represent words in a space gives you a superpower, because it allows you to calculate with language! Instead of creating algorithms to understand language, it is now possible to simply look up what is in the neighborhood in the space.\n\n## How to semantically store data objects\nWhile working on software projects in my day-to-day life, I noticed that one of the most recurring challenges presented itself in naming and searching. How would we call certain objects and how could we find data that was structured in different ways? I fell in love with the semantic web but the challenge I saw there, was the need to have people agree on naming conventions and standards.\n\nThis made me wonder, what if we wouldn\'t have to agree on this any more? What if we could just store data and have the machine figure out the concept that your data represents?\n\nThe validation of the concept was chunked up into three main sections that were validated one by one.\n\n1. Can one get more context around a word by moving through the hyperspace? If so;\n1. Can one keep semantic meaning by calculating a centroid of a group of words (e.g., "thanks for the sushi last week")? If so;\n1. Can this be done fast without retraining the ML model?\n\nFinding more context around a word has to do with a concept called disambiguation. Take for example the word "apple". In the hyperspace, if you look for other words in the neighborhood, you will find words related to apple the fruit (e.g., other fruits, juices, etcetera) but also Apple the company (iPhone, Macintosh, and other concepts related to the company).\n\nTo validate if we could disambiguate the word "apple" the following simple step was taken. What if we looked for all the words that are in the neighborhood of the space in between "apple" and "fruit"? Turns out the results are way better! We can disambiguate by moving through the hyperspace while using individual words as beacons to navigate.\n\n![Vector Space](./img/vector-space.jpg)\n\nIn the next step, the goal was to validate if we could keep semantic meaning when storing a data object in the hyperspace by calculating the centroid using the individual words as beacons. We did that as follows, the title of this Vogue article: "Louis Vuitton\'s New Capsule with League of Legends Brings French High Fashion to Online Gaming — and Vice Versa".\n\nIf we look up the vector positions for the individual words (Louis, Vuitton, new, capsule, etc.) and place a new beacon in the center of the space of those vector positions, can we find the article by searching for "haute couture"? This turns out to work as well! Of course, through time, the centroid calculation algorithm in Weaviate has become way more sophisticated, but the overall concept is still the same.\n\n> By validating the above two assumptions, we knew that we could almost instantly store data objects in a semantic space rather than a more traditional row-column structure or graph. This allows us to index data based on its meaning.\n\nAlthough we had validated the assumptions of the semantic concepts, it was not enough to create an actual semantic search engine. Weaviate also needed a data model to represent these results.\n\n## Things Rather Than Strings\nIn September 2017 I wrote a [blog post](https://medium.com/bob-van-luijt/semantic-internet-of-things-42811e1ca7a7) about the overlap between the internet of things and the semantic web. IoT focuses on physical objects (i.e., "things") and the semantic web focuses on the mapping of data objects that represent something (a product, transaction, car, person, etcetera) which at the highest level of abstraction, are also "things".\n\nI wrote this article because, in January 2016, I was invited as part of the Google Developer Expert program in San Francisco, to visit the Ubiquity Conference. A conference where, back then, Google\'s Weave and Brillo were introduced to the public.\n\nWeave was the cloud application built around Brillo, but it piqued my interest because it focused on "things", how you defined them, and actions that you could execute around them. The very first iteration of Weaviate focused on exactly this: "Could Weave be used to define other things than IoT devices like transactions, or cars, or any other things?". In 2017 Google deprecated Weave and renamed Brillo to Android Things but the concept for Weaviate stayed.\n\nFrom the get-go, I knew that the "things" in Weaviate should be connected to each other in graph format because I wanted to be able to represent the relationships between the data objects (rather than flat, row-based information) in an as simple and straightforward manner as possible.\n\n> This search led to the RDF structure used by schema.org, which functioned as an inspiration for how to represent Weaviate\'s data objects.\n\nWeaviate is not per se RDF- or schema.org-based, but is definitely inspired by it. One of the most important upsides of this approach was that we could use GraphQL (the graph query language which was entering the software stage through Facebook open-sourcing it) to represent the data inside Weaviate.\n\nWith the concept of realtime vectorization of data objects and RDF-like representation of Weaviate objects in GraphQL, all the ingredients to turn Weaviate into the search graph that it currently is, were present.\n\n## The Birth of the Weaviate Search Graph\nBy the end of 2018, I entered Weaviate into a startup accelerator program in The Netherlands. A place where I had the time to build a team around Weaviate that could help get the software to production and create a business model around the open-source project (the startup became: SeMI Technologies, which is short for Semantic Machine Insights).\n\nWhen the team started, Weaviate was more of a traditional graph where the semantic (NLP) element was a feature rather than the core architecture. But when we started to learn how powerful the out-of-the-box semantic search was and the role that embeddings play in day-to-day software development (i.e., a lot of machine learning models create embeddings as output), the team decided that we wanted to double down on the NLP part and vector storage, creating a unique open-source project, which could be used as a semantic search engine. The Weaviate Search Graph was born.\n\n## How people use it today\nOne of the coolest things about an open-source community and users of the software is to see how people use it and what trends you can see emerge around implementations. The core features of Weaviate are the semantic search element and the semantic classification, which are used in a variety of ways and industries.\n\nExamples of implementations include: classification of invoices into categories, searching through documents for specific concepts rather than keywords, site search, product knowledge graphs, and many other things.\n\n## The Future\nWeaviate will stay fully open source for the community to use. The team is growing to accelerate building Weaviate and supporting users. We are releasing new features very frequently, like new vector indexes and search pipeline features, and Weaviate Cloud and Weaviate Query App.\n\n![Weaviate Console](./img/weaviate-console.jpg)\n\n## Listen to Bob\'s story at the Open Source Data\nWant to learn more about the background of Vector Search and how the ecosystem is developing? [Listen to Sam Ramji from DataStax interviewing Bob van Luijt about Vector Search and the AI stack.](https://www.datastax.com/resources/podcast/vector-search-ai-stack-more-bob-van-luijt).\n\n\nimport WhatNext from \'/_includes/what-next.mdx\'\n\n\n',category:["Blog"],uuid:"6782b986-40ac-44eb-a2ec-c9c9625df86e",collection_name:"Weaviate_blogs",chunk_spans:[{start:8131,end:8792,uuid:"95b11e68-0d0c-54aa-a931-beadcf804246"},{start:7360,end:8279,uuid:"0c28fa58-af82-5e00-af93-c381912b97a7"},{start:5916,end:6754,uuid:"a6018b45-3d2a-58f1-83ce-9c5281a8575a"}]},{title:"Blog Ai-native-infrastructure",content:"![AI-native infrastructure](./img/hero.png)\n\nIt was a beautiful fall morning in Orlando when I left the Grand Floridian, headed for the Gartner IT Symposium aboard the shuttle bus. I was eager to catch the keynote, though I hadn't studied who was speaking. Walking into the session, I found myself watching Jensen Huang, NVIDIA's CEO, in a fireside chat with Gartner's Daryl Plummer. Though I'd missed the first half, what I heard next made up for it: \"Vectorize all of your data.\"\n\nThis statement resonated deeply, not just because of its simplicity but because it underscored a fundamental shift in how we think about data and AI in the enterprise. The rapid evolution of generative AI has ushered in a new era—one where traditional data infrastructures no longer suffice.\n\n### The collapse of traditional, CRUD-based applications\n\nFast forward a few months. I'm sitting with Weaviate's co-founder, visionary and CEO [Bob van Luijt](https://www.linkedin.com/in/bobvanluijt/), discussing how the AI-native world will force every application to be rebuilt from the ground up. We shared a conviction that traditional CRUD-based apps would give way to AI-native agentic applications, with [vector databases](/blog/what-is-a-vector-database) like Weaviate at their core.\n\nShortly after, Satya Nadella, Microsoft’s CEO, made headlines with his own provocative statement on how traditional business applications are becoming obsolete. His vision aligned perfectly with what Bob and I had been discussing. His reasoning? In the AI-native era, business logic is migrating from hardcoded rules to autonomous AI agents capable of orchestrating operations across multiple systems. In this paradigm, traditional applications (reliant on static CRUD operations) are no match for agentic AI systems. \n\n### The Rise of Agentic AI: What it means for the enterprise \n\nOver the past few years, large language models and generative AI have completely changed how enterprises interact with their data, moving from static search results to systems that generate context-aware insights on demand. We’re now entering the age of Agentic AI—where AI doesn’t stop at giving answers; it continuously learns and takes action.\n\nJust last week, OpenAI unveiled Operator, an AI agent that can take actions directly through a web browser, acting on behalf of users in real-world scenarios. In one demo, the agent found and made a reservation at a local restaurant based on user preferences. In another, it ordered groceries from a delivery service based on a recipe. \n\nThese recent innovations offer a glimpse into AI's future, but what do they mean for enterprises looking to stay ahead of the curve? [Gartner recently predicted](https://www.gartner.com/en/articles/intelligent-agent-in-ai) that by 2028, 33% of enterprise software applications will include agentic AI, up from less than 1% in 2024, enabling 15% of day-to-day work decisions to be made autonomously.\n\nThere’s no doubt that the next three years will be transformative, but conversations with customers, analysts, and industry leaders reveal a clear consensus: general-purpose autonomous agents are still far from practical in the enterprise. This is due to both governance risks and technical limitations. The real opportunity in the near-term lies in deploying specialized AI agents for well-defined tasks and workflows. Use cases across customer support, software engineering, and data management and enrichment —where workflows are structured and early prototypes show strong potential—can deliver immense enterprise value and human productivity gains in the near-term.\n\n### Why you need an AI-native vector database \n\nThe ability to process, retrieve, and learn from unstructured and multimodal data at scale is a core requirement of agentic AI systems. Traditional databases were not designed for this complexity. Instead, AI-native vector databases have emerged as critical infrastructure for organizations seeking to enable these capabilities.\n\nWeaviate is an open-source AI-native database that empowers AI builders with: \n\n* **Scalable AI-Native Architecture:** Designed specifically for AI workloads, Weaviate delivers unparalleled scalability and performance, handling billions of vectors with ease.  \n    \n* **Real-time Semantic Search:** Beyond basic vector similarity, Weaviate incorporates hybrid techniques to ensure relevant and precise results. Real-time ingestion and querying help AI agents quickly adapt to new information.   \n    \n* **Integration with Agentic Frameworks:** Weaviate works with popular LLMs and agent tools like [LangChain](https://weaviate.io/developers/integrations/llm-agent-frameworks/langchain) and [LlamaIndex](https://weaviate.io/developers/integrations/llm-agent-frameworks/llamaindex), making it easier to build and deploy agentic workflows. \n\n* **Weaviate Agents:** Integrate new insights directly into the database, transform existing data, and improve agentic application intelligence over time.\n\n* **Governance, Compliance, and Security:** Flexible deployment, multi-tenancy, and strong security controls help you run agentic AI safely and meet enterprise standards without added complexity.\n\nJensen Huang's directive to \"vectorize all your data\" isn't just a passing trend – it's an imperative for survival in the AI era. As traditional business applications collapse and agentic AI becomes the new center of gravity for enterprise software, more organizations will adopt AI-native infrastructure for their use cases. \n\nWhy Weaviate? Because true enterprise readiness requires more than just [vector search](/blog/vector-search-explained). It demands battle-tested reliability, scalable architecture that can handle billions of vectors, seamless model integration, and the ability to support complex agentic architectures. Weaviate delivers on all these fronts while maintaining the speed and flexibility that modern AI applications demand.\n\nThe future speaks in vectors, and that future runs on Weaviate. For enterprises looking to thrive in the AI-native era, Weaviate offers a foundation for innovation, adaptability, and scalable intelligence. Together, we’re not just building software—we’re redefining what it can do.\n\nimport WhatNext from '/_includes/what-next.mdx'\n\n\n",category:["Blog"],uuid:"3209b040-0285-45b6-9af1-a7105a9c185a",collection_name:"Weaviate_blogs",chunk_spans:[{start:3794,end:4286,uuid:"ebcc699b-fb35-5538-baa8-4c0fbedab94c"}]},{title:"Blog Chicago-roadshow-recap",content:"\nIn July we stopped by the Windy City along with our friends from Innovative Solutions and Morningstar to host another roadshow event. Even though this was our first-ever visit to Chicago, our space was packed to the brim with AI enthusiasts asking awesome questions of our presenters and completing our hands-on training in the second half of the day.\n\nBen Barrett, Head of Technology, and Aisis Julian, Senior Software Engineer at [Morningstar](https://www.morningstar.com/), shared their journey in building an intelligence engine platform for financial data. They focused on the evolution of the platform, emphasizing corpus management as a critical feature that allows Morningstar to leverage its extensive data across multiple applications. The talk showed how Weaviate has been instrumental in enhancing the precision and flexibility of their generative AI applications.\n\n> Amazingly, our team was able to build this entire pipeline very quickly with Weaviate's Python client and their model provider integration so that we could have a seamless implementation and configuration of embedding models.\n\n> *Aisis Julian, Senior Software Engineer, Morningstar* \n\n\n\n    \n\n\n\n### Key Takeaways:\n* **Intelligence Engine Platform**: Built with Weaviate, this platform enables scalable and flexible management of financial research data, supporting multiple AI applications across Morningstar.\n\n* **Corpus management**: The platform's corpus management system allows for dynamic and context-aware document chunking, improving the relevance and accuracy of retrieval-augmented generation (RAG) applications.\n\n* **Cited source transparency**: Enhancing transparency and accuracy, Morningstar's system ensures that AI-generated answers are backed by verifiable and trusted sources, aiding user confidence in the output.\n\n* **Ease-of-use, versatility, and scalability**: The ability to support multiple use cases—from search engines to tailored AI applications—and get them up-and-running quickly,demonstrates the versatility and scalability of Weaviate's capabilities in handling large and diverse data sets.\n\nAnthony Loss, Lead Solutions Architect at [Innovative Solutions](https://innovativesol.com/), provided an insightful presentation on how Innovative uses Weaviate’s vector database within AWS environments to enhance generative AI solutions for their clients. He shared the story of a recent customer in the call center industry for whom Innovative deployed a two-pronged solution involving live call analytics and digital voice agents. \n\n\n    \n\n\n\n### Key takeaways:\n* **Weaviate’s scalability**: Weaviate integrates seamlessly within AWS environments and scales to support large use cases with ease, making it a preferred choice for deploying AI-driven solutions.\n\n* **Innovative’s AI capabilities**: Innovative Solutions leverages advanced AI technologies, including IBM Watson on AWS, to enhance real-time customer experience monitoring and interaction flows.\n\n* **Case study success**: Innovative successfully implemented a complex solution for a call center-focused customer, demonstrating the practical and powerful application of Weaviate's technology in improving customer satisfaction and operational efficiency.\n\nInterested in joining us in person? Keep an eye on our [events page](https://weaviate.io/community/events) to see when we’re headed to your city! \n\n\n",category:["Blog"],uuid:"b8bf019c-6815-4420-ac51-14e6290d3374",collection_name:"Weaviate_blogs",chunk_spans:[{start:1605,end:2569,uuid:"d00f8ce5-772e-53e0-bc0c-dd9b74e8e343"}]},{title:"Blog Understand-your-unstructured-data",content:"\n## Intro\nThese days, more and more organizations are adopting a data-driven culture. Business processes and customer experience benefit from good data collection, management and analysis. But in order to really benefit from available data, it is essential to also understand the unstructured data, like free text in PDF documents, emails, invoices or voice transcriptions. Unstructured data is especially hard to index, manage and understand. Since around [80% of all data is unstructured](https://www.forbes.com/sites/forbestechcouncil/2019/01/29/the-80-blind-spot-are-you-ignoring-unstructured-organizational-data/), it is hard to actually search and retrieve insights from most of the data.\n\nThe Weaviate vector database unlocks the potential of unstructured data. Searching by fuzzy terms and classification of rich data like free text becomes possible with Weaviate. It uses AI-driven indexing and search technologies to enable real-time text processing. With machine learning methods, Weaviate automatically classifies texts. Finding information you are looking for and providing recommendations is possible because knowledge and information is placed in context.\n\n## How does Weaviate work?\nData usually refers to something in the real world. Traditional databases and search engines often struggle with understanding the context of data, a situation or a search query. The context of data is important, because it enables storage and search by fuzzy concepts instead of exact matching keywords. Weaviate automatically places concepts and words in relation to its context by using machine learning. It understands that the Eiffel Tower is a landmark in Paris, and will place these concepts closely together in the database model. Showing [orange tompouces](https://en.wikipedia.org/wiki/Tompouce) when looking for treats around King's day in the Netherlands is an example of finding concepts related to the context.\n\n## Example use cases\nNow let's get more serious than landmarks and holiday treats (although we should agree that tompouces are essential during King's day), and find out how also your business could benefit from search and classification of unstructured data.\n\n## Automatic classification\nData classification is often done manually or by expensive external data science teams. ERP (enterprise resource planning) and supply chain management systems rely on correct classification of for example employees' travel expenses or ingredient labeling of product packages. Automatic classification by Weaviate reduces manual classification errors and eliminates expensive, single-to-use classification applications. Automatic classification can also be applied to cybersecurity and event management, where intervention on threats and riskful events should be taken real-time. Current platforms deal with very large amounts of streaming data, consisting of mostly free text. Weaviate can automatically recognize threats in free text, and classify if and which mitigation should be taken. With Weaviate this can be achieved near real-time, even on a very large scale.\n\n## Semantic search\nTraditional search systems return items that have an exact match with the search terms. This means that searching through your emails for ‘reimbursement' will skip all results about ‘compensation'. Searching for ‘science fiction' in a traditional book search engine, might lead to anything related to ‘science' or ‘fiction' so this would include ‘neuroscience' but not ‘a book about the future'. Weaviate uses semantic search, and matches search results to the user's intent through contextual meaning. For e-commerce websites this means that people searching for ‘jumpers' will also see ‘sweatshirts' simply because their contextual meaning is the same although the keywords do not match.\n\nSee how automatically placing orange tompouces in the context of King's day might thus actually lead to upselling your products and happier customers? Now there's certainly also potential hidden in the majority of your data. Think about how an AI-driven vector-search can unlock this from your organization's data!\n\n\nimport WhatNext from '/_includes/what-next.mdx'\n\n\n",category:["Blog"],uuid:"5483d153-f666-457f-9287-46ad392c60f4",collection_name:"Weaviate_blogs",chunk_spans:[{start:769,end:1250,uuid:"eb8ccaaa-36c8-507d-9fbc-25d2065a6938"}]}],metadata:{collection_name:"Weaviate_blogs",display_type:"document",needs_summarising:!1,query_text:"what is Weaviate?",query_type:"hybrid",chunked:!0,query_output:{target_collections:["Weaviate_documentation","ELYSIA_CHUNKED_weaviate_blogs__"],search_type:"hybrid",search_query:"what is Weaviate?",sort_by:null,filter_buckets:null,limit:10},code:{language:"python",title:"Query",text:"collection.query.hybrid(\n    query='what is Weaviate?',\n    limit=10\n)"}},code:{language:"python",title:"Query",text:"collection.query.hybrid(\n    query='what is Weaviate?',\n    limit=10\n)"}}},{type:"text",id:"tex-648f906a-fcd5-40b7-a8eb-6d73c4c97229",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"9eecf0fb-b3e2-4272-b8d3-050e0f2e7d95",query_id:"b4c8ce36-0989-436e-966e-962efe8dacd3",payload:{type:"response",metadata:{},objects:[{text:"I will now summarize the information I found in the Weaviate documentation and blog posts to answer your question."}]}},{type:"text",id:"tex-0b8fd1ee-1de8-4a8a-9f31-5181b7f4e5b1",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"9eecf0fb-b3e2-4272-b8d3-050e0f2e7d95",query_id:"b4c8ce36-0989-436e-966e-962efe8dacd3",payload:{type:"text_with_citations",metadata:{title:"Weaviate: An AI-Native Vector Database"},objects:[{text:"Weaviate is an open-source, AI-native vector database designed for AI workloads, offering scalability and performance for handling billions of vectors. It facilitates real-time semantic search and classification of data, using AI-driven indexing and search technologies to process text and classify data automatically with machine learning.",ref_ids:["query_Weaviate_blogs_0_0","query_Weaviate_blogs_0_1","query_Weaviate_blogs_0_3"]},{text:"\n\nWeaviate supports various data structures, including inverted index structures for categorical properties, and can integrate symbolic properties to enhance search efficiency. It is cloud-native and modular, allowing teams to import data objects alongside existing vector positions, and offers optional modules for text, images, and other media types.",ref_ids:["query_Weaviate_blogs_0_2","query_Weaviate_blogs_0_4"]},{text:"\n\nKey features include semantic search and classification, which are applied across various industries for tasks such as invoice categorization and conceptual document searching. Weaviate is versatile and scalable, supporting multiple use cases from search engines to AI applications.",ref_ids:["query_Weaviate_blogs_0_5","query_Weaviate_blogs_0_6","query_Weaviate_blogs_0_9"]},{text:"\n\nWeaviate was inspired by the RDF structure used by schema.org and uses GraphQL to represent the data. It can be integrated into platforms like Boomi and Dynamiq, enhancing capabilities within low-code environments and streamlining research processes.",ref_ids:["query_Weaviate_blogs_0_7","query_Weaviate_documentation_0_6","query_Weaviate_documentation_0_9"]},{text:"\n\nWeaviate also supports private and secure solutions where data doesn't leave the organization, and it enhances transparency by ensuring AI-generated answers are backed by verifiable sources.",ref_ids:["query_Weaviate_blogs_0_8","query_Weaviate_blogs_0_6"]}]}},{type:"suggestion",id:"dd824625-0b98-4b42-96b5-66a179939410",conversation_id:"9eecf0fb-b3e2-4272-b8d3-050e0f2e7d95",query_id:"b4c8ce36-0989-436e-966e-962efe8dacd3",user_id:"com-55ffea04-c8ec-4daf-811b-6c6abe9e09e0",payload:{error:"",suggestions:[]}}]},sA={id:"12345",query:"Are there any conversations about Python packages?",messages:[{type:"User",id:"b203293b-e02d-4ab4-8198-91c21ea4f0c0",query_id:"93624d05-585a-4111-b9c5-fa14eceb628b",conversation_id:"8d7a4c89-f6a1-4630-a310-80e64f2e528b",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",payload:{type:"text",metadata:{},code:{language:"",title:"",text:""},objects:["Show me the latest conversation of edward"]}},{type:"text",id:"tex-d600734a-b500-4a8c-b89d-cf1777011f7d",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"8d7a4c89-f6a1-4630-a310-80e64f2e528b",query_id:"93624d05-585a-4111-b9c5-fa14eceb628b",payload:{type:"response",metadata:{},objects:[{text:"I will now query the `Example_verba_slack_conversations` and `Example_verba_email_chains` collections to find the latest messages from Edward."}]}},{type:"text",id:"tex-1f775e59-967e-437f-8918-a5b1d84019a8",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"8d7a4c89-f6a1-4630-a310-80e64f2e528b",query_id:"93624d05-585a-4111-b9c5-fa14eceb628b",payload:{type:"response",metadata:{},objects:[{text:'I\'m applying a filter to only include messages from "Edward" and sorting the results by timestamp to show the latest conversations first.'}]}},{type:"result",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"8d7a4c89-f6a1-4630-a310-80e64f2e528b",query_id:"93624d05-585a-4111-b9c5-fa14eceb628b",id:"res-ca8eb706-f805-426d-a76f-c7450f334875",payload:{type:"conversation",objects:[{conversation_id:22,messages:[{conversation_id:22,content:"Hey team, I've noticed our Weaviate disk usage is almost at 90%. Any thoughts on how to increase the disk limit?",author:"Zara",timestamp:"2024-09-26T09:12:33Z",uuid:"06ae35b4-2c0c-5dbc-9bdf-e9ed4e18a53f",relevant:!1},{conversation_id:22,content:"That's a good point, Zara. Even though we have 1TB free, it seems the system is still reading it as full. Maybe we should check the configuration settings?",author:"Edward",timestamp:"2024-09-26T09:15:45Z",uuid:"742fb7ab-1119-5891-9aa7-ba81b1ab277a",relevant:!1},{conversation_id:22,content:"I think there's a parameter in the Weaviate configuration that needs adjusting. We might have to look into the documentation for any disk space limits.",author:"Kaladin",timestamp:"2024-09-26T09:18:12Z",uuid:"1e95a0d2-880a-53d8-9ef0-744cada1d835",relevant:!1},{conversation_id:22,content:"Good idea, Kaladin! Also, we might want to consider increasing the threshold for alerts if we're not actually running out of space.",author:"Zara",timestamp:"2024-09-26T09:20:30Z",uuid:"8ba44806-a8aa-5d32-8346-65e9f69ffe72",relevant:!1},{conversation_id:22,content:"Definitely! I can dig into the logs and see if there are any underlying issues causing this read-only state while we have space.",author:"Edward",timestamp:"2024-09-26T09:23:10Z",uuid:"6f45d340-24db-5e25-8104-2a4f98e2260d",relevant:!0},{conversation_id:22,content:"Let's regroup after we check these things. I’m sure we can find a workaround or solution together!",author:"Kaladin",timestamp:"2024-09-26T09:25:55Z",uuid:"791c7ea7-ec46-5ab0-9f25-41f78fb2f8c5",relevant:!1}]},{conversation_id:22,messages:[{conversation_id:22,content:"Hey team, I've noticed our Weaviate disk usage is almost at 90%. Any thoughts on how to increase the disk limit?",author:"Zara",timestamp:"2024-09-26T09:12:33Z",uuid:"06ae35b4-2c0c-5dbc-9bdf-e9ed4e18a53f",relevant:!1},{conversation_id:22,content:"That's a good point, Zara. Even though we have 1TB free, it seems the system is still reading it as full. Maybe we should check the configuration settings?",author:"Edward",timestamp:"2024-09-26T09:15:45Z",uuid:"742fb7ab-1119-5891-9aa7-ba81b1ab277a",relevant:!0},{conversation_id:22,content:"I think there's a parameter in the Weaviate configuration that needs adjusting. We might have to look into the documentation for any disk space limits.",author:"Kaladin",timestamp:"2024-09-26T09:18:12Z",uuid:"1e95a0d2-880a-53d8-9ef0-744cada1d835",relevant:!1},{conversation_id:22,content:"Good idea, Kaladin! Also, we might want to consider increasing the threshold for alerts if we're not actually running out of space.",author:"Zara",timestamp:"2024-09-26T09:20:30Z",uuid:"8ba44806-a8aa-5d32-8346-65e9f69ffe72",relevant:!1},{conversation_id:22,content:"Definitely! I can dig into the logs and see if there are any underlying issues causing this read-only state while we have space.",author:"Edward",timestamp:"2024-09-26T09:23:10Z",uuid:"6f45d340-24db-5e25-8104-2a4f98e2260d",relevant:!1},{conversation_id:22,content:"Let's regroup after we check these things. I’m sure we can find a workaround or solution together!",author:"Kaladin",timestamp:"2024-09-26T09:25:55Z",uuid:"791c7ea7-ec46-5ab0-9f25-41f78fb2f8c5",relevant:!1}]},{conversation_id:84,messages:[{conversation_id:84,content:"Hey team, I'm running into a connection issue with Verba when trying to use it with Ollama and Weaviate. Anyone else experienced this?",author:"Xaden",timestamp:"2024-08-01T14:01:15Z",uuid:"075045a6-4ffe-5417-8254-623ab229042b",relevant:!1},{conversation_id:84,content:"Yes, I had a similar problem. Have you checked if Ollama is actually running on the expected port? You might want to verify the service status.",author:"Edward",timestamp:"2024-08-01T14:03:42Z",uuid:"965db95a-23e2-5016-93c5-808dfa479d8d",relevant:!0},{conversation_id:84,content:"Also, double-check your .env file. Sometimes the environment variables can get messed up, especially if you've changed configurations recently.",author:"Zara",timestamp:"2024-08-01T14:05:10Z",uuid:"0b9ee981-ed64-52ac-b0c9-2df50c6a5366",relevant:!1},{conversation_id:84,content:"Thanks, I'll look into that. I did see some errors related to the modules not being present. Do you think that could be causing the issue?",author:"Xaden",timestamp:"2024-08-01T14:06:55Z",uuid:"d509b343-adca-5d17-b805-7dcfd0fc4cc7",relevant:!1}]},{conversation_id:102,messages:[{conversation_id:102,content:"Hey team, has anyone else run into that AttributeError with InputText while installing verba on M1 Macs?",author:"Edward",timestamp:"2024-06-27T15:00:00Z",uuid:"c94f66df-8b5a-5065-9a83-d5a33467cd06",relevant:!1},{conversation_id:102,content:"I haven't experienced that specific error, but I did have issues related to PyTorch on my M1. Could it be related to the Python environment you're using?",author:"Zara",timestamp:"2024-06-27T15:05:35Z",uuid:"0e0bee22-d9d0-5644-bb71-f0a14fe4bd8a",relevant:!1},{conversation_id:102,content:"That's a good point, Zara. Sometimes using a virtual environment can help. Have you tried setting one up for your project, Edward?",author:"Danny",timestamp:"2024-06-27T15:10:12Z",uuid:"e54a41a4-9a53-5825-89ed-58cdb5590918",relevant:!1},{conversation_id:102,content:"Not yet, I was just using the global environment. Maybe I should give that a shot. Do you think I should also downgrade Python?",author:"Edward",timestamp:"2024-06-27T15:15:48Z",uuid:"6332ff98-adaf-5228-8c1a-5973d32394a0",relevant:!0},{conversation_id:102,content:"It could help! Some packages have compatibility issues with newer versions. Also, check if there are any specific dependencies that need adjusting.",author:"Zara",timestamp:"2024-06-27T15:21:04Z",uuid:"7e1b1527-0872-5a07-ad25-df3e8bfe483e",relevant:!1},{conversation_id:102,content:"Definitely worth investigating! Let us know if setting up a virtual environment changes anything.",author:"Danny",timestamp:"2024-06-27T15:25:30Z",uuid:"2ec5fcd2-a2cc-5b4e-99ff-73ab9d1b3039",relevant:!1}]},{conversation_id:102,messages:[{conversation_id:102,content:"Hey team, has anyone else run into that AttributeError with InputText while installing verba on M1 Macs?",author:"Edward",timestamp:"2024-06-27T15:00:00Z",uuid:"c94f66df-8b5a-5065-9a83-d5a33467cd06",relevant:!0},{conversation_id:102,content:"I haven't experienced that specific error, but I did have issues related to PyTorch on my M1. Could it be related to the Python environment you're using?",author:"Zara",timestamp:"2024-06-27T15:05:35Z",uuid:"0e0bee22-d9d0-5644-bb71-f0a14fe4bd8a",relevant:!1},{conversation_id:102,content:"That's a good point, Zara. Sometimes using a virtual environment can help. Have you tried setting one up for your project, Edward?",author:"Danny",timestamp:"2024-06-27T15:10:12Z",uuid:"e54a41a4-9a53-5825-89ed-58cdb5590918",relevant:!1},{conversation_id:102,content:"Not yet, I was just using the global environment. Maybe I should give that a shot. Do you think I should also downgrade Python?",author:"Edward",timestamp:"2024-06-27T15:15:48Z",uuid:"6332ff98-adaf-5228-8c1a-5973d32394a0",relevant:!1},{conversation_id:102,content:"It could help! Some packages have compatibility issues with newer versions. Also, check if there are any specific dependencies that need adjusting.",author:"Zara",timestamp:"2024-06-27T15:21:04Z",uuid:"7e1b1527-0872-5a07-ad25-df3e8bfe483e",relevant:!1},{conversation_id:102,content:"Definitely worth investigating! Let us know if setting up a virtual environment changes anything.",author:"Danny",timestamp:"2024-06-27T15:25:30Z",uuid:"2ec5fcd2-a2cc-5b4e-99ff-73ab9d1b3039",relevant:!1}]}],metadata:{collection_name:"Example_verba_slack_conversations",display_type:"conversation",needs_summarising:!1,query_text:null,query_type:"filter_only",chunked:!1,query_output:{target_collections:["Example_verba_slack_conversations"],search_type:"filter_only",search_query:null,sort_by:{property_name:"message_timestamp",direction:"descending"},filter_buckets:[{filters:[{property_name:"message_author",operator:"=",value:"Edward"}],operator:"AND"}],limit:5},code:{language:"python",title:"Query",text:"collection.query.fetch_objects(\n    filters=Filter.all_of([\n        Filter.by_property('message_author').equal('Edward')\n    ]),\n    limit=5,\n    sort=Sort.by_property(\n        'message_timestamp',\n        ascending=False\n    )\n)"}},code:{language:"python",title:"Query",text:"collection.query.fetch_objects(\n    filters=Filter.all_of([\n        Filter.by_property('message_author').equal('Edward')\n    ]),\n    limit=5,\n    sort=Sort.by_property(\n        'message_timestamp',\n        ascending=False\n    )\n)"}}},{type:"result",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"8d7a4c89-f6a1-4630-a310-80e64f2e528b",query_id:"93624d05-585a-4111-b9c5-fa14eceb628b",id:"res-b2095d2c-d6af-46d8-8ffb-d21cdedfbb1b",payload:{type:"conversation",objects:[{conversation_id:27,messages:[{conversation_id:27,content:"Hello Support Team,\n\nI hope this message finds you well. I have recently started using your product and have encountered some challenges with its features. Specifically, I am having trouble understanding how to connect the application with external APIs effectively. Any guidance you could provide would be greatly appreciated.\n\nThank you!\n\nBest regards,\nXaden",author:"Xaden",timestamp:"2024-09-23T12:00:00Z",uuid:"47648d44-61ad-5f91-9eb4-f29361af0eab",relevant:!1},{conversation_id:27,content:"Dear Xaden,\n\nThank you for reaching out to us regarding your concerns. We appreciate your interest in our product. To connect the application with external APIs, you need to configure the settings in the .env file properly. Ensure that the API keys are inserted correctly and that the endpoints are accessible.\n\nIf you're still encountering issues, please let us know, and we can schedule a call to assist you further.\n\nKind regards,\nEdward",author:"Edward",timestamp:"2024-09-23T12:45:13Z",uuid:"d82d6072-4be1-5a50-9322-0b807a27dab5",relevant:!0},{conversation_id:27,content:"Hi Xaden,\n\nFollowing up on Edward's email, I wanted to add that it's crucial to check if the external API you're trying to connect to has any specific requirements or limitations. Sometimes, the format of the request can cause unexpected issues. Please feel free to share any error messages you receive, and we will gladly help you troubleshoot.\n\nLooking forward to your reply!\n\nRegards,\nDalinar",author:"Dalinar",timestamp:"2024-09-23T14:12:45Z",uuid:"e3701905-8440-54ac-a4da-81f4d2fff5d1",relevant:!1}]},{conversation_id:172,messages:[{conversation_id:172,content:"Dear Team,\n\nWe are excited to share the latest updates from Verba Chat. Our team has been working diligently to enhance user experience and efficiency. Stay tuned for more details on our upcoming features!\n\nBest regards,\nWu Zi-nan",author:"Wu Zi-nan",timestamp:"2024-05-20T10:15:47Z",uuid:"929fb730-a9e8-509d-9f7c-08fc528dc66a",relevant:!1},{conversation_id:172,content:"Hello Everyone,\n\nI just wanted to add that we are also rolling out new integrations with other services to make Verba Chat even more versatile. We appreciate your support and feedback as we implement these changes.\n\nKind regards,\nEdward",author:"Edward",timestamp:"2024-05-20T13:32:15Z",uuid:"c7516dd2-07f3-5715-aee5-5b02267a89ea",relevant:!1},{conversation_id:172,content:"Hi Team,\n\nJust a quick note to remind you about our upcoming webinar where we will showcase the new features of Verba Chat. It’s a great opportunity to see everything in action and ask questions.\n\nLooking forward to seeing you all there!\nRegards,\nRavi",author:"Ravi",timestamp:"2024-05-20T15:45:32Z",uuid:"67d8accd-51d0-52a8-ba34-544f308341a4",relevant:!1},{conversation_id:172,content:"Dear All,\n\nWe appreciate your enthusiasm for the upcoming features! We are also gathering feedback from early testers, and it has been overwhelmingly positive. Thank you for your continued engagement.\n\nBest,\nWu Zi-nan",author:"Wu Zi-nan",timestamp:"2024-05-20T18:10:05Z",uuid:"cd5d1d5d-56f8-58ec-8349-d9460c4946b1",relevant:!1},{conversation_id:172,content:"Hello Team,\n\nI wanted to remind everyone that the feedback deadline for the new features is approaching. Please ensure your comments are submitted by the end of the week to be considered in the final rollout.\n\nBest regards,\nEdward",author:"Edward",timestamp:"2024-05-21T09:20:16Z",uuid:"de47852a-2ea3-5dc4-9c7d-0c9baa71004e",relevant:!1},{conversation_id:172,content:"Hi All,\n\nJust following up on Edward’s message. Your insights are invaluable to us, and we want to ensure we address all concerns before the final release. Thank you for your contributions!\n\nKind regards,\nRavi",author:"Ravi",timestamp:"2024-05-21T12:05:44Z",uuid:"82e61409-2877-530e-b6d0-b6f1eba0d65a",relevant:!1},{conversation_id:172,content:"Dear Team,\n\nI’m thrilled to report that the new features are on track for release next month! Thank you all for your hard work and dedication throughout this process.\n\nBest,\nWu Zi-nan",author:"Wu Zi-nan",timestamp:"2024-05-21T14:35:22Z",uuid:"71a9e2f8-03f7-5b2d-a0d1-ae1bad796f6a",relevant:!1},{conversation_id:172,content:"Hello Everyone,\n\nAs we approach the release date, I encourage everyone to finalize their testing and provide any last-minute feedback. Your efforts are crucial to our success!\n\nRegards,\nEdward",author:"Edward",timestamp:"2024-05-21T16:55:38Z",uuid:"cccc15b3-6423-5fb1-b218-ebc40de2d7cf",relevant:!0},{conversation_id:172,content:"Hi Team,\n\nWe are planning a celebratory meeting to discuss our successful launch and future directions. I hope everyone can join us!\n\nBest,\nRavi",author:"Ravi",timestamp:"2024-05-21T19:30:10Z",uuid:"7afd255f-077a-5db7-8328-99da75c77266",relevant:!1},{conversation_id:172,content:"Dear Team,\n\nThank you all for your hard work and commitment. Looking forward to our meeting and celebrating our successes together!\n\nBest regards,\nWu Zi-nan",author:"Wu Zi-nan",timestamp:"2024-05-22T09:15:00Z",uuid:"63d1c4ac-1111-5d92-a825-2247a710dc92",relevant:!1}]},{conversation_id:167,messages:[{conversation_id:167,content:"Hello Support Team,\n\nI hope this message finds you well. I recently started using your product and I have some questions regarding its capabilities and support options. I want to ensure I have the right resources available should I encounter any issues in the future.\n\nThank you in advance for your assistance!\n\nBest, \nXaden",author:"Xaden",timestamp:"2024-05-21T10:15:00Z",uuid:"2551c540-c45a-5749-a3b8-05ca0caa3187",relevant:!1},{conversation_id:167,content:"Hi Xaden,\n\nThank you for reaching out! We're glad to hear you're exploring our product. We offer extensive support through our documentation and community forums, and our team is always here to assist you with any inquiries you may have.\n\nIf you have specific features in mind that you would like to know more about, feel free to ask!\n\nKind regards,\nDalinar",author:"Dalinar",timestamp:"2024-05-21T10:45:30Z",uuid:"1f642d6f-17c4-5f1c-9e51-b7af3d11cf3a",relevant:!1},{conversation_id:167,content:"Dear Dalinar,\n\nI appreciate the quick response! I'm particularly interested in understanding how the product handles scalability and any potential limitations I should be aware of. Also, what resources do you recommend for troubleshooting common issues?\n\nLooking forward to your insights.\n\nRegards,\nXaden",author:"Xaden",timestamp:"2024-05-21T11:20:45Z",uuid:"270f28b6-dc2a-5f9d-930e-a96ab8f29069",relevant:!1},{conversation_id:167,content:"Hello Xaden,\n\nGreat questions! Our product is designed to scale efficiently, and we typically recommend leveraging our cloud solutions for larger deployments. For troubleshooting, we have a dedicated knowledge base that covers common scenarios, along with a community forum where you can find solutions contributed by other users.\n\nPlease let us know if you need further details!\n\nBest,\nEdward",author:"Edward",timestamp:"2024-05-21T12:05:22Z",uuid:"eaef6445-0aa4-56a5-9eab-88efaecb0b79",relevant:!0},{conversation_id:167,content:"Hi Edward,\n\nThank you for the detailed information! It's reassuring to know that there are solid resources available. I will definitely check out the knowledge base. Are there any upcoming webinars or training sessions that I could attend to gain more insight?\n\nThank you again!\n\nBest regards,\nXaden",author:"Xaden",timestamp:"2024-05-21T12:45:35Z",uuid:"911cd37b-0807-51f3-a8b8-b7abad976d5a",relevant:!1},{conversation_id:167,content:"Hi Xaden,\n\nYes, we regularly host webinars that cover various aspects of our product, including best practices for deployment and troubleshooting. I can add you to our mailing list so you won't miss any announcements. Please provide your preferred email for updates!\n\nKind regards,\nDalinar",author:"Dalinar",timestamp:"2024-05-21T13:30:12Z",uuid:"fee6b067-9876-55bc-8ae1-24f920f5f77b",relevant:!1},{conversation_id:167,content:"Hello Dalinar,\n\nThat sounds perfect! You can add me with the email address xaden@example.com. I appreciate all your help so far and I'm looking forward to the webinars.\n\nThanks once again!\n\nWarm regards,\nXaden",author:"Xaden",timestamp:"2024-05-21T14:15:50Z",uuid:"bc98dd92-5b89-50e8-b79a-b9f0cf919d7b",relevant:!1}]},{conversation_id:172,messages:[{conversation_id:172,content:"Dear Team,\n\nWe are excited to share the latest updates from Verba Chat. Our team has been working diligently to enhance user experience and efficiency. Stay tuned for more details on our upcoming features!\n\nBest regards,\nWu Zi-nan",author:"Wu Zi-nan",timestamp:"2024-05-20T10:15:47Z",uuid:"929fb730-a9e8-509d-9f7c-08fc528dc66a",relevant:!1},{conversation_id:172,content:"Hello Everyone,\n\nI just wanted to add that we are also rolling out new integrations with other services to make Verba Chat even more versatile. We appreciate your support and feedback as we implement these changes.\n\nKind regards,\nEdward",author:"Edward",timestamp:"2024-05-20T13:32:15Z",uuid:"c7516dd2-07f3-5715-aee5-5b02267a89ea",relevant:!1},{conversation_id:172,content:"Hi Team,\n\nJust a quick note to remind you about our upcoming webinar where we will showcase the new features of Verba Chat. It’s a great opportunity to see everything in action and ask questions.\n\nLooking forward to seeing you all there!\nRegards,\nRavi",author:"Ravi",timestamp:"2024-05-20T15:45:32Z",uuid:"67d8accd-51d0-52a8-ba34-544f308341a4",relevant:!1},{conversation_id:172,content:"Dear All,\n\nWe appreciate your enthusiasm for the upcoming features! We are also gathering feedback from early testers, and it has been overwhelmingly positive. Thank you for your continued engagement.\n\nBest,\nWu Zi-nan",author:"Wu Zi-nan",timestamp:"2024-05-20T18:10:05Z",uuid:"cd5d1d5d-56f8-58ec-8349-d9460c4946b1",relevant:!1},{conversation_id:172,content:"Hello Team,\n\nI wanted to remind everyone that the feedback deadline for the new features is approaching. Please ensure your comments are submitted by the end of the week to be considered in the final rollout.\n\nBest regards,\nEdward",author:"Edward",timestamp:"2024-05-21T09:20:16Z",uuid:"de47852a-2ea3-5dc4-9c7d-0c9baa71004e",relevant:!0},{conversation_id:172,content:"Hi All,\n\nJust following up on Edward’s message. Your insights are invaluable to us, and we want to ensure we address all concerns before the final release. Thank you for your contributions!\n\nKind regards,\nRavi",author:"Ravi",timestamp:"2024-05-21T12:05:44Z",uuid:"82e61409-2877-530e-b6d0-b6f1eba0d65a",relevant:!1},{conversation_id:172,content:"Dear Team,\n\nI’m thrilled to report that the new features are on track for release next month! Thank you all for your hard work and dedication throughout this process.\n\nBest,\nWu Zi-nan",author:"Wu Zi-nan",timestamp:"2024-05-21T14:35:22Z",uuid:"71a9e2f8-03f7-5b2d-a0d1-ae1bad796f6a",relevant:!1},{conversation_id:172,content:"Hello Everyone,\n\nAs we approach the release date, I encourage everyone to finalize their testing and provide any last-minute feedback. Your efforts are crucial to our success!\n\nRegards,\nEdward",author:"Edward",timestamp:"2024-05-21T16:55:38Z",uuid:"cccc15b3-6423-5fb1-b218-ebc40de2d7cf",relevant:!1},{conversation_id:172,content:"Hi Team,\n\nWe are planning a celebratory meeting to discuss our successful launch and future directions. I hope everyone can join us!\n\nBest,\nRavi",author:"Ravi",timestamp:"2024-05-21T19:30:10Z",uuid:"7afd255f-077a-5db7-8328-99da75c77266",relevant:!1},{conversation_id:172,content:"Dear Team,\n\nThank you all for your hard work and commitment. Looking forward to our meeting and celebrating our successes together!\n\nBest regards,\nWu Zi-nan",author:"Wu Zi-nan",timestamp:"2024-05-22T09:15:00Z",uuid:"63d1c4ac-1111-5d92-a825-2247a710dc92",relevant:!1}]},{conversation_id:172,messages:[{conversation_id:172,content:"Dear Team,\n\nWe are excited to share the latest updates from Verba Chat. Our team has been working diligently to enhance user experience and efficiency. Stay tuned for more details on our upcoming features!\n\nBest regards,\nWu Zi-nan",author:"Wu Zi-nan",timestamp:"2024-05-20T10:15:47Z",uuid:"929fb730-a9e8-509d-9f7c-08fc528dc66a",relevant:!1},{conversation_id:172,content:"Hello Everyone,\n\nI just wanted to add that we are also rolling out new integrations with other services to make Verba Chat even more versatile. We appreciate your support and feedback as we implement these changes.\n\nKind regards,\nEdward",author:"Edward",timestamp:"2024-05-20T13:32:15Z",uuid:"c7516dd2-07f3-5715-aee5-5b02267a89ea",relevant:!0},{conversation_id:172,content:"Hi Team,\n\nJust a quick note to remind you about our upcoming webinar where we will showcase the new features of Verba Chat. It’s a great opportunity to see everything in action and ask questions.\n\nLooking forward to seeing you all there!\nRegards,\nRavi",author:"Ravi",timestamp:"2024-05-20T15:45:32Z",uuid:"67d8accd-51d0-52a8-ba34-544f308341a4",relevant:!1},{conversation_id:172,content:"Dear All,\n\nWe appreciate your enthusiasm for the upcoming features! We are also gathering feedback from early testers, and it has been overwhelmingly positive. Thank you for your continued engagement.\n\nBest,\nWu Zi-nan",author:"Wu Zi-nan",timestamp:"2024-05-20T18:10:05Z",uuid:"cd5d1d5d-56f8-58ec-8349-d9460c4946b1",relevant:!1},{conversation_id:172,content:"Hello Team,\n\nI wanted to remind everyone that the feedback deadline for the new features is approaching. Please ensure your comments are submitted by the end of the week to be considered in the final rollout.\n\nBest regards,\nEdward",author:"Edward",timestamp:"2024-05-21T09:20:16Z",uuid:"de47852a-2ea3-5dc4-9c7d-0c9baa71004e",relevant:!1},{conversation_id:172,content:"Hi All,\n\nJust following up on Edward’s message. Your insights are invaluable to us, and we want to ensure we address all concerns before the final release. Thank you for your contributions!\n\nKind regards,\nRavi",author:"Ravi",timestamp:"2024-05-21T12:05:44Z",uuid:"82e61409-2877-530e-b6d0-b6f1eba0d65a",relevant:!1},{conversation_id:172,content:"Dear Team,\n\nI’m thrilled to report that the new features are on track for release next month! Thank you all for your hard work and dedication throughout this process.\n\nBest,\nWu Zi-nan",author:"Wu Zi-nan",timestamp:"2024-05-21T14:35:22Z",uuid:"71a9e2f8-03f7-5b2d-a0d1-ae1bad796f6a",relevant:!1},{conversation_id:172,content:"Hello Everyone,\n\nAs we approach the release date, I encourage everyone to finalize their testing and provide any last-minute feedback. Your efforts are crucial to our success!\n\nRegards,\nEdward",author:"Edward",timestamp:"2024-05-21T16:55:38Z",uuid:"cccc15b3-6423-5fb1-b218-ebc40de2d7cf",relevant:!1},{conversation_id:172,content:"Hi Team,\n\nWe are planning a celebratory meeting to discuss our successful launch and future directions. I hope everyone can join us!\n\nBest,\nRavi",author:"Ravi",timestamp:"2024-05-21T19:30:10Z",uuid:"7afd255f-077a-5db7-8328-99da75c77266",relevant:!1},{conversation_id:172,content:"Dear Team,\n\nThank you all for your hard work and commitment. Looking forward to our meeting and celebrating our successes together!\n\nBest regards,\nWu Zi-nan",author:"Wu Zi-nan",timestamp:"2024-05-22T09:15:00Z",uuid:"63d1c4ac-1111-5d92-a825-2247a710dc92",relevant:!1}]}],metadata:{collection_name:"Example_verba_email_chains",display_type:"conversation",needs_summarising:!1,query_text:null,query_type:"filter_only",chunked:!1,query_output:{target_collections:["Example_verba_email_chains"],search_type:"filter_only",search_query:null,sort_by:{property_name:"message_timestamp",direction:"descending"},filter_buckets:[{filters:[{property_name:"message_author",operator:"=",value:"Edward"}],operator:"AND"}],limit:5},code:{language:"python",title:"Query",text:"collection.query.fetch_objects(\n    filters=Filter.all_of([\n        Filter.by_property('message_author').equal('Edward')\n    ]),\n    limit=5,\n    sort=Sort.by_property(\n        'message_timestamp',\n        ascending=False\n    )\n)"}},code:{language:"python",title:"Query",text:"collection.query.fetch_objects(\n    filters=Filter.all_of([\n        Filter.by_property('message_author').equal('Edward')\n    ]),\n    limit=5,\n    sort=Sort.by_property(\n        'message_timestamp',\n        ascending=False\n    )\n)"}}},{type:"text",id:"tex-b02d1f0f-7dcc-4154-8d95-9df01ac10f8d",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"8d7a4c89-f6a1-4630-a310-80e64f2e528b",query_id:"93624d05-585a-4111-b9c5-fa14eceb628b",payload:{type:"response",metadata:{},objects:[{text:"I'm now providing a summary of the latest conversations involving Edward."}]}},{type:"text",id:"tex-e6299419-812b-4e33-9a5c-d0d48599551d",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"8d7a4c89-f6a1-4630-a310-80e64f2e528b",query_id:"93624d05-585a-4111-b9c5-fa14eceb628b",payload:{type:"text_with_citations",metadata:{title:"Latest Conversations of Edward"},objects:[{text:"Edward's recent conversations include discussions about Weaviate disk usage, Verba connection issues, and installation problems on M1 Macs. He also contributed to discussions about Verba Chat updates and provided support to users.",ref_ids:[]},{text:"\n\nIn a Slack conversation from September 26, 2024, Edward discussed Weaviate disk usage with Zara and Kaladin, suggesting checking configuration settings and digging into logs to address a read-only state issue despite available space. ",ref_ids:["query_Example_verba_slack_conversations_0_0","query_Example_verba_slack_conversations_0_1"]},{text:"\n\nOn August 1, 2024, Edward helped Xaden troubleshoot a Verba connection issue with Ollama and Weaviate by suggesting to verify the service status of Ollama. ",ref_ids:["query_Example_verba_slack_conversations_0_2"]},{text:"\n\nOn June 27, 2024, Edward mentioned an AttributeError with InputText while installing Verba on M1 Macs and considered using a virtual environment and downgrading Python to resolve the issue. ",ref_ids:["query_Example_verba_slack_conversations_0_3","query_Example_verba_slack_conversations_0_4"]},{text:"\n\nIn an email exchange from May 20-21, 2024, Edward contributed to updates about Verba Chat, reminding the team about the feedback deadline for new features and encouraging them to finalize testing. ",ref_ids:["query_Example_verba_email_chains_0_3","query_Example_verba_email_chains_0_4"]},{text:"\n\nIn another email thread from May 21, 2024, Edward provided support to Xaden regarding the product's scalability and troubleshooting resources. ",ref_ids:["query_Example_verba_email_chains_0_2"]},{text:"\n\nIn an email from September 23, 2024, Edward assisted Xaden with connecting the application to external APIs by advising to configure the settings in the .env file and ensure the API keys are correctly inserted and the endpoints are accessible.",ref_ids:["query_Example_verba_email_chains_0_0"]},{text:"\n",ref_ids:[]}]}},{type:"suggestion",id:"865ad5b6-37b1-496c-8912-2f1750da7f1a",conversation_id:"8d7a4c89-f6a1-4630-a310-80e64f2e528b",query_id:"93624d05-585a-4111-b9c5-fa14eceb628b",user_id:"com-827dda8e-1015-46ec-bd98-73c5a4de0b2d",payload:{error:"",suggestions:[]}}]},sP={id:"12345",query:"Are there any messages in Slack about Verba?",messages:[{type:"User",id:"41fd7bd5-d76f-45d1-82e7-eb4ca0ad58e8",query_id:"8c1f39ad-b9d2-4212-820d-81f19241cef6",conversation_id:"56e5e4e1-1ebe-43ca-ba6e-5bca99b2b7b5",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",payload:{type:"text",metadata:{},code:{language:"",title:"",text:""},objects:["Show me all messages from Kaladin"]}},{type:"text",id:"tex-78ab4cf2-3e4b-4c6f-94e1-713b207bb751",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"56e5e4e1-1ebe-43ca-ba6e-5bca99b2b7b5",query_id:"8c1f39ad-b9d2-4212-820d-81f19241cef6",payload:{type:"response",metadata:{},objects:[{text:"I will search for messages authored by Kaladin in both the email and Slack conversation collections."}]}},{type:"text",id:"tex-588a782f-e0a5-4a1c-9bb1-766abc02e030",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"56e5e4e1-1ebe-43ca-ba6e-5bca99b2b7b5",query_id:"8c1f39ad-b9d2-4212-820d-81f19241cef6",payload:{type:"response",metadata:{},objects:[{text:'I\'ve applied a filter to retrieve messages where the author is exactly "Kaladin" in both collections.'}]}},{type:"result",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"56e5e4e1-1ebe-43ca-ba6e-5bca99b2b7b5",query_id:"8c1f39ad-b9d2-4212-820d-81f19241cef6",id:"res-4ae78abf-d09f-4e1e-8cd2-e778a579aa51",payload:{type:"message",objects:[{conversation_id:0,content:"Dear Vin,\n\nThank you for reaching out to us. We are sorry to hear that you are experiencing issues with your product. Could you please provide us with more details about the malfunction? This will help us assist you better.\n\nLooking forward to your response.\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T09:32:47Z",uuid:"0a65fd16-7b0a-5af8-8145-cfaedf82b255",relevant:!1},{conversation_id:0,content:"Dear Vin,\n\nI apologize for the ongoing issues. We can certainly arrange a call to discuss this further. Please let us know your availability, and we will do our best to accommodate.\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T13:05:58Z",uuid:"36ca0bd3-b2e9-5fb4-aced-9e7902bddd2c",relevant:!1},{conversation_id:17,content:"Hi Team,\n\nThank you for your continued support. We look forward to seeing many of you at the webinar and hearing your feedback on the new updates.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T17:50:22Z",uuid:"e0ca598a-416e-5862-b59c-232332884c55",relevant:!1},{conversation_id:19,content:"Dear Shallan,\n\nThank you for reaching out to us with your question. It's great to hear that you're exploring our product! To effectively manage API keys, we recommend implementing regular rotation and utilizing environment variables to store them securely. Additionally, make sure to monitor usage to avoid hitting any rate limits.\n\nIf you have further questions or need more detailed guidance, feel free to ask!\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T11:45:00Z",uuid:"b69024e1-6e03-52e0-a1aa-529ee9696b4b",relevant:!1},{conversation_id:17,content:"Hi Everyone,\n\nI just wanted to add that with the new error handling feature, users will receive detailed error messages if their API keys are not configured correctly. This should significantly reduce confusion and improve user experience.\n\nRegards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T10:30:58Z",uuid:"21b439c5-70ee-5e64-a3d8-166bc5329e58",relevant:!1},{conversation_id:17,content:"Hello Everyone,\n\nJust a quick reminder to review the new documentation regarding the API key updates. It covers everything from setting up to troubleshooting common issues.\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T14:05:21Z",uuid:"9de528b4-cb77-571e-b7a5-f14491325911",relevant:!1},{conversation_id:21,content:"Subject: Urgent: Disk Space Issue\n\nDear Support Team,\n\nI hope this message finds you well. I am writing to escalate an ongoing issue regarding the disk space in Weaviate. Despite having 1TB of free space, I am still receiving warnings about disk usage being at 90%. I have already attempted to clean up unnecessary files and have followed the guidelines provided in previous communications, but nothing seems to work.\n\nCould you please provide me with a more effective solution? This situation is becoming increasingly frustrating, and I need a resolution as soon as possible.\n\nThank you for your prompt attention to this matter.\n\nBest regards,\nKaladin\n",author:"Kaladin",timestamp:"2024-09-26T09:15:00Z",uuid:"e1a71759-5eaf-5b10-acd7-9a516c3a5c0a",relevant:!1},{conversation_id:21,content:"Subject: Re: Urgent: Disk Space Issue\n\nHi Tychus,\n\nI appreciate your response, but I have already checked for background processes and cleaned up as much as I could. This issue has been persistent for several days now, and I am beginning to lose confidence in the support I'm receiving. I need a more direct approach to solve this.\n\nCould you please escalate this to a senior technician? It seems that the usual steps are not addressing the problem.\n\nThank you,\nKaladin\n",author:"Kaladin",timestamp:"2024-09-26T13:27:45Z",uuid:"c4eef795-b95d-5491-883d-935561460b95",relevant:!1},{conversation_id:21,content:"Subject: Re: Urgent: Disk Space Issue\n\nHi Sofia,\n\nThank you for your prompt response. I will gather the system logs and send them over shortly. I appreciate your willingness to escalate this issue. I hope to see a swift resolution as I am currently hindered by these disk warnings.\n\nBest,\nKaladin\n",author:"Kaladin",timestamp:"2024-09-26T16:05:30Z",uuid:"df7eaceb-7580-5122-b5bb-cfb950d3d1e8",relevant:!1},{conversation_id:26,content:"Hi Kerrigan,\n\nThanks for the update! I agree, we should stay on top of the deadlines. I’ll focus on my part this week and see if I can push through some of the blockers we discussed. As for the Docker issue, let’s prioritize that in our next meeting.\n\nRegards,\nKaladin",author:"Kaladin",timestamp:"2024-09-23T09:45:32Z",uuid:"0452532b-3306-5a17-a440-d150a5527d9c",relevant:!1},{conversation_id:26,content:"Hello team,\n\nI’ve made some progress on my tasks, and I’m excited to share the updates on Thursday. I’ll also bring in some ideas on how we can mitigate the Docker issues. I think collaboration will help us resolve it faster.\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2024-09-23T12:05:24Z",uuid:"de5f58ca-fe2f-5396-8d2b-163a53eea8f9",relevant:!1},{conversation_id:26,content:"Dear all,\n\nI just wanted to remind everyone to bring any documentation related to the Docker deployment. It could be helpful to reference it during our meeting. See you all on Thursday!\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2024-09-23T15:30:45Z",uuid:"97eae9a8-c45f-5bfd-9e36-2dc1e785928f",relevant:!1},{conversation_id:29,content:"Dear team,\n\nFollowing Vin's email, I wanted to highlight some of the new functionalities that will be available soon. We are integrating a variety of APIs that will allow for greater versatility in data handling and processing. \n\nPlease feel free to reach out if you have any questions or suggestions!\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T10:45:37Z",uuid:"934bf5b4-5ab2-5b01-a165-6d8c45d8e11a",relevant:!1},{conversation_id:29,content:"Dear team,\n\nI just wanted to follow up on Vin’s email regarding the updated documentation. It’s essential for everyone to stay informed about the latest changes to maximize the benefits of our new API capabilities.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-02T09:45:33Z",uuid:"984b9d87-bbf7-531b-bd00-bce55c5b1e56",relevant:!1},{conversation_id:29,content:"Dear colleagues,\n\nIn light of the recent updates, we encourage everyone to begin exploring the potential of our new API features. Our team is here to assist you with any implementation questions you might have.\n\nLet’s make the most out of these enhancements together!\n\nRegards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T15:50:10Z",uuid:"8bf58e94-66a5-597c-bba6-3ef92b8d2874",relevant:!1},{conversation_id:34,content:"Hi Sofia and Kerrigan,\n\nThanks for the quick updates! I’m glad to hear we’re making progress. Let’s aim for a meeting next week; I’ll send out a calendar invite for Monday afternoon. In the meantime, let’s keep the communication flowing if any issues arise. \n\nLooking forward to our discussions!\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-05T12:30:11Z",uuid:"b294fc32-e5df-5189-951a-c37863d1fd8c",relevant:!1},{conversation_id:36,content:"Hi Danny,\n\nI appreciate your prompt response. I will check the API key and the port configuration as suggested. However, I would like to confirm if there are any specific settings in the Istio virtual service that I should be aware of to ensure that the Weaviate cluster is accessible externally. \n\nThank you for your guidance!\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T11:45:40Z",uuid:"4e7f1255-0d33-534b-b34e-4cb1d0b6b5b2",relevant:!1},{conversation_id:34,content:"Hi team,\n\nI hope this message finds you well. As we move forward with our project, I wanted to touch base on our current progress and any roadblocks you might be encountering. It's crucial that we stay aligned, especially with the deadlines approaching. \n\nAlso, let's not forget about integrating the AssemblyAI support. It might be a good idea to schedule some time to brainstorm on that.\n\nLooking forward to your updates.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-05T09:15:22Z",uuid:"1b2ece49-0911-5709-a458-c68326ef1ff6",relevant:!1},{conversation_id:47,content:"Subject: RE: Urgent: Continued Issues with Verba in Docker\n\nHi Danny,\n\nThank you for reaching out and I apologize for the inconvenience this has caused. I understand how frustrating it must be to deal with ongoing issues. To assist you further, could you please provide us with some additional details? Specifically, could you let us know your current Docker setup and any error logs you may have?\n\nWe are committed to resolving this as quickly as possible.\n\nKind regards,\nKaladin\n",author:"Kaladin",timestamp:"2023-10-02T10:25:00Z",uuid:"c79b962c-4d4d-5e98-b258-cdc1d46fc04c",relevant:!1},{conversation_id:48,content:"Hello Edward,\n\nThank you for reaching out with your concerns. We understand that the previous issues with the chunking feature have raised questions. I want to assure you that we have made significant improvements to address these inconsistencies. The `start_i` and `end_i` indices are now clearly defined, and we’ve implemented additional fixes to enhance the overall functionality. \n\nPlease let me know if you have any further questions.\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T09:35:47Z",uuid:"9d88918e-95aa-5433-81a8-5376d60d73bf",relevant:!1},{conversation_id:48,content:"Hi Edward,\n\nAbsolutely, the Code Chunker now handles smaller documents more effectively by chunking multiple times if needed, based on a configurable 'Chunk Size'. This way, even smaller documents can be processed efficiently without losing critical information. \n\nLet me know if you have any other questions!\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T12:05:17Z",uuid:"fd0b21d3-1162-56e6-98f3-37e28ee507d3",relevant:!1},{conversation_id:48,content:"Dear Edward,\n\nI’m glad to hear from you again! The improvements we've made, particularly with the HTML and Markdown chunkers, ensure that the title is now included in the chunks, which significantly enhances retrieval processes. This means that you will have better context when accessing different segments of your documents. \n\nIf you have more specific use cases in mind, I’d be happy to discuss those!\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T10:45:59Z",uuid:"418bb743-7712-5d9b-8078-1b52b0f35d4e",relevant:!1},{conversation_id:48,content:"Hello Edward,\n\nI appreciate your understanding and the positive feedback! We’re dedicated to ensuring our customers have the best experience possible. If you decide to proceed with our product, I’ll be here to assist you every step of the way.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T13:22:41Z",uuid:"4a23f10b-6de4-583f-a48c-a77f73d85c6d",relevant:!1},{conversation_id:48,content:"Dear Edward,\n\nI’m glad to hear you’re considering our solution! Please don’t hesitate to reach out anytime. Wishing you a great day ahead!\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T14:45:30Z",uuid:"707cd558-b208-5248-9cd0-01882041ee64",relevant:!1},{conversation_id:49,content:"Hi team,\n\nI hope this message finds you well. I wanted to touch base regarding our progress on the project. I think we are making some great strides, especially with the recent updates we implemented. \n\nAlso, I've noticed that we still have that chunker issue to deal with—let’s ensure it doesn’t hold us back.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T09:15:32Z",uuid:"e2008ec0-9cfb-5dfb-9de2-69744d016050",relevant:!1},{conversation_id:49,content:"Dear Vin and Kerrigan,\n\nThanks for taking the initiative! I’m confident we’ll be able to address the chunker issue and continue making great progress on our project. \n\nLet’s regroup soon and keep the collaboration strong.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T17:10:22Z",uuid:"26b5e6a5-92b1-502f-a0c4-95058d33a37f",relevant:!1},{conversation_id:49,content:"Dear Vin and Kerrigan,\n\nI appreciate your responses. Kerrigan, that sounds like a plan for the report! If we can address the chunker issue alongside our regular updates in the meeting, it’d be beneficial for everyone.\n\nLet’s aim to have a draft ready by the end of the week.\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T13:05:55Z",uuid:"f7943845-a9a6-5813-8ff0-8de833675923",relevant:!1},{conversation_id:60,content:"Dear Jaina,\n\nThank you for the additional context. It sounds like you’ve taken some great initial steps. We recommend checking the settings on the Embedder and Retriever to ensure they are configured correctly for your use case. Further, experimenting with different embedding models may yield better results. Please let us know how it goes or if you need more assistance.\n\nBest wishes,\nKaladin",author:"Kaladin",timestamp:"2024-08-14T14:05:12Z",uuid:"78a1accc-23fd-5ae8-9b61-4cc938d47a82",relevant:!1},{conversation_id:60,content:"Dear Jaina,\n\nYou're welcome! We're here to help. Please don’t hesitate to reach out if you encounter any more issues or have further questions after trying the new configurations. Wishing you the best of luck!\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2024-08-14T18:05:29Z",uuid:"0440c981-a977-5c63-b45b-db5050f8872b",relevant:!1},{conversation_id:63,content:"Subject: RE: Urgent Help Needed with 'verba start' Error\n\nHi Sofia,\n\nI understand your frustration, and I want to assure you that we take this matter seriously. We are currently reviewing your case, and I've escalated it to our technical team for a more in-depth analysis.\n\nWe will get back to you with updates shortly. Thank you for your patience.\n\nBest regards,\nKaladin\n",author:"Kaladin",timestamp:"2023-10-01T12:30:45Z",uuid:"a3191a53-0218-5d44-9dbd-c05f73811739",relevant:!1},{conversation_id:63,content:"Subject: RE: Urgent Help Needed with 'verba start' Error\n\nHi Sofia,\n\nI wanted to follow up and let you know that our team is making progress. We are testing a few solutions and hope to have a definitive answer for you shortly. Your patience is greatly appreciated.\n\nAll the best,\nKaladin\n",author:"Kaladin",timestamp:"2023-10-01T17:45:37Z",uuid:"33f0a68a-1c0d-5ee6-bbaa-797d595e70dd",relevant:!1},{conversation_id:75,content:"Subject: Inquiry About Product Reliability\n\nHi Danny,\n\nI hope this email finds you well. I recently came across some discussions regarding potential issues with the product I am considering purchasing. I wanted to reach out to you directly for some clarification and reassurance.\n\nCould you please provide me with some insights on the current reliability of the product?\n\nThank you,\nKaladin",author:"Kaladin",timestamp:"2023-09-18T10:15:00Z",uuid:"bc5f8c8d-667b-5530-b884-be01c8f812cf",relevant:!1},{conversation_id:75,content:"Subject: RE: Inquiry About Product Reliability\n\nHi Danny,\n\nI appreciate your quick response! Yes, I would be very interested in seeing the customer feedback and performance metrics. It would be great to have some concrete data to help me make my decision.\n\nThanks for your assistance!\nRegards,\nKaladin",author:"Kaladin",timestamp:"2023-09-18T13:15:22Z",uuid:"9a492a70-847d-519e-bfaa-4801d6590279",relevant:!1},{conversation_id:75,content:"Subject: RE: Inquiry About Product Reliability\n\nHello Danny,\n\nThank you for sending over the document! The feedback looks promising, and I feel more confident about moving forward. I have a few more questions regarding the warranty and support options. Could we discuss this further?\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-09-18T18:30:10Z",uuid:"1d06389e-683b-5891-b106-694d1847e18f",relevant:!1},{conversation_id:82,content:"Hello,\n\nAs a reminder, our support team is always here to help you navigate any issues you might face while using Verba. Your smooth experience is our top priority.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-05T15:35:40Z",uuid:"65c0cd92-c722-5e93-931d-47c882145043",relevant:!1},{conversation_id:82,content:"Hello everyone,\n\nWe are excited to announce the latest updates to Verba! Our team has been working hard to enhance your experience with new features designed to optimize your query processes.\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-04T09:15:00Z",uuid:"3cdd134b-ba4f-5bdd-8f5c-666d0b80b344",relevant:!1},{conversation_id:82,content:"Hello again,\n\nDon't forget to check out our new documentation! We've updated the guides to provide clearer instructions on utilizing the advanced features of Verba, especially for new users.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-04T18:00:15Z",uuid:"ea545a38-be46-56f7-9b3d-ce26e73c58ee",relevant:!1},{conversation_id:91,content:"Subject: Urgent: Ongoing Issue with GitLabReader Module Import\n\nHello Support Team,\n\nI hope this message finds you well. I am reaching out again regarding the ongoing issue with the GitLabReader module. I have followed the previous instructions provided, but unfortunately, the problem persists. The error message indicates that the module is not found, and I am unable to proceed with my work. I would appreciate it if this could be escalated further, as I have already invested significant time trying to resolve this myself.\n\nThank you for your attention to this matter.\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T09:15:30Z",uuid:"f1336e00-c789-5e0b-b2b6-8c1319af8a01",relevant:!1},{conversation_id:91,content:"Subject: RE: Urgent: Ongoing Issue with GitLabReader Module Import\n\nHi Alice,\n\nThanks for getting back to me. I tried clearing the cache and double-checked the file paths, but unfortunately, I'm still receiving the same module not found error. This has become quite frustrating as I have deadlines approaching. Is there any possibility of getting a more in-depth look from a senior technician? I would really like to resolve this quickly.\n\nBest, \nKaladin",author:"Kaladin",timestamp:"2023-10-01T12:30:20Z",uuid:"d8e25b1c-f6e6-5103-b247-d082bd39dcc3",relevant:!1},{conversation_id:101,content:"Hello Vin,\n\nThanks for your email! Yes, I believe we are on schedule, but we might need to allocate some time to address the merging of the pull request. I also have some feedback on the recent design changes that I’d like to discuss in our next meeting.\n\nLet me know your thoughts.\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T10:45:39Z",uuid:"7066c9e1-3eb0-5e69-a452-f4ac262132ec",relevant:!1},{conversation_id:101,content:"Hello all,\n\nTomorrow afternoon works for me as well. I’ll prepare an agenda to keep us on track. It’s important we finalize the merging task so we can focus on the next phase without delays.\n\nSee you then!\n\nRegards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T15:00:45Z",uuid:"022934b3-e453-58c4-abf1-8e5502452e6b",relevant:!1},{conversation_id:109,content:"Hi Dalinar and Ravi,\n\nThursday afternoon works for me! I think it’s a great idea to incorporate design concepts into our discussion. I’ll prepare a few slides outlining the current design challenges we’re facing, including how they relate to infinity. Let’s make sure we come ready with ideas!\n\nLooking forward to it.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T15:15:30Z",uuid:"45602008-cdb0-5188-9014-10ff754e24d0",relevant:!1},{conversation_id:109,content:"Hi Team,\n\nI hope this message finds you well. I wanted to initiate a discussion about our upcoming project goals. I believe we have a unique opportunity to innovate with the infinity feature. It could significantly enhance our capabilities. Let's brainstorm some ideas on how we can leverage it effectively.\n\nLooking forward to your thoughts!\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T09:15:00Z",uuid:"a958d0f5-e6f1-579f-9695-e9fb8921b835",relevant:!1},{conversation_id:117,content:"Subject: Re: Inquiry About Product Usage\n\nDear Ravi,\n\nGreat to hear back from you! When connecting from a different machine, make sure that your firewall settings allow communication through the necessary ports. Additionally, it might be helpful to check if the ollama service is running on the original machine.\n\nLet us know if you encounter any issues!\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-10T11:05:22Z",uuid:"3bb9f8f5-a495-5e76-8ecb-69ee36e1c917",relevant:!1},{conversation_id:117,content:"Subject: Re: Inquiry About Product Usage\n\nDear Ravi,\n\nWe're glad to hear that our support has been helpful! Don’t hesitate to reach out if you have any more questions or need further assistance. We’re here to help!\n\nBest wishes,\nKaladin",author:"Kaladin",timestamp:"2023-10-10T14:20:03Z",uuid:"89380d93-479f-5ecf-9410-9140684461f1",relevant:!1},{conversation_id:128,content:"Dear team,\n\nAbsolutely, Edward! We will provide comprehensive documentation along with tutorials to ensure smooth adoption of the new features. We want to make sure our users have all the resources they need.\n\nCheers,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T14:30:45Z",uuid:"bcecbf54-949a-543a-a60a-204d0618c760",relevant:!1},{conversation_id:128,content:"Dear all,\n\nIn response to Edward's inquiry, we are implementing new algorithms that will optimize chunking processes, making it faster and more efficient. Additionally, there will be enhancements to error handling, which should help users avoid common pitfalls.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T10:45:03Z",uuid:"f6c9423a-d2ec-551f-b5ba-e358e18a64ad",relevant:!1},{conversation_id:126,content:"Hello Vin,\n\nThank you for bringing this to my attention. I understand how frustrating technical issues can be, especially when you're trying to make the most of Ollama and Verba. While I will check into this specific error, I can assure you that our team is committed to ensuring our products work seamlessly for our users. \n\nIn the meantime, I suggest checking your network settings and ensuring that all the required permissions are set correctly. If you need further assistance, please let me know.\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T11:45:12Z",uuid:"cda0ce10-8a05-5c4a-a1ce-4e51e92d6337",relevant:!1},{conversation_id:126,content:"Hi Vin,\n\nAbsolutely! I’ve attached a link to our troubleshooting guide that covers common issues and solutions. Additionally, we are rolling out an update next week that might address some connectivity concerns.\n\nStay tuned, and let me know if you need anything else in the meantime.\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T14:00:11Z",uuid:"f974867f-605d-532b-85dd-00d0b30d8f8f",relevant:!1},{conversation_id:126,content:"Hi Vin,\n\nOf course! The upcoming update includes several features aimed at improving user experience, such as enhanced document upload capabilities and improved error handling. We believe these changes will significantly reduce the occurrence of issues like the one you are experiencing.\n\nI'll keep you updated on the rollout. Please don’t hesitate to reach out if you have further questions.\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T17:05:33Z",uuid:"41a8d397-ed0b-511a-8f7d-c62494f6c495",relevant:!1},{conversation_id:126,content:"Hello Vin,\n\nThank you for your understanding! Your feedback is invaluable to us, and we are here to support you whenever you need. Just let us know if there’s anything else we can do.\n\nWishing you a great day!\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T19:30:44Z",uuid:"35cd802b-8801-594a-87d0-699590f4b8be",relevant:!1},{conversation_id:128,content:"Dear team,\n\nMe too! I believe it will greatly help our users. Let’s ensure we have all the necessary materials ready for the session. \n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T17:25:57Z",uuid:"446668af-d0ac-5cd2-abc4-77110fccaae4",relevant:!1},{conversation_id:141,content:"Dear Team,\n\nI second Xaden's request. A timeline would greatly assist in our planning and expectations for leveraging these new enhancements. Thank you for keeping us in the loop!\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T12:45:19Z",uuid:"07c9cf66-aaa4-516b-b250-f1424bf7d3c4",relevant:!1},{conversation_id:141,content:"Dear Team,\n\nI hope this message finds you well. I would like to add that the integration with Cohere has been quite seamless, and it would be great to see similar compatibility with OpenAI in the near future.\n\nRegards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T10:01:12Z",uuid:"311b5224-2a6f-5372-80ad-6b86faa5de0e",relevant:!1},{conversation_id:140,content:"Subject: RE: Urgent Help Needed\n\nHello Ravi,\n\nThank you for reaching out and sharing the details of your issue. I sincerely apologize for the inconvenience you are experiencing with 'verba'. I understand how frustrating it must be, especially after following the instructions carefully.\n\nCould you please confirm that you are indeed working within the Python 3.10.5 environment? Sometimes, there are conflicts with packages from previous installations. We suggest checking your environment before proceeding with further troubleshooting.\n\nLooking forward to your reply.\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-04T09:45:14Z",uuid:"0028ac63-f1b6-52df-a26e-a56bb5d28f82",relevant:!1},{conversation_id:140,content:"Subject: RE: Urgent Help Needed\n\nHi Ravi,\n\nI completely understand your frustration, and I assure you that we are taking your issue seriously. I will escalate your case to our technical team, who will be able to provide more in-depth assistance. \n\nIn the meantime, could you also provide the output of 'pip list' from your virtual environment? It will help us understand the installed packages and their versions better.\n\nThank you for your patience.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-04T11:20:45Z",uuid:"8fd8ab90-b233-5f25-a246-ff3469a0bbf5",relevant:!1},{conversation_id:139,content:"Dear Ravi,\n\nThank you for the update. The deprecation warning indicates that 'PyPDF2' is outdated and should be replaced with 'pypdf'. It's possible that 'verba' may not be fully compatible with this version. I recommend checking if you have the latest version of 'verba' installed. You can do this by running `pip list` within your virtual environment. Let us know how it goes!\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T15:45:37Z",uuid:"2c90c881-bda7-5e70-a0ff-c69420f21196",relevant:!1},{conversation_id:144,content:"Hi Team,\n\nI hope this email finds you well. I wanted to check in on our project timeline. Are we still on track to meet our deadlines for this quarter? It would be great to have an updated overview of everyone's tasks.\n\nAlso, I noticed we still have that connection issue we need to deal with. Let me know if I can assist in any way.\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-12T10:15:30Z",uuid:"aec5c119-3425-5e7d-98bf-5ed02909b115",relevant:!1},{conversation_id:143,content:"Hello Kerrigan,\n\nThank you for your prompt response. I appreciate the suggestion regarding using WSL. I will give that a try and see if it resolves the issue. In the meantime, could you please provide any documentation or resources on setting up Weaviate in a WSL environment? It would be incredibly helpful.\n\nThanks once again for your assistance!\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T15:32:59Z",uuid:"77ac96d9-628a-5c65-a90e-05608c41aaef",relevant:!1},{conversation_id:153,content:"Hi team,\n\nI hope everyone is doing well. I wanted to touch base regarding our project timeline. I believe we’re on track, but we need to finalize the component integrations soon. Also, I noticed that the installation process had a hiccup, which we might need to address along the way. Let me know your thoughts.\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2024-05-23T10:00:00Z",uuid:"a6fcfd2b-f702-5252-a918-5f224cb56615",relevant:!1},{conversation_id:153,content:"Hi everyone,\n\nI appreciate the quick responses! Shallan and Zara, your proactive approaches are exactly what we need. Let’s aim to resolve the installation issue as soon as possible, but I believe we can still move ahead with the integrations in the meantime. I’ll keep an eye on the project timeline and update everyone accordingly.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2024-05-23T12:05:12Z",uuid:"f2423e69-46cf-509e-a379-b2218923f35e",relevant:!1},{conversation_id:162,content:"Dear Shallan,\n\nThank you for reaching out to us. We appreciate your feedback and are sorry to hear about the issue you've experienced. To assist you better, could you please provide us with the following details?\n1. The version of the product you are using.\n2. Any specific error messages you received.\n3. The steps you took leading up to the issue.\n\nOnce we have this information, we will do our best to resolve the problem promptly.\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-05T12:30:45Z",uuid:"4e906014-9e28-59ab-afc9-16056dfa1ea3",relevant:!1},{conversation_id:175,content:"Subject: RE: Project Update and Task Review\n\nHello Vin and John,\n\nThanks for the updates. I can confirm that I’ve seen the same issue with RAG settings as well. It’s critical that we address this before we move on to the next phase. I agree with John that a detailed report would be beneficial.\n\nAside from that, I’m currently finalizing the designs for the UI updates we discussed last week. I should have that ready for your review soon.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T12:30:45Z",uuid:"bae8c1d3-b62d-55fd-bacf-49308700ed29",relevant:!1},{conversation_id:175,content:"Subject: RE: Project Update and Task Review\n\nHi Vin and John,\n\nI am on board with the plan for the report. Let’s aim to have a draft ready by Wednesday. This way, we can discuss it thoroughly in our meeting. \n\nAlso, I will integrate the feedback from the last sprint as we move forward with the designs. \n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T16:20:27Z",uuid:"49a75b93-af27-55c7-ab7a-8c554b8bc078",relevant:!1},{conversation_id:174,content:"Hi Xaden,\n\nThank you for your prompt replies. I appreciate the clarity regarding the documentation. It's comforting to know that your support team is proactive about these issues. I’d like to schedule a call to discuss our project needs and how we can proceed together.\n\nBest wishes,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T13:05:45Z",uuid:"60b75d43-2dbe-55e5-8eb3-e2520b9636f3",relevant:!1},{conversation_id:174,content:"Hi Edward,\n\nI hope this message finds you well. I recently came across an issue regarding the spelling of the term 'ressource' instead of 'resource' in some documentation. As we are considering a partnership, I wanted to ensure that this won't affect our projects moving forward. Can you provide some clarity on this matter?\n\nThank you for your assistance.\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T10:15:00Z",uuid:"18491b8f-e7a8-5eaf-aa4d-d86aa8e35a8c",relevant:!1},{conversation_id:186,content:"Dear Valued User,\n\nWe’re excited to announce our latest product update! Our team has been working hard to enhance your experience with new features that allow for greater customization. We encourage you to explore the newly added options to personalize your settings. \n\nBest regards,\nThe Product Team",author:"Kaladin",timestamp:"2023-10-05T09:15:42Z",uuid:"dfb5a93b-c210-5c7d-821f-a54be732078e",relevant:!1},{conversation_id:184,content:"Hi all,\n\nWe hope you are enjoying the new updates! In case you missed it, we also launched a feedback loop feature, enabling you to report issues or suggestions directly from the chat interface. Your insights are invaluable to us, and we look forward to hearing from you!\n\nRegards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T15:00:00Z",uuid:"1350e008-7ab3-5866-81a1-adb9af8d0e18",relevant:!1},{conversation_id:199,content:"Dear User,\n\nWe are excited to announce that our document upload feature has been upgraded! You can now seamlessly upload a variety of file formats with improved speed and efficiency.\n\nBest regards,\nThe Team",author:"Kaladin",timestamp:"2023-10-10T09:15:22Z",uuid:"947971e5-c104-5d94-864f-1b7255fa97dc",relevant:!1},{conversation_id:205,content:"Hi team,\n\nI hope everyone is doing well! I wanted to touch base regarding our project timeline and see if we’re on track for our upcoming milestones. Additionally, I noticed some users have been having trouble navigating the documents area, but we can address that later.\n\nLooking forward to your updates!\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T09:15:32Z",uuid:"c30e5a33-b65f-586e-986b-ffa1c01b0038",relevant:!1},{conversation_id:205,content:"Hey Sofia,\n\nThat sounds great! Having user feedback will definitely help us address the navigation concerns effectively. Let’s aim to have a discussion about this in our next project meeting. Meanwhile, if anyone has additional insights, don’t hesitate to share.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T14:05:33Z",uuid:"27035c5f-f5bc-5d96-8a6e-4169aff03321",relevant:!1},{conversation_id:207,content:"Hello, dear users! We're excited to announce the latest updates to our Verba application, enhancing your experience with improved generator model integrations. Stay tuned for more details!\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-10T09:15:30Z",uuid:"71e8a2d8-72c5-536c-98d3-2f9826c6ac74",relevant:!1},{conversation_id:207,content:"Hello! We are hosting a webinar next week to discuss the new features, including the Ollama model settings in Verba. Don't miss out on this opportunity to learn more!\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-10T18:05:10Z",uuid:"2b3f36ca-4748-5b83-99e1-bed56f20a204",relevant:!1},{conversation_id:212,content:"Hello Danny,\n\nThank you for reaching out and detailing the issue you are facing with the Verba application. We understand how frustrating it can be to encounter such problems. Could you please confirm if you are using the latest version of Python and have all dependencies installed? This information will help us assist you better.\n\nLooking forward to your response.\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-10T09:45:35Z",uuid:"ae07856f-41c1-5d29-ab04-66eb974a84fc",relevant:!1},{conversation_id:212,content:"Hi Danny,\n\nThanks for your patience. I would suggest trying to clear the cache and configuration files that Verba might have created upon initial run. You can remove these files and then attempt to start the application again. This often resolves such issues.\n\nLet us know if this works!\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-10T12:45:58Z",uuid:"1fde39d9-be63-5c30-a013-c7d63858c7e6",relevant:!1},{conversation_id:212,content:"Hi Danny,\n\nThat's wonderful to hear! Thank you for keeping us updated. Enjoy using Verba, and don't hesitate to contact us if you encounter any further issues.\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-10T14:30:10Z",uuid:"d83870b5-cfc6-5890-bac1-24b92be9e18c",relevant:!1},{conversation_id:223,content:"Hi Tychus,\n\nI hope this message finds you well. I recently came across some information regarding an issue with the generated schema not allowing configuration of a base URL. As a potential customer, this raises some concerns for me.\n\nCould you provide some clarity on this matter? I'm eager to understand how it might affect our integration.\n\nThank you,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T09:15:00Z",uuid:"73fe97e3-25b4-5190-bc16-430d6b41079c",relevant:!1},{conversation_id:223,content:"Hi Tychus,\n\nLet's go with tomorrow at 2 PM. I appreciate your help in this matter and look forward to our discussion.\n\nThanks again!\nKaladin",author:"Kaladin",timestamp:"2023-10-01T13:05:45Z",uuid:"022710f7-b5c5-5c35-a7bf-abc872d1de87",relevant:!1},{conversation_id:223,content:"Hello Tychus,\n\nI just wanted to confirm our call for tomorrow and thank you for your assistance. I’m excited to learn more about the base URL configuration!\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T17:15:30Z",uuid:"97e0087f-71d0-578c-8c04-01c4d3e4fbde",relevant:!1},{conversation_id:223,content:"Hi Tychus,\n\nThanks for your prompt response! I would appreciate a call to discuss this in more detail. It would be helpful to see a live demonstration on how to set the base URL effectively.\n\nPlease let me know your available times.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T10:12:00Z",uuid:"5ac57e8d-483d-597e-9ab6-1d1934a5d44a",relevant:!1},{conversation_id:223,content:"Hi Tychus,\n\nThanks for setting that up! I’m looking forward to seeing how everything works and getting my questions answered.\n\nSee you tomorrow!\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T15:20:10Z",uuid:"9c0b1fb9-7839-5874-8207-ccbeb0e84cfc",relevant:!1},{conversation_id:232,content:"Dear Team,\n\nDon’t forget to register for our upcoming hackathon! It’s a fantastic opportunity to collaborate with fellow developers and showcase your skills.\n\nWe can’t wait to see what you create!\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T16:00:09Z",uuid:"ffc7981e-db8b-5e6e-8b9a-87d7721b90b5",relevant:!1},{conversation_id:232,content:"Dear Developers,\n\nWe’re pleased to announce a new feature in our tool that allows for easier configuration of development servers. This should help reduce setup time and minimize errors.\n\nMake sure to check it out in your dashboard! We’re always here to assist you with any questions.\n\nCheers,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T12:30:47Z",uuid:"3f6960a0-1f00-5e32-8e7a-b8b3d3fc81fd",relevant:!1},{conversation_id:232,content:"Dear Developers,\n\nThank you for being a part of our community! Your dedication inspires us to keep innovating and improving our services.\n\nLet’s keep pushing the boundaries together!\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T21:10:30Z",uuid:"0e8d1fa1-f4c1-5e86-b3a0-ff7534f66d9e",relevant:!1},{conversation_id:234,content:"Hi John,\n\nI wanted to follow up on Ravi's message and ensure that you received the documentation. Additionally, if you have any feedback or need a demo on how to utilize the feature effectively, please let us know. We're here to help you make the most of our product.\n\nBest wishes,\nKaladin",author:"Kaladin",timestamp:"2023-10-10T15:45:59Z",uuid:"49875275-447d-5432-963f-b413d5446984",relevant:!1},{conversation_id:247,content:"Subject: Re: Urgent: CSV Data Upload Issue\n\nHello Edward,\n\nI completely understand your urgency, and I assure you that we are prioritizing this matter. I have escalated your request and am pushing for a response from the development team as soon as possible. It’s important to us that we find a solution that works for you.\n\nThank you for your patience, and I’ll update you within the next few hours.\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-10-04T16:20:50Z",uuid:"a3dbabec-4d0f-539b-86d3-fbd794710d5b",relevant:!1},{conversation_id:245,content:"Hello Vin,\n\nThanks for reaching out! I believe we are on track with the project timeline. I will share a detailed update by the end of the week. Regarding the Nvidia Tesla K80, I think we should look into alternative options as well, just to be safe.\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-06T10:45:35Z",uuid:"47b956b0-dc6e-5fd3-aa5d-65274747e138",relevant:!1},{conversation_id:247,content:"Subject: Re: Urgent: CSV Data Upload Issue\n\nHi Edward,\n\nThank you for reaching out and I apologize for the inconvenience you are experiencing. Currently, Verba does primarily support PDF uploads for data integration. I understand your frustration, and I appreciate your efforts in trying to resolve this. \n\nWe are looking into the possibility of supporting other formats in future updates. In the meantime, if you need assistance with PDFs, please let us know how we can help.\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-04T11:05:30Z",uuid:"35ac8e40-1319-55bc-8b84-4a03bb771525",relevant:!1},{conversation_id:256,content:"Hi John and Sofia,\n\nGreat to hear from you both. I just completed the integration tests and everything seems to be functioning well. I'm also preparing a presentation for our next team meeting to discuss the project's progress. John, if you could share your insights on the 'Verba start' issue during the meeting, that would be helpful.\n\nRegards,\nKaladin",author:"Kaladin",timestamp:"2024-03-07T10:30:45Z",uuid:"5a445b0c-8e1b-5325-8068-ef9bdeeab969",relevant:!1},{conversation_id:256,content:"Hi Team,\n\nI’ll make sure to incorporate the user feedback into the presentation. Let’s aim to have everything wrapped up before our deadline. Also, I’ll keep an eye on the 'Verba start' command issue and see if we can resolve it in the meantime.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2024-03-07T13:10:22Z",uuid:"55ee0cec-fd99-5157-8635-5f26ecc75e00",relevant:!1},{conversation_id:256,content:"Hi John and Sofia,\n\nI agree with you, Sofia. User experience is our priority. Let’s ensure that our presentation includes how we plan to tackle the warnings from the 'Verba start' command. It’s important for us to show we’re on top of things.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2024-03-07T16:20:10Z",uuid:"fb4816ac-8fc8-5ef7-a1bf-028789d8f215",relevant:!1},{conversation_id:259,content:"Hi John,\n\nI’m Kaladin from the support team. Edward has looped me in to assist you further. I’d like to assure you that we have encountered similar scenarios, and we can guide you through the setup process in an airgapped environment to ensure you do not face connectivity issues.\n\nPlease let us know your preferred time for the call, and we’ll make sure to have the right resources available.\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-03T14:00:09Z",uuid:"b59b709c-fa2e-5672-876f-075f9bf59a6b",relevant:!1},{conversation_id:274,content:"Hello Dalinar,\n\nThanks for your email! I've been working on the document categorization and noticed that the 'Document type' field does set a label, but filtering by it seems tricky. It might be something we can bring up in our next meeting, but I’ve been focusing on getting the initial documents organized first.\n\nBy the way, we still have that issue regarding the 'Document type' to deal with, and I think it’s affecting our workflow. \n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-01T14:34:57Z",uuid:"fbbf3225-a6cc-5e77-9d9e-3f4d076cd7f2",relevant:!1},{conversation_id:285,content:"Hi Xaden,\n\nI’m glad to hear that you’re feeling more confident! Please don’t hesitate to reach out if you have any other questions or need assistance during the setup. Wishing you the best of luck with Verba!\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-10T17:12:40Z",uuid:"4a829b66-d28b-5bd7-aefe-278cdb583e00",relevant:!1},{conversation_id:285,content:"Dear Xaden,\n\nYou’re very welcome! I look forward to hearing about your experiences with Verba. Have a great day ahead!\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-10T19:45:10Z",uuid:"31238a2e-4a4e-5bab-9afd-b2851d1ddf67",relevant:!1},{conversation_id:285,content:"Dear Xaden,\n\nOf course! I’d be happy to share some resources. Here’s a link to our installation guide, which covers the essential steps for deploying Verba in various environments, including WSL2. Additionally, our community forum is a great place to find tips and solutions from other users.\n\nLet me know if you need any further assistance!\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-10T13:12:55Z",uuid:"da5044b7-77d1-58d8-a11f-945ed469e996",relevant:!1},{conversation_id:285,content:"Hi Xaden,\n\nThank you for reaching out! I completely understand your concerns regarding the Verba container. While some users have faced issues, many of our clients have successfully deployed it in WSL2 without any significant problems. Our team is continuously working to enhance its stability and performance.\n\nIf you encounter any specific issues, please feel free to contact us, and we'll provide you with the necessary support.\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-10T10:45:32Z",uuid:"1e6b04d4-e4a3-5f28-9846-5ffe7c92c6e2",relevant:!1},{conversation_id:285,content:"Hello Xaden,\n\nGreat question! While most users report smooth experiences, some have mentioned configuration issues with their .env files, especially regarding environment variables. I recommend double-checking those before launching the container. Our team is always here to help if you encounter anything unusual.\n\nKind regards,\nKaladin",author:"Kaladin",timestamp:"2023-10-10T15:50:27Z",uuid:"2443d7a1-e1fd-5bd5-847e-d82ddc72d548",relevant:!1},{conversation_id:296,content:"Hello Dalinar,\n\nI hope this message finds you well. I have recently started using Verba version 0.3.1, and I’m encountering some errors while trying to implement it. I wanted to reach out to see if you could provide some insight or reassurance about its reliability, especially given the challenges I'm facing.\n\nThank you for your help!\n\nBest regards,\nKaladin",author:"Kaladin",timestamp:"2023-12-14T09:00:00Z",uuid:"ecbf0b95-6611-56a6-8519-28f552667709",relevant:!1},{conversation_id:296,content:"Dear Dalinar,\n\nThank you for your prompt response! I appreciate your willingness to help. The main error I keep running into seems to be related to the SimpleRetriever component, specifically with a syntax error in the GraphQL request. \n\nIs this something you’ve encountered before? Any advice would be greatly appreciated.\n\nBest,\nKaladin",author:"Kaladin",timestamp:"2023-12-14T10:15:47Z",uuid:"cb8550c8-e51a-50c4-9141-f9909ea6af7e",relevant:!1}],metadata:{collection_name:"Example_verba_email_chains",display_type:"message",needs_summarising:!1,query_text:null,query_type:"filter_only",chunked:!1,query_output:{target_collections:["Example_verba_email_chains"],search_type:"filter_only",search_query:null,sort_by:null,filter_buckets:[{filters:[{property_name:"message_author",operator:"=",value:"Kaladin"}],operator:"AND"}],limit:100},code:{language:"python",title:"Query",text:"collection.query.fetch_objects(\n    filters=Filter.all_of([\n        Filter.by_property('message_author').equal('Kaladin')\n    ]),\n    limit=100\n)"}},code:{language:"python",title:"Query",text:"collection.query.fetch_objects(\n    filters=Filter.all_of([\n        Filter.by_property('message_author').equal('Kaladin')\n    ]),\n    limit=100\n)"}}},{type:"result",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"56e5e4e1-1ebe-43ca-ba6e-5bca99b2b7b5",query_id:"8c1f39ad-b9d2-4212-820d-81f19241cef6",id:"res-19aa3f4b-231b-4b6b-b294-5572e506f20c",payload:{type:"message",objects:[{conversation_id:2,content:"I think the first step is to ensure you have a complete backup of your data from the embedded version. Have you tried using the backup filesystem module?",author:"Kaladin",timestamp:"2023-10-01T10:09:45Z",uuid:"ff546612-f04e-55bf-bd4f-8e40de07c632",relevant:!1},{conversation_id:2,content:"Also, check the Weaviate documentation for any specific Docker commands for restoring backups. It might have some nuances.",author:"Kaladin",timestamp:"2023-10-01T10:16:35Z",uuid:"3c810cab-2ac4-5b08-ad4b-466769e74ac7",relevant:!1},{conversation_id:9,content:"Sounds like a plan! Let’s see if we can lure it out of hiding. Maybe set up a snack station for the app? \uD83C\uDF69",author:"Kaladin",timestamp:"2023-10-05T09:22:55Z",uuid:"265ac985-010b-54bf-8bd0-1e5662783b2d",relevant:!1},{conversation_id:9,content:"Maybe we should sacrifice a rubber duck to the programming gods? \uD83E\uDD86\uD83D\uDE02",author:"Kaladin",timestamp:"2023-10-05T09:16:22Z",uuid:"b0605dac-7512-5e13-b8bb-43e39b0ce037",relevant:!1},{conversation_id:14,content:"Hey team, I came across the proposal for adding a default deployment type for Verba. What do you all think about it?",author:"Kaladin",timestamp:"2023-10-04T09:05:12Z",uuid:"91620da1-b488-5387-9c48-2d2468f50249",relevant:!1},{conversation_id:20,content:"Thanks! I'll give it a shot and update you all shortly.",author:"Kaladin",timestamp:"2023-10-03T12:10:40Z",uuid:"14f8434f-77d4-5fc0-b505-c40917d93a65",relevant:!1},{conversation_id:20,content:"Great tip! I'll try restarting and see if that helps. Should I also clear any cache?",author:"Kaladin",timestamp:"2023-10-03T11:45:11Z",uuid:"dad93483-e15f-572f-b50d-2c3fd5cbbd58",relevant:!1},{conversation_id:20,content:"I haven't set it manually yet. What's the best way to do that?",author:"Kaladin",timestamp:"2023-10-03T11:05:37Z",uuid:"63e35723-543a-5720-9b9b-a052d3c7ffdb",relevant:!1},{conversation_id:20,content:"Hey team, I'm having trouble with the Verba setup. It keeps asking for the EMBEDDING_SERVICE_KEY during file imports.",author:"Kaladin",timestamp:"2023-10-03T10:15:28Z",uuid:"51e581f8-dc30-5f82-a450-b32eca6c5af8",relevant:!1},{conversation_id:23,content:"Or maybe we should bribe it with some extra storage options? Like a digital donut? \uD83C\uDF69",author:"Kaladin",timestamp:"2024-09-26T05:34:27Z",uuid:"43f2df8b-5e58-5c41-b9a2-65879848ae34",relevant:!1},{conversation_id:22,content:"I think there's a parameter in the Weaviate configuration that needs adjusting. We might have to look into the documentation for any disk space limits.",author:"Kaladin",timestamp:"2024-09-26T09:18:12Z",uuid:"1e95a0d2-880a-53d8-9ef0-744cada1d835",relevant:!1},{conversation_id:23,content:"Definitely a plan. I’ll grab the docs and see if there’s a hidden button for ‘magically increase disk limit’! \uD83E\uDE84",author:"Kaladin",timestamp:"2024-09-26T06:10:05Z",uuid:"6b1b4bf0-8ef8-55f4-ad68-e5961ae6941d",relevant:!1},{conversation_id:22,content:"Let's regroup after we check these things. I’m sure we can find a workaround or solution together!",author:"Kaladin",timestamp:"2024-09-26T09:25:55Z",uuid:"791c7ea7-ec46-5ab0-9f25-41f78fb2f8c5",relevant:!1},{conversation_id:28,content:"I remember having a similar issue a while back. Did you double-check if your API key is correctly referenced in your Docker compose file?",author:"Kaladin",timestamp:"2023-10-10T09:16:45Z",uuid:"57899b0a-f15c-5489-87cd-36d4b0399d67",relevant:!1},{conversation_id:28,content:"You can use `docker-compose down` followed by `docker-compose up --build`. That should clear out any cached settings.",author:"Kaladin",timestamp:"2023-10-10T09:20:40Z",uuid:"937505c3-060c-5ac3-9a0c-f3b4e044af06",relevant:!1},{conversation_id:36,content:"That sounds interesting! I think it could really enhance our audio processing capabilities. Have you thought about how we might integrate it?",author:"Kaladin",timestamp:"2023-10-01T10:35:47Z",uuid:"768f3be3-e292-5877-a5ae-d50df82642bf",relevant:!1},{conversation_id:37,content:"I think it could really streamline our processes! Less time on manual tasks means we can focus on more creative projects.",author:"Kaladin",timestamp:"2023-10-01T09:32:45Z",uuid:"9a229127-f672-5b12-ad9d-96717238e097",relevant:!1},{conversation_id:37,content:"Definitely! I also think we should keep an eye on user feedback. It could spark new ideas for features.",author:"Kaladin",timestamp:"2023-10-01T10:17:34Z",uuid:"deefecba-5b39-50e2-bb89-68f6d8bc4591",relevant:!1},{conversation_id:37,content:"For sure! A little presentation might go a long way. Let's make it engaging!",author:"Kaladin",timestamp:"2023-10-01T10:54:20Z",uuid:"26868cb7-1300-55b8-9506-143e1b5fea42",relevant:!1},{conversation_id:35,content:"Also, are you sure you have the right version of the library installed? Sometimes newer versions change things up.",author:"Kaladin",timestamp:"2023-10-03T14:16:30Z",uuid:"3f148cdd-8da2-58bd-869a-5c7bad230fc9",relevant:!1},{conversation_id:35,content:"That’s a good point. You might want to try using a virtual environment to isolate your packages.",author:"Kaladin",timestamp:"2023-10-03T14:31:22Z",uuid:"9406cd14-5280-57df-861b-85736b9675b2",relevant:!1},{conversation_id:41,content:"Hey team, I just tried to connect Verba to my local Weaviate and hit a wall. It keeps trying to use WCS instead of my URL.",author:"Kaladin",timestamp:"2023-10-01T09:15:32Z",uuid:"1f10d1ba-bab0-53b6-94ff-0e4a117fa0ee",relevant:!1},{conversation_id:41,content:"Yeah, I used http://localhost:8080, but it still fails. The error mentions an invalid port: '8080:443'.",author:"Kaladin",timestamp:"2023-10-01T09:21:10Z",uuid:"c0e06e48-900d-5c07-9d63-8f212bd0ba27",relevant:!1},{conversation_id:41,content:"I’ll give that a shot. If that doesn’t work, I might need to tweak the installation method.",author:"Kaladin",timestamp:"2023-10-01T09:26:00Z",uuid:"3914626c-5edc-556f-9a71-861cd4db88c2",relevant:!1},{conversation_id:48,content:"Not yet! But I'm curious if the OpenAPI spec could simplify that process. Maybe we can merge it into our setup?",author:"Kaladin",timestamp:"2023-10-01T10:15:10Z",uuid:"0138c7cb-514b-5f32-8351-c31303df8eab",relevant:!1},{conversation_id:48,content:"Oh wow, that sounds interesting! Do we have any specifics on what the new backend might improve?",author:"Kaladin",timestamp:"2023-10-01T10:05:30Z",uuid:"43b4dce5-6e0b-5f4e-aa2a-8737282c5e13",relevant:!1},{conversation_id:49,content:"Not yet, but I think we should prioritize local deployment first before diving into Docker. It might help us debug quicker.",author:"Kaladin",timestamp:"2023-10-10T10:22:59Z",uuid:"0c10b5e9-c89d-5bf5-9e67-491cbacbc6d7",relevant:!1},{conversation_id:49,content:"That’s a great idea, Wu! A separate channel could keep everything organized and allow for more focused discussions.",author:"Kaladin",timestamp:"2023-10-10T10:40:22Z",uuid:"6f3cba2f-646c-5082-81ea-540f2d495b11",relevant:!1},{conversation_id:48,content:"Sounds like a plan! I love how we’re all working together to improve Verba. Can't wait to see what comes of this. \uD83D\uDE80",author:"Kaladin",timestamp:"2023-10-01T10:30:00Z",uuid:"2e32d8ac-e55b-5b4a-a089-bb3a3cfd8896",relevant:!1},{conversation_id:49,content:"Hey team, I just checked out the OpenAPI spec for the alternate backend. Looks promising! Anyone else had a chance to look it over?",author:"Kaladin",timestamp:"2023-10-10T10:12:05Z",uuid:"36f6821f-a080-59fc-9d5c-defe314427f1",relevant:!1},{conversation_id:53,content:"I wonder if it would give me a step-by-step fix or just repeat what’s in the manual. That could be a letdown!",author:"Kaladin",timestamp:"2023-10-01T10:55:12Z",uuid:"0ae039c9-5666-59da-8104-91871e47ec05",relevant:!1},{conversation_id:53,content:"Exactly! Like, if it could analyze my situation and suggest innovative solutions, that would be next-level!",author:"Kaladin",timestamp:"2023-10-01T11:40:03Z",uuid:"b69bb01f-5d19-55d0-a3de-ca4b723d24a8",relevant:!1},{conversation_id:56,content:"I wonder if the .env file is set up correctly. Did the user verify the OLLAMA_URL and OLLAMA_MODEL?",author:"Kaladin",timestamp:"2023-10-04T10:12:45Z",uuid:"7af4505b-86ca-5fd3-9afc-1ae0bfce2fad",relevant:!1},{conversation_id:56,content:"True! They could also check if there’s any firewall or network settings blocking access to the port.",author:"Kaladin",timestamp:"2023-10-04T10:30:07Z",uuid:"de4eff19-eed2-5bc3-a77d-c51a40497aa0",relevant:!1},{conversation_id:56,content:"I hope they find this helpful! Let's keep track of their progress and see if anything works.",author:"Kaladin",timestamp:"2023-10-04T10:49:10Z",uuid:"7a4db5d9-c7f0-592f-9397-20c61679957a",relevant:!1},{conversation_id:61,content:"Hey team, just wanted to bring up the PR that fixes the type annotations for `set_reader`. Has everyone had a chance to look at it?",author:"Kaladin",timestamp:"2023-10-01T09:12:34Z",uuid:"99f856bf-11e3-5522-988a-410c5bea333e",relevant:!1},{conversation_id:61,content:"Yes, I added tests that specifically check for the return types. Should give us a clear picture of any issues.",author:"Kaladin",timestamp:"2023-10-01T09:20:45Z",uuid:"002fb989-cd5c-512d-863d-a8c13fac0701",relevant:!1},{conversation_id:66,content:"Hey team! Has anyone started using the new API key feature in Google AI Studio for Gemini models yet?",author:"Kaladin",timestamp:"2023-10-05T10:15:23Z",uuid:"4202d91a-77b2-565c-8657-4251f760458d",relevant:!1},{conversation_id:66,content:"I was thinking of creating a chatbot that uses Gemini embeddings for better responses. Could be a fun experiment!",author:"Kaladin",timestamp:"2023-10-05T11:10:34Z",uuid:"74c52486-3bf2-503a-a89f-8cf7da8b1ed1",relevant:!1},{conversation_id:81,content:"Sounds great! Let's set a time to discuss what you find. I think this could really enhance our workflow.",author:"Kaladin",timestamp:"2023-10-05T10:15:30Z",uuid:"782d066e-80fb-5184-b18d-a0173fa06a15",relevant:!1},{conversation_id:81,content:"Hey team, I've been thinking about our current reliance on the frontend. What do you all think about exploring some backend solutions instead?",author:"Kaladin",timestamp:"2023-10-05T09:12:34Z",uuid:"46f43ee7-d831-5821-a014-8cd8a0ee09e7",relevant:!1},{conversation_id:93,content:"Hey team! What’s everyone’s favorite activity for a team outing? I’m thinking something adventurous!",author:"Kaladin",timestamp:"2023-10-01T09:15:32Z",uuid:"80eb8365-ea3b-5af2-9a20-5d791cc6f060",relevant:!1},{conversation_id:93,content:"Both options sound awesome! How about we combine them? A hike followed by a food truck feast?",author:"Kaladin",timestamp:"2023-10-01T10:12:09Z",uuid:"13b9310c-8218-5d02-ab8c-32beb7c977e7",relevant:!1},{conversation_id:101,content:"I had a different approach. I reinstalled the entire environment and that solved my issue. Maybe you could give that a shot?",author:"Kaladin",timestamp:"2024-06-27T10:08:32Z",uuid:"0d273bc9-40a2-599e-9647-665132df11d0",relevant:!1},{conversation_id:105,content:"Good idea, Jaina. Also, check if there are any open issues on GitHub related to this. Maybe the devs are already working on it.",author:"Kaladin",timestamp:"2023-10-01T09:18:20Z",uuid:"ccda77eb-33f6-59bc-b71b-a44787b364de",relevant:!1},{conversation_id:101,content:"Good luck! Looking forward to hearing if that resolves your issue.",author:"Kaladin",timestamp:"2024-06-27T10:30:55Z",uuid:"f95f7ba0-910f-5c2c-a2fc-5c9b64a6e5bb",relevant:!1},{conversation_id:101,content:"Also, ensure you're using the compatible Python version. Sometimes that can lead to these kinds of errors too.",author:"Kaladin",timestamp:"2024-06-27T10:19:20Z",uuid:"6aac2172-1ff6-5511-af58-6729ff3d86a0",relevant:!1},{conversation_id:105,content:"I think it's related to the dependencies. Make sure you have the latest versions installed. Sometimes, outdated packages cause issues.",author:"Kaladin",timestamp:"2023-10-01T09:09:12Z",uuid:"6ea8559a-335a-501f-b9cd-7bd546390c9e",relevant:!1},{conversation_id:107,content:"I think they're a step in the right direction! More security is always a good thing. Do we need to test them extensively?",author:"Kaladin",timestamp:"2023-10-01T09:15:23Z",uuid:"bb9c671f-f586-5bf9-9e32-37f46149b34c",relevant:!1},{conversation_id:107,content:"How about testing user access levels? We need to ensure the permissions are enforced correctly.",author:"Kaladin",timestamp:"2023-10-01T09:35:55Z",uuid:"e0b01aeb-eedf-5ec0-847a-2c9338f8ef88",relevant:!1},{conversation_id:107,content:"Sounds good! By the way, did you guys catch the game last night? What a comeback!",author:"Kaladin",timestamp:"2023-10-01T10:00:45Z",uuid:"0c652605-17fa-52c4-878a-ed339897bf9b",relevant:!1},{conversation_id:105,content:"Definitely! A shared document could be useful for tracking these issues. Let's make it happen!",author:"Kaladin",timestamp:"2023-10-01T09:25:30Z",uuid:"d8531f84-55a1-5776-875d-f78ea40029f0",relevant:!1},{conversation_id:110,content:"That's a solid idea, Xaden! It reduces the number of requests significantly. Let’s look into how we can implement that.",author:"Kaladin",timestamp:"2023-10-01T10:28:44Z",uuid:"b7940115-bf56-5f40-84ac-3330302b2031",relevant:!1},{conversation_id:112,content:"Hey team, I just started working with the Azure Open AI server and ran into an issue when trying to add a document. Has anyone else experienced this?",author:"Kaladin",timestamp:"2023-10-01T10:15:23Z",uuid:"037eee24-04b5-5e25-acc1-456200fe0b02",relevant:!1},{conversation_id:112,content:"I did look at the logs. It seems to be a backend error, but I can't pinpoint what the issue is.",author:"Kaladin",timestamp:"2023-10-01T10:50:01Z",uuid:"7cf36db6-7a3a-5b85-b597-8fe6101cbf23",relevant:!1},{conversation_id:112,content:"I'll give that a shot. Thanks for the help, team! I'll let you know if it works.",author:"Kaladin",timestamp:"2023-10-01T11:20:15Z",uuid:"4e75dbe2-27c9-5858-8baa-dbfd6109a7b5",relevant:!1},{conversation_id:110,content:"That could work. But keep in mind the API rate limits. You wouldn’t want to hit those while uploading so many files.",author:"Kaladin",timestamp:"2023-10-01T10:21:12Z",uuid:"1a887ab7-4f12-575b-bb46-a92c1c04b198",relevant:!1},{conversation_id:117,content:"Right, maybe we could implement some sort of filtering system to suggest documents based on keywords from the chat?",author:"Kaladin",timestamp:"2023-10-08T11:15:53Z",uuid:"0f4e3c40-5300-57b7-86c0-20ccd533fa45",relevant:!1},{conversation_id:117,content:"That sounds interesting, Jaina! How do you envision this working? Should users be able to select documents directly?",author:"Kaladin",timestamp:"2023-10-08T10:35:45Z",uuid:"e8be6ae1-fa3d-5b84-b836-dac5bea04201",relevant:!1},{conversation_id:119,content:"Absolutely! We want to ensure users know what each document contains without needing to open them all. Let's sketch out some UI ideas!",author:"Kaladin",timestamp:"2023-10-01T10:15:18Z",uuid:"53ce6160-05ea-50b7-9f02-d4f46256e152",relevant:!1},{conversation_id:119,content:"That's a great point, Dalinar! Maybe we could have a dropdown list of uploaded documents for easy selection?",author:"Kaladin",timestamp:"2023-10-01T09:20:45Z",uuid:"77920707-9239-5e5d-bbc3-2e455bbcc4d5",relevant:!1},{conversation_id:121,content:"Hey team, I just tried importing a file with the unstructured API, but it failed again. Any thoughts?",author:"Kaladin",timestamp:"2023-10-02T14:10:45Z",uuid:"2e9718b2-1bb0-542e-844c-c57d56d07723",relevant:!1},{conversation_id:131,content:"Definitely! We should also consider how dynamic batching might help with scaling. Have we tested it with larger datasets yet?",author:"Kaladin",timestamp:"2023-10-01T09:45:48Z",uuid:"63c11027-ded7-55cb-9dc5-c41b3bdf9e20",relevant:!1},{conversation_id:136,content:"Hey team, I just saw the report about the browser freezing when trying to access that large text file. Anyone else experiencing this?",author:"Kaladin",timestamp:"2023-10-01T09:15:23Z",uuid:"7ebeeaf0-8a3d-5158-a88b-f1c9d8a7097b",relevant:!1},{conversation_id:131,content:"Agreed! Let’s outline our next steps and maybe set up a meeting to dive deeper into the details. What do you think?",author:"Kaladin",timestamp:"2023-10-01T10:35:40Z",uuid:"5e4071da-6370-5c60-b6a5-0c2822889742",relevant:!1},{conversation_id:141,content:"Hey team, I’m looking to translate our UI text into Chinese. Can anyone point me to where the original text is stored?",author:"Kaladin",timestamp:"2023-10-03T10:15:30Z",uuid:"e05b3113-fc5f-5990-95d3-d57ae579827e",relevant:!1},{conversation_id:142,content:"Just to add, if you need the context for any specific phrases, check out the `strings.json` file. It’s quite handy!",author:"Kaladin",timestamp:"2023-10-01T10:35:12Z",uuid:"594ce355-06ce-57ac-9dc9-a623a14861a4",relevant:!1},{conversation_id:142,content:"Perfect! I’m excited to see how the new features will look in Chinese. It’s a huge market for us!",author:"Kaladin",timestamp:"2023-10-01T11:15:22Z",uuid:"bb823484-6656-5d95-84a6-b7ba1e8400fb",relevant:!1},{conversation_id:142,content:"And don’t forget to run the translations through a native speaker for review. It helps a lot!",author:"Kaladin",timestamp:"2023-10-01T12:00:50Z",uuid:"e39866b3-972c-5f5a-a73e-d50c34fb277e",relevant:!1},{conversation_id:148,content:"Exactly! Maybe we can modify the context display to list all relevant documents instead of just one.",author:"Kaladin",timestamp:"2023-10-05T08:22:34Z",uuid:"96274d2a-a2d8-58eb-b195-c45e8c8f2e71",relevant:!1},{conversation_id:148,content:"Hey team, I noticed the bug with the window retriever mixing up chunks from different README.md files. Any thoughts on how to tackle it?",author:"Kaladin",timestamp:"2023-10-05T08:15:43Z",uuid:"6c8bc2d0-70b3-5fc8-9f0a-dc54633c427c",relevant:!1},{conversation_id:148,content:"Should we set up a meeting to discuss implementation details? We could sketch out the changes we need to make.",author:"Kaladin",timestamp:"2023-10-05T08:30:47Z",uuid:"1bb655bb-5733-5b70-a3c8-34ea4b858fba",relevant:!1},{conversation_id:152,content:"Yes, I just faced that yesterday! It's quite frustrating. I had to roll back my OpenAI version to get it working.",author:"Kaladin",timestamp:"2023-10-01T09:36:45Z",uuid:"a7095e94-bc5d-5f1c-aaca-5ffb74a876d2",relevant:!1},{conversation_id:152,content:"Definitely! I used venv for my projects, and it saved me a lot of headaches. Let's set that up.",author:"Kaladin",timestamp:"2023-10-01T10:05:23Z",uuid:"3f631eb6-53d1-5abb-bf7b-19faaef75508",relevant:!1},{conversation_id:160,content:"Hey team, I’m running into an issue with the Verba setup. I'm getting an HTTP connection error when trying to chat or import documents. Anyone else faced this?",author:"Kaladin",timestamp:"2023-10-01T09:05:12Z",uuid:"7c86b2e3-6961-5079-b691-602718f04895",relevant:!1},{conversation_id:160,content:"Yeah, I tried both localhost and host.docker.internal in my .env file, but it still fails. I’m wondering if it’s a firewall issue or something with the Docker daemon itself.",author:"Kaladin",timestamp:"2023-10-01T09:15:01Z",uuid:"d07bf490-9785-5e00-bbf3-296cf49ed4f4",relevant:!1},{conversation_id:165,content:"I think I saw something similar last week. Are you using Python 3.12 by any chance?",author:"Kaladin",timestamp:"2023-10-14T09:15:45Z",uuid:"bb87d014-f54d-5589-96c1-4de26c0c9cd8",relevant:!1},{conversation_id:171,content:"I agree, the error handling is much better now. But we should also think about how we can gather user feedback on this.",author:"Kaladin",timestamp:"2023-10-10T09:45:12Z",uuid:"d1d7c9e2-b324-510b-9871-f34f540fd3a3",relevant:!1},{conversation_id:172,content:"Right? I mean, isn't software just a collection of bugs that we call features? \uD83D\uDE05",author:"Kaladin",timestamp:"2023-10-01T09:20:10Z",uuid:"890232d8-940d-54a4-8c05-a924357d9138",relevant:!1},{conversation_id:171,content:"We could also set up some analytics to track how often these errors occur. It might give us insights into whether the changes are effective.",author:"Kaladin",timestamp:"2023-10-10T10:35:24Z",uuid:"d38bb7a1-4517-54c3-b878-e448e8c44481",relevant:!1},{conversation_id:172,content:"I like that! It sounds fancy. Let's pitch it as the next big thing in our product. \uD83D\uDE0F",author:"Kaladin",timestamp:"2023-10-01T09:55:22Z",uuid:"66ddddd2-8d69-56d7-8214-28b7b20531c8",relevant:!1},{conversation_id:171,content:"Yes, let's do that. It will keep us on track with these enhancements!",author:"Kaladin",timestamp:"2023-10-10T11:20:10Z",uuid:"ce628b65-1919-5510-ba53-3c781be7866e",relevant:!1},{conversation_id:172,content:"Hey team, quick question: Is that last change a bug or a feature? \uD83E\uDD14",author:"Kaladin",timestamp:"2023-10-01T09:00:12Z",uuid:"68fd81ec-53fd-5285-ac98-07c5b4284127",relevant:!1},{conversation_id:178,content:"Maybe we can start with something like 60 seconds? That should cover most cases unless someone is running a really slow model.",author:"Kaladin",timestamp:"2024-05-25T10:19:48Z",uuid:"cd2d920d-292b-585e-aa1d-c57abcc77902",relevant:!1},{conversation_id:178,content:"Yes, I faced that too! It’s frustrating when the model just stops mid-sentence. Maybe we should consider a configurable timeout setting?",author:"Kaladin",timestamp:"2024-05-25T10:14:50Z",uuid:"c0f628d3-54b0-5a6e-aece-513144740651",relevant:!1},{conversation_id:179,content:"That sounds like a great idea, Fatima! It could really improve the user experience, especially for those with slower local setups.",author:"Kaladin",timestamp:"2024-05-24T10:25:00Z",uuid:"3a83e1c8-2b57-54ca-9252-8798003d591d",relevant:!1},{conversation_id:178,content:"Sounds great! Looking forward to seeing your notes, Sofia. Let’s improve this together!",author:"Kaladin",timestamp:"2024-05-25T10:23:55Z",uuid:"5897270a-7f6f-5ef8-99be-d5902daa59f5",relevant:!1},{conversation_id:179,content:"Hey team, I just ran into that WebSocket timeout issue again while testing. It's becoming quite frustrating.",author:"Kaladin",timestamp:"2024-05-24T10:15:32Z",uuid:"9cf5ab2a-d0cc-5223-acb6-494d69418b44",relevant:!1},{conversation_id:189,content:"I think it's also worth looking at the Docker networking settings. Sometimes, the container can lose its connection if the network isn't properly configured.",author:"Kaladin",timestamp:"2023-10-16T09:08:30Z",uuid:"65bbf86b-1438-5e06-9ca5-3342b94df8d5",relevant:!1},{conversation_id:205,content:"Hey team, I'm running into a 404 error while trying to set up Azure Open AI with Verba and Weaviate. Has anyone encountered this before?",author:"Kaladin",timestamp:"2023-10-05T14:03:21Z",uuid:"f1779e50-4f7b-5942-ab2b-d532c61e2f6e",relevant:!1},{conversation_id:208,content:"Absolutely! Imagine someone switching from ADAembedder to llama3 and realizing their embeddings don't match. Total chaos!",author:"Kaladin",timestamp:"2023-10-01T09:15:45Z",uuid:"b78fff67-7611-5d06-b9b9-a31f6779d325",relevant:!1},{conversation_id:225,content:"Hey team, quick question – is this behavior a bug or a feature? \uD83E\uDD14",author:"Kaladin",timestamp:"2023-10-01T10:15:30Z",uuid:"2747667b-6cbc-57e6-a94d-d7c1b3bacea7",relevant:!1},{conversation_id:220,content:"Classic! Dependency hell strikes again. \uD83E\uDD26‍♂️ Have we considered downgrading openai just for this install?",author:"Kaladin",timestamp:"2023-10-01T10:10:45Z",uuid:"74d03735-4131-57d5-9535-7f8a621304ca",relevant:!1},{conversation_id:222,content:"Hey team, I just faced that goldenverba installation error again. Anyone else hit this wall?",author:"Kaladin",timestamp:"2023-10-17T10:05:32Z",uuid:"45d12207-7e7d-53aa-aaf1-996453a8e1f1",relevant:!1},{conversation_id:222,content:"Haha, I can relate! It's like trying to solve a puzzle with missing pieces. But yeah, I might have to downgrade.",author:"Kaladin",timestamp:"2023-10-17T10:35:22Z",uuid:"41bdb350-d885-5317-8f0a-b00bca79fbc9",relevant:!1},{conversation_id:225,content:"Exactly! Every time I see a new issue, I like to think of it as a ‘creative opportunity’! \uD83C\uDFA8",author:"Kaladin",timestamp:"2023-10-01T10:45:10Z",uuid:"548d84de-a599-5bfb-a1b5-40ca3bc4561d",relevant:!1},{conversation_id:240,content:"Hey team, I've been reading about the GraphRAG approach. Do you think it could be a good fit for Verba?",author:"Kaladin",timestamp:"2023-10-01T09:15:32Z",uuid:"fc654f34-937b-5dfa-b306-c2324c33e168",relevant:!1},{conversation_id:240,content:"Agreed. Let's put together a list of skills we might need and see if we can fill those gaps.",author:"Kaladin",timestamp:"2023-10-01T10:25:43Z",uuid:"c72b3ee7-6b9a-51dc-a9a9-15326e8fdb24",relevant:!1},{conversation_id:240,content:"Definitely! It could provide more insights for our users. Should we gather some data on how it performs in similar environments?",author:"Kaladin",timestamp:"2023-10-01T09:50:23Z",uuid:"17f23fb9-778d-5507-8150-2a6a5b54cdea",relevant:!1},{conversation_id:244,content:"I had a similar issue when I first set it up. Make sure that the Ollama server is running correctly and listening on the right port.",author:"Kaladin",timestamp:"2023-10-01T10:17:45Z",uuid:"de209ff5-07f4-5a3e-8a9f-0fcd3b0abdc0",relevant:!1}],metadata:{collection_name:"Example_verba_slack_conversations",display_type:"message",needs_summarising:!1,query_text:null,query_type:"filter_only",chunked:!1,query_output:{target_collections:["Example_verba_slack_conversations"],search_type:"filter_only",search_query:null,sort_by:null,filter_buckets:[{filters:[{property_name:"message_author",operator:"=",value:"Kaladin"}],operator:"AND"}],limit:100},code:{language:"python",title:"Query",text:"collection.query.fetch_objects(\n    filters=Filter.all_of([\n        Filter.by_property('message_author').equal('Kaladin')\n    ]),\n    limit=100\n)"}},code:{language:"python",title:"Query",text:"collection.query.fetch_objects(\n    filters=Filter.all_of([\n        Filter.by_property('message_author').equal('Kaladin')\n    ]),\n    limit=100\n)"}}},{type:"text",id:"tex-0e78d414-bb7f-4db1-844b-abba340999bd",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"56e5e4e1-1ebe-43ca-ba6e-5bca99b2b7b5",query_id:"8c1f39ad-b9d2-4212-820d-81f19241cef6",payload:{type:"response",metadata:{},objects:[{text:"I have retrieved and will now summarize all messages from Kaladin for you."}]}},{type:"text",id:"tex-b64861ab-b1ca-4038-adca-a32e04ae47fd",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"56e5e4e1-1ebe-43ca-ba6e-5bca99b2b7b5",query_id:"8c1f39ad-b9d2-4212-820d-81f19241cef6",payload:{type:"text_with_citations",metadata:{title:"Summary of Messages from Kaladin"},objects:[{text:"\nKaladin has been involved in customer support, addressing issues and requesting details about product malfunctions. \n",ref_ids:["query_Example_verba_email_chains_0_0"]},{text:"He also arranges calls to discuss issues further and escalates urgent problems to senior technicians, showing a commitment to resolving customer concerns promptly.\n",ref_ids:["query_Example_verba_email_chains_0_1","query_Example_verba_email_chains_0_7","query_Example_verba_email_chains_0_8","query_Example_verba_email_chains_0_29","query_Example_verba_email_chains_0_30","query_Example_verba_email_chains_0_54","query_Example_verba_email_chains_0_55","query_Example_verba_email_chains_0_61","query_Example_verba_email_chains_0_73","query_Example_verba_email_chains_0_85","query_Example_verba_email_chains_0_87"]},{text:"Kaladin provides guidance on API key management, suggests checking API keys and port configurations, and offers troubleshooting steps for connecting from different machines.\n",ref_ids:["query_Example_verba_email_chains_0_3","query_Example_verba_email_chains_0_16","query_Example_verba_email_chains_0_43"]},{text:"He keeps teams informed about API key updates, new documentation, upcoming functionalities, product updates, and new features designed to optimize query processes.\n",ref_ids:["query_Example_verba_email_chains_0_4","query_Example_verba_email_chains_0_5","query_Example_verba_email_chains_0_13","query_Example_verba_email_chains_0_14","query_Example_verba_email_chains_0_35","query_Example_verba_email_chains_0_36","query_Example_verba_email_chains_0_66","query_Example_verba_email_chains_0_67","query_Example_verba_email_chains_0_68","query_Example_verba_email_chains_0_71","query_Example_verba_email_chains_0_72","query_Example_verba_email_chains_0_82"]},{text:"Kaladin escalates disk space issues, gathers system logs, and seeks prompt resolutions to disk warning problems.\n",ref_ids:["query_Example_verba_email_chains_0_6","query_Example_verba_email_chains_0_7","query_Example_verba_email_chains_0_8"]},{text:"He supports team collaboration by sharing progress updates, addressing blockers, reminding team members to bring documentation, and checking in on project timelines and roadblocks.\n",ref_ids:["query_Example_verba_email_chains_0_9","query_Example_verba_email_chains_0_10","query_Example_verba_email_chains_0_11","query_Example_verba_email_chains_0_17","query_Example_verba_email_chains_0_57","query_Example_verba_email_chains_0_59","query_Example_verba_email_chains_0_62","query_Example_verba_email_chains_0_63","query_Example_verba_email_chains_0_69","query_Example_verba_email_chains_0_86","query_Example_verba_email_chains_0_88","query_Example_verba_email_chains_0_89","query_Example_verba_email_chains_0_90"]},{text:"Kaladin highlights new functionalities and API integrations, encouraging the team to explore their potential.\n",ref_ids:["query_Example_verba_email_chains_0_12"]},{text:"He coordinates meetings and encourages open communication to address any arising issues.\n",ref_ids:["query_Example_verba_email_chains_0_15"]},{text:"Kaladin addresses concerns about Verba in Docker, requesting additional details to assist users effectively.\n",ref_ids:["query_Example_verba_email_chains_0_18"]},{text:"He communicates improvements to the chunking feature, ensures titles are included in chunks, and addresses chunker issues.\n",ref_ids:["query_Example_verba_email_chains_0_19","query_Example_verba_email_chains_0_20","query_Example_verba_email_chains_0_21","query_Example_verba_email_chains_0_22","query_Example_verba_email_chains_0_23","query_Example_verba_email_chains_0_24","query_Example_verba_email_chains_0_25","query_Example_verba_email_chains_0_26","query_Example_verba_email_chains_0_45","query_Example_verba_email_chains_0_46","query_Example_verba_email_chains_0_51"]},{text:"Kaladin provides recommendations for Embedder and Retriever settings and offers assistance for any further questions.\n",ref_ids:["query_Example_verba_email_chains_0_27","query_Example_verba_email_chains_0_28"]},{text:"He addresses inquiries about product reliability, shares customer feedback, and discusses warranty and support options.\n",ref_ids:["query_Example_verba_email_chains_0_31","query_Example_verba_email_chains_0_32","query_Example_verba_email_chains_0_33"]},{text:"Kaladin reminds users that the support team is available to help with any issues.\n",ref_ids:["query_Example_verba_email_chains_0_34"]},{text:"He escalates issues with the GitLabReader module and seeks in-depth looks from senior technicians.\n",ref_ids:["query_Example_verba_email_chains_0_37","query_Example_verba_email_chains_0_38"]},{text:"Kaladin manages project timelines, addresses merging tasks, and prepares agendas for meetings.\n",ref_ids:["query_Example_verba_email_chains_0_39","query_Example_verba_email_chains_0_40"]},{text:"He initiates discussions about project goals and brainstorms ideas to leverage new features effectively.\n",ref_ids:["query_Example_verba_email_chains_0_41","query_Example_verba_email_chains_0_42"]},{text:"Kaladin addresses technical issues with Ollama and Verba, suggests checking network settings, and provides troubleshooting guides.\n",ref_ids:["query_Example_verba_email_chains_0_47","query_Example_verba_email_chains_0_48","query_Example_verba_email_chains_0_49","query_Example_verba_email_chains_0_50"]},{text:"He supports team requests for timelines and expresses interest in seeing compatibility with OpenAI.\n",ref_ids:["query_Example_verba_email_chains_0_52","query_Example_verba_email_chains_0_53"]},{text:"Kaladin advises on deprecation warnings related to 'PyPDF2' and suggests checking the installed version of 'verba'.\n",ref_ids:["query_Example_verba_email_chains_0_56"]},{text:"He provides resources on setting up Weaviate in a WSL environment.\n",ref_ids:["query_Example_verba_email_chains_0_58"]},{text:"Kaladin aims to resolve installation issues and move ahead with integrations.\n",ref_ids:["query_Example_verba_email_chains_0_60"]},{text:"He addresses concerns about spelling errors in documentation and schedules calls to discuss project needs.\n",ref_ids:["query_Example_verba_email_chains_0_64","query_Example_verba_email_chains_0_65"]},{text:"Kaladin supports user feedback and plans discussions to address navigation concerns.\n",ref_ids:["query_Example_verba_email_chains_0_70"]},{text:"He suggests clearing the cache and configuration files to resolve application startup issues.\n",ref_ids:["query_Example_verba_email_chains_0_74","query_Example_verba_email_chains_0_75"]},{text:"Kaladin addresses issues with the generated schema not allowing configuration of a base URL and schedules calls to demonstrate how to set it effectively.\n",ref_ids:["query_Example_verba_email_chains_0_76","query_Example_verba_email_chains_0_77","query_Example_verba_email_chains_0_78","query_Example_verba_email_chains_0_79","query_Example_verba_email_chains_0_80"]},{text:"He promotes hackathons and announces new features for easier configuration of development servers.\n",ref_ids:["query_Example_verba_email_chains_0_81","query_Example_verba_email_chains_0_82","query_Example_verba_email_chains_0_83"]},{text:"Kaladin follows up on documentation and offers demos to help users utilize features effectively.\n",ref_ids:["query_Example_verba_email_chains_0_84"]},{text:"He shares project timeline updates and suggests alternative options for hardware.\n",ref_ids:["query_Example_verba_email_chains_0_86"]},{text:"Kaladin offers guidance on setting up in airgapped environments to avoid connectivity issues.\n",ref_ids:["query_Example_verba_email_chains_0_91"]},{text:"He addresses issues with document categorization and filtering.\n",ref_ids:["query_Example_verba_email_chains_0_92"]},{text:"Kaladin provides resources for deploying Verba in various environments and addresses concerns about the Verba container in WSL2.\n",ref_ids:["query_Example_verba_email_chains_0_93","query_Example_verba_email_chains_0_94","query_Example_verba_email_chains_0_95","query_Example_verba_email_chains_0_96","query_Example_verba_email_chains_0_97"]},{text:"He helps with implementation errors related to the SimpleRetriever component and syntax errors in GraphQL requests.\n",ref_ids:["query_Example_verba_email_chains_0_98","query_Example_verba_email_chains_0_99"]},{text:"Kaladin advises on backing up data from embedded versions and checking Weaviate documentation for Docker commands.\n",ref_ids:["query_Example_verba_slack_conversations_0_0","query_Example_verba_slack_conversations_0_1"]},{text:"He uses humor and creative suggestions to address issues, such as sacrificing a rubber duck to the programming gods or bribing with digital donuts.\n",ref_ids:["query_Example_verba_slack_conversations_0_2","query_Example_verba_slack_conversations_0_3","query_Example_verba_slack_conversations_0_9","query_Example_verba_slack_conversations_0_78","query_Example_verba_slack_conversations_0_80","query_Example_verba_slack_conversations_0_82","query_Example_verba_slack_conversations_0_91","query_Example_verba_slack_conversations_0_95"]},{text:"Kaladin seeks input on adding a default deployment type for Verba.\n",ref_ids:["query_Example_verba_slack_conversations_0_4"]},{text:"He troubleshoots setup issues, such as requiring the EMBEDDING_SERVICE_KEY, API key references, and OpenAI version conflicts, suggesting solutions like restarting, clearing cache, checking API keys, and downgrading versions.\n",ref_ids:["query_Example_verba_slack_conversations_0_5","query_Example_verba_slack_conversations_0_6","query_Example_verba_slack_conversations_0_7","query_Example_verba_slack_conversations_0_8","query_Example_verba_slack_conversations_0_13","query_Example_verba_slack_conversations_0_14","query_Example_verba_slack_conversations_0_32","query_Example_verba_slack_conversations_0_33","query_Example_verba_slack_conversations_0_34","query_Example_verba_slack_conversations_0_44","query_Example_verba_slack_conversations_0_46","query_Example_verba_slack_conversations_0_47","query_Example_verba_slack_conversations_0_72","query_Example_verba_slack_conversations_0_73","query_Example_verba_slack_conversations_0_76","query_Example_verba_slack_conversations_0_92","query_Example_verba_slack_conversations_0_93","query_Example_verba_slack_conversations_0_94","query_Example_verba_slack_conversations_0_99"]},{text:"Kaladin addresses disk space issues by checking Weaviate configurations and seeking workarounds.\n",ref_ids:["query_Example_verba_slack_conversations_0_10","query_Example_verba_slack_conversations_0_11","query_Example_verba_slack_conversations_0_12"]},{text:"He engages in team discussions about integrating new features, improving processes, enhancing security, translating UI text, and exploring new approaches like GraphRAG.\n",ref_ids:["query_Example_verba_slack_conversations_0_15","query_Example_verba_slack_conversations_0_16","query_Example_verba_slack_conversations_0_17","query_Example_verba_slack_conversations_0_18","query_Example_verba_slack_conversations_0_37","query_Example_verba_slack_conversations_0_38","query_Example_verba_slack_conversations_0_40","query_Example_verba_slack_conversations_0_41","query_Example_verba_slack_conversations_0_42","query_Example_verba_slack_conversations_0_48","query_Example_verba_slack_conversations_0_49","query_Example_verba_slack_conversations_0_50","query_Example_verba_slack_conversations_0_51","query_Example_verba_slack_conversations_0_52","query_Example_verba_slack_conversations_0_57","query_Example_verba_slack_conversations_0_58","query_Example_verba_slack_conversations_0_59","query_Example_verba_slack_conversations_0_60","query_Example_verba_slack_conversations_0_62","query_Example_verba_slack_conversations_0_64","query_Example_verba_slack_conversations_0_65","query_Example_verba_slack_conversations_0_66","query_Example_verba_slack_conversations_0_67","query_Example_verba_slack_conversations_0_68","query_Example_verba_slack_conversations_0_69","query_Example_verba_slack_conversations_0_70","query_Example_verba_slack_conversations_0_71","query_Example_verba_slack_conversations_0_77","query_Example_verba_slack_conversations_0_79","query_Example_verba_slack_conversations_0_81","query_Example_verba_slack_conversations_0_96","query_Example_verba_slack_conversations_0_97","query_Example_verba_slack_conversations_0_98"]},{text:"Kaladin suggests using virtual environments and reinstalling the entire environment to resolve issues.\n",ref_ids:["query_Example_verba_slack_conversations_0_19","query_Example_verba_slack_conversations_0_20","query_Example_verba_slack_conversations_0_35","query_Example_verba_slack_conversations_0_36","query_Example_verba_slack_conversations_0_43","query_Example_verba_slack_conversations_0_45"]},{text:"He troubleshoots connection issues with local Weaviate setups, addressing invalid port errors.\n",ref_ids:["query_Example_verba_slack_conversations_0_21","query_Example_verba_slack_conversations_0_22","query_Example_verba_slack_conversations_0_23"]},{text:"Kaladin explores the OpenAPI spec for alternate backends and prioritizes local deployment for quicker debugging.\n",ref_ids:["query_Example_verba_slack_conversations_0_24","query_Example_verba_slack_conversations_0_25","query_Example_verba_slack_conversations_0_26","query_Example_verba_slack_conversations_0_27","query_Example_verba_slack_conversations_0_28","query_Example_verba_slack_conversations_0_29"]},{text:"He reflects on the potential of AI to provide innovative solutions beyond manual instructions.\n",ref_ids:["query_Example_verba_slack_conversations_0_30","query_Example_verba_slack_conversations_0_31"]},{text:"Kaladin sets times to discuss findings and enhance workflows.\n",ref_ids:["query_Example_verba_slack_conversations_0_39"]},{text:"He addresses issues with Azure Open AI server connections and reviews logs to pinpoint problems.\n",ref_ids:["query_Example_verba_slack_conversations_0_53","query_Example_verba_slack_conversations_0_54","query_Example_verba_slack_conversations_0_55"]},{text:"Kaladin considers API rate limits and troubleshoots file import failures with the unstructured API.\n",ref_ids:["query_Example_verba_slack_conversations_0_56","query_Example_verba_slack_conversations_0_61"]},{text:"He addresses browser freezing issues when accessing large text files.\n",ref_ids:["query_Example_verba_slack_conversations_0_63"]},{text:"Kaladin troubleshoots HTTP connection errors, checks Docker networking settings, and suggests using localhost or host.docker.internal.\n",ref_ids:["query_Example_verba_slack_conversations_0_74","query_Example_verba_slack_conversations_0_75","query_Example_verba_slack_conversations_0_88"]},{text:"He addresses WebSocket timeout issues and suggests configurable timeout settings.\n",ref_ids:["query_Example_verba_slack_conversations_0_83","query_Example_verba_slack_conversations_0_84","query_Example_verba_slack_conversations_0_85","query_Example_verba_slack_conversations_0_86","query_Example_verba_slack_conversations_0_87"]},{text:"Kaladin addresses 404 errors when setting up Azure Open AI with Verba and Weaviate.\n",ref_ids:["query_Example_verba_slack_conversations_0_89"]},{text:"He highlights the importance of matching embeddings when switching between different embedders.\n",ref_ids:["query_Example_verba_slack_conversations_0_90"]},{text:"Kaladin acknowledges dependency issues and considers downgrading OpenAI versions.\n",ref_ids:["query_Example_verba_slack_conversations_0_92"]}]}},{type:"suggestion",id:"2aae0fab-8e73-42dc-9305-a82f8be18fa6",conversation_id:"56e5e4e1-1ebe-43ca-ba6e-5bca99b2b7b5",query_id:"8c1f39ad-b9d2-4212-820d-81f19241cef6",user_id:"com-75ba2acc-0747-4b58-a9d1-4c58bfe8c068",payload:{error:"",suggestions:[]}}]},sW={id:"12345",query:"What is Athena?",messages:[{type:"User",id:"9dd5f834-34a0-4a49-a502-0c6bc8eb7bda",query_id:"642635ba-8148-4f0a-94ad-2ac0d9eb9216",conversation_id:"b2e31a4a-8106-40dc-b02c-bc86dd97ed60",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",payload:{type:"text",metadata:{},code:{language:"",title:"",text:""},objects:["min and max temperature of weather"]}},{type:"text",id:"tex-6b5e3036-02f2-433b-a54b-320a61b1d9ca",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"b2e31a4a-8106-40dc-b02c-bc86dd97ed60",query_id:"642635ba-8148-4f0a-94ad-2ac0d9eb9216",payload:{type:"response",metadata:{},objects:[{text:"I will now find the minimum and maximum temperatures from the weather data."}]}},{type:"text",id:"tex-e16594a6-0da2-400d-a2f0-166653afef02",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"b2e31a4a-8106-40dc-b02c-bc86dd97ed60",query_id:"642635ba-8148-4f0a-94ad-2ac0d9eb9216",payload:{type:"response",metadata:{},objects:[{text:"I'm creating an aggregation query to find the minimum and maximum values of the `temperature_C` field in the `Weather` collection."}]}},{type:"result",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"b2e31a4a-8106-40dc-b02c-bc86dd97ed60",query_id:"642635ba-8148-4f0a-94ad-2ac0d9eb9216",id:"res-f8638b7d-4589-41be-8886-0289628c95b3",payload:{type:"aggregation",objects:[{num_items:19291,collections:[{Weather:{temperature_C:{type:"number",values:[{value:0,field:null,aggregation:"count"},{value:37.19444444444444,field:null,aggregation:"maximum"},{value:0,field:null,aggregation:"mean"},{value:0,field:null,aggregation:"median"},{value:-13.066666666666666,field:null,aggregation:"minimum"},{value:0,field:null,aggregation:"mode"},{value:0,field:null,aggregation:"sum"}]}}}],_REF_ID:"aggregate_Weather_0_0"}],metadata:{collection_name:"Weather",aggregation_output:{target_collections:["Weather"],search_query:null,search_type:null,filter_buckets:null,groupby_property:null,number_property_aggregations:[{property_name:"temperature_C",metrics:["MIN","MAX"]}],text_property_aggregations:null,boolean_property_aggregations:null,date_property_aggregations:null,limit:5},code:{language:"python",title:"Aggregation",text:"collection.aggregate.over_all(\n    total_count=True,\n    return_metrics=[\n        Metrics('temperature_C').number(minimum=True, maximum=True)\n]\n)"}},code:{language:"python",title:"Aggregation",text:"collection.aggregate.over_all(\n    total_count=True,\n    return_metrics=[\n        Metrics('temperature_C').number(minimum=True, maximum=True)\n]\n)"}}},{type:"text",id:"tex-68bb57fa-5829-4e44-bbf6-a04a37b2da90",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"b2e31a4a-8106-40dc-b02c-bc86dd97ed60",query_id:"642635ba-8148-4f0a-94ad-2ac0d9eb9216",payload:{type:"response",metadata:{},objects:[{text:"I'm providing a summary of the minimum and maximum temperatures found in the weather data."}]}},{type:"text",id:"tex-497b4d24-4941-4455-ad08-85e4f890e464",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"b2e31a4a-8106-40dc-b02c-bc86dd97ed60",query_id:"642635ba-8148-4f0a-94ad-2ac0d9eb9216",payload:{type:"text_with_citations",metadata:{title:"Minimum and Maximum Temperatures"},objects:[{text:"The minimum temperature recorded is -13.07\xb0C, and the maximum temperature recorded is 37.19\xb0C.\n",ref_ids:["aggregate_Weather_0_0"]}]}},{type:"suggestion",id:"b7cae969-9100-4575-95f3-87e677a99531",conversation_id:"b2e31a4a-8106-40dc-b02c-bc86dd97ed60",query_id:"642635ba-8148-4f0a-94ad-2ac0d9eb9216",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",payload:{error:"",suggestions:["What was the average humidity on the days with the highest temperatures?","Can you show me weather on days matching specific Ecommerce product releases?"]}}],finished:!0,query_start:new Date,query_end:new Date(new Date().getTime()+1e3),NER:{text:"What is Athena?",noun_spans:[],entity_spans:[[8,14]]},feedback:2,index:0},sD={id:"12345",query:"Create a cool chart",messages:[{type:"User",id:"a071da68-e3b0-4206-b3f5-45c815d6e93e",query_id:"ac4fc4a7-37c6-4ad6-aab0-74eba49b8930",conversation_id:"a5ef6d74-3e72-48c1-b634-21d1b9bf993e",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",payload:{type:"text",metadata:{},code:{language:"",title:"",text:""},objects:["Create a cool chart"]}},{type:"text",id:"tex-2068d1fa-2b9e-4f01-af10-16e1a128c0e8",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"a5ef6d74-3e72-48c1-b634-21d1b9bf993e",query_id:"ac4fc4a7-37c6-4ad6-aab0-74eba49b8930",payload:{type:"response",metadata:{},objects:[{text:"I will now build the most epic chart ever."}]}},{type:"result",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"a5ef6d74-3e72-48c1-b634-21d1b9bf993e",query_id:"ac4fc4a7-37c6-4ad6-aab0-74eba49b8930",id:"res-84474914-71e3-4292-b3c9-65e5a84b07ac",payload:{type:"chart",objects:[{type:"line",values:{x:{label:"Time",data:["06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00"]},y:{label:"Temperature in Celsius",data:[14,15,16,18,20,22,24,16,12,14]}}}],metadata:{title:"Extreme Cool Chart"},code:{language:"python",title:"Chart",text:"chart.create(\n    type='bar',\n    label='Coolness',\n    values={'Coolness': [1, 2, 3]}\n)"}}},{type:"text",id:"tex-0df026ef-ec86-4d55-8361-8a4f42b51abe",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"a5ef6d74-3e72-48c1-b634-21d1b9bf993e",query_id:"ac4fc4a7-37c6-4ad6-aab0-74eba49b8930",payload:{type:"response",metadata:{},objects:[{text:"I've built a chart for you. It's a line chart of the temperature over time."}]}},{type:"suggestion",id:"33c2b133-6e53-4b6a-8e6e-4e7a276a3249",conversation_id:"a5ef6d74-3e72-48c1-b634-21d1b9bf993e",query_id:"ac4fc4a7-37c6-4ad6-aab0-74eba49b8930",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",payload:{error:"",suggestions:["Why is this chart so cool?","What is the temperature at 12:00?"]}}],finished:!0,query_start:new Date,query_end:new Date(new Date().getTime()+1e3),NER:{text:"Create a cool chart",noun_spans:[],entity_spans:[]},feedback:1,index:0},sR={id:"12345",query:"What is Athena?",messages:[{type:"User",id:"52ce1224-0b68-4309-9d5e-8849dfdbf797",query_id:"dca1842f-bcb9-4f14-bbbc-b6954f9e820e",conversation_id:"420dc737-b84b-49b1-b88e-010687c19c13",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",payload:{type:"text",metadata:{},code:{language:"",title:"",text:""},objects:["retrieve the hottest weather data and then plot it"]}},{type:"user_prompt",id:"f921d072-bfee-4dec-84d7-c06391567aa7",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"420dc737-b84b-49b1-b88e-010687c19c13",query_id:"dca1842f-bcb9-4f14-bbbc-b6954f9e820e",payload:{prompt:"retrieve the hottest weather data and then plot it"}},{type:"text",id:"tex-0933e369-0630-4786-bac6-487f11b61570",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"420dc737-b84b-49b1-b88e-010687c19c13",query_id:"dca1842f-bcb9-4f14-bbbc-b6954f9e820e",payload:{type:"response",metadata:{},objects:[{text:"I'll now retrieve the hottest weather data for you from the Weather collection."}]}},{type:"text",id:"tex-f596dfb7-7607-4d0e-b99f-e855c5f68124",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"420dc737-b84b-49b1-b88e-010687c19c13",query_id:"dca1842f-bcb9-4f14-bbbc-b6954f9e820e",payload:{type:"response",metadata:{},objects:[{text:"I am now retrieving the top 10 hottest weather records by sorting the `temperature_C` field in descending order."}]}},{type:"result",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"420dc737-b84b-49b1-b88e-010687c19c13",query_id:"dca1842f-bcb9-4f14-bbbc-b6954f9e820e",id:"res-81a4218b-3597-45e0-a7b2-a798e5943b03",payload:{type:"table",objects:[{humidity:.19,precip_Type:"rain",wind_Bearing_degrees:51,pressure_millibars:1013.61,visibility_km:16.1,formatted_Date:"2015-08-12T16:00:00Z",apparent_Temperature_C:35.43333333333333,temperature_C:37.19444444444444,cloud_Cover:0,categorisation:"Partly Cloudy",wind_Speed_km_h:9.4507,daily_Summary:"Partly cloudy until night.",uuid:"d443fa8f-5b1d-5a93-a467-17ba1b1c2098",_REF_ID:"query_Weather_0_0"},{humidity:.23,precip_Type:"rain",wind_Bearing_degrees:29,pressure_millibars:1012.53,visibility_km:16.1,formatted_Date:"2015-08-13T15:00:00Z",apparent_Temperature_C:36.3,temperature_C:37.19444444444444,cloud_Cover:0,categorisation:"Partly Cloudy",wind_Speed_km_h:13.7333,daily_Summary:"Partly cloudy starting in the morning continuing until night.",uuid:"3b539abf-5da2-5e24-b533-d721f09d9526",_REF_ID:"query_Weather_0_1"},{humidity:.29,precip_Type:"rain",wind_Bearing_degrees:150,pressure_millibars:1008.88,visibility_km:15.826300000000002,formatted_Date:"2015-07-23T15:00:00Z",apparent_Temperature_C:37.78333333333333,temperature_C:37.19444444444444,cloud_Cover:0,categorisation:"Partly Cloudy",wind_Speed_km_h:14.1358,daily_Summary:"Partly cloudy starting in the morning.",uuid:"d20cea94-172f-50c8-bdc2-a18326bca8fb",_REF_ID:"query_Weather_0_2"},{humidity:.2,precip_Type:"rain",wind_Bearing_degrees:351,pressure_millibars:1012.03,visibility_km:16.1,formatted_Date:"2015-08-13T16:00:00Z",apparent_Temperature_C:35.52777777777778,temperature_C:37.17222222222222,cloud_Cover:0,categorisation:"Partly Cloudy",wind_Speed_km_h:15.166200000000002,daily_Summary:"Partly cloudy starting in the morning continuing until night.",uuid:"166d5332-18e5-56a1-bd67-2b2fd7544b1c",_REF_ID:"query_Weather_0_3"},{humidity:.19,precip_Type:"rain",wind_Bearing_degrees:4,pressure_millibars:1014.02,visibility_km:16.1,formatted_Date:"2015-08-12T15:00:00Z",apparent_Temperature_C:35.349999999999994,temperature_C:37.10555555555556,cloud_Cover:0,categorisation:"Partly Cloudy",wind_Speed_km_h:9.3058,daily_Summary:"Partly cloudy until night.",uuid:"7d9112a8-f48d-5aea-8e11-4a23b784283e",_REF_ID:"query_Weather_0_4"},{humidity:.27,precip_Type:"rain",wind_Bearing_degrees:12,pressure_millibars:1013.34,visibility_km:16.1,formatted_Date:"2015-08-13T13:00:00Z",apparent_Temperature_C:37.083333333333336,temperature_C:37.083333333333336,cloud_Cover:0,categorisation:"Clear",wind_Speed_km_h:12.2038,daily_Summary:"Partly cloudy starting in the morning continuing until night.",uuid:"bf09b864-77dd-5ac4-9393-1d76096183b8",_REF_ID:"query_Weather_0_5"},{humidity:.19,precip_Type:"rain",wind_Bearing_degrees:305,pressure_millibars:1006.01,visibility_km:16.1,formatted_Date:"2015-08-15T16:00:00Z",apparent_Temperature_C:35.40555555555556,temperature_C:37.083333333333336,cloud_Cover:0,categorisation:"Partly Cloudy",wind_Speed_km_h:2.7048,daily_Summary:"Partly cloudy starting in the morning.",uuid:"2db012e2-b6d6-5714-bf3d-47b31a5eb8ee",_REF_ID:"query_Weather_0_6"},{humidity:.19,precip_Type:"rain",wind_Bearing_degrees:24,pressure_millibars:1013.46,visibility_km:15.552600000000002,formatted_Date:"2015-08-12T17:00:00Z",apparent_Temperature_C:35.08888888888888,temperature_C:36.95555555555555,cloud_Cover:0,categorisation:"Partly Cloudy",wind_Speed_km_h:8.790600000000001,daily_Summary:"Partly cloudy until night.",uuid:"d43287ae-4d09-55f9-ad1b-a93b1ead616c",_REF_ID:"query_Weather_0_7"},{humidity:.2,precip_Type:"rain",wind_Bearing_degrees:57,pressure_millibars:1014.61,visibility_km:15.552600000000002,formatted_Date:"2015-08-12T14:00:00Z",apparent_Temperature_C:35.26666666666667,temperature_C:36.92222222222222,cloud_Cover:0,categorisation:"Partly Cloudy",wind_Speed_km_h:9.2253,daily_Summary:"Partly cloudy until night.",uuid:"b8e37994-c547-54ff-9ff0-a57bea1101c2",_REF_ID:"query_Weather_0_8"},{humidity:.2,precip_Type:"rain",wind_Bearing_degrees:345,pressure_millibars:1005.66,visibility_km:15.552600000000002,formatted_Date:"2015-08-15T17:00:00Z",apparent_Temperature_C:35.22222222222222,temperature_C:36.91111111111111,cloud_Cover:0,categorisation:"Partly Cloudy",wind_Speed_km_h:1.6744,daily_Summary:"Partly cloudy starting in the morning.",uuid:"83522db4-7435-57b1-bc13-f08a599005f4",_REF_ID:"query_Weather_0_9"}],metadata:{collection_name:"Weather",display_type:"table",needs_summarising:!1,query_text:null,query_type:"filter_only",chunked:!1,query_output:{target_collections:["Weather"],search_type:"filter_only",search_query:null,sort_by:{property_name:"temperature_C",direction:"descending"},filter_buckets:null,limit:10},code:{language:"python",title:"Query",text:"collection.query.fetch_objects(\n    limit=10,\n    sort=Sort.by_property(\n        'temperature_C',\n        ascending=False\n    )\n)"}},code:{language:"python",title:"Query",text:"collection.query.fetch_objects(\n    limit=10,\n    sort=Sort.by_property(\n        'temperature_C',\n        ascending=False\n    )\n)"}}},{type:"text",id:"tex-8fe138d0-2d9c-4d9b-a5ec-bf83f29163a3",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"420dc737-b84b-49b1-b88e-010687c19c13",query_id:"dca1842f-bcb9-4f14-bbbc-b6954f9e820e",payload:{type:"response",metadata:{},objects:[{text:"I've successfully retrieved the top 10 hottest weather records, and I'm now preparing a summary of these items for you."}]}},{type:"text",id:"tex-ddd30acb-6a44-476b-bcce-2211c09b1c0d",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"420dc737-b84b-49b1-b88e-010687c19c13",query_id:"dca1842f-bcb9-4f14-bbbc-b6954f9e820e",payload:{type:"response",metadata:{},objects:[{text:"I'm now preparing to visualize the hottest weather data for you."}]}},{type:"text",id:"tex-fa90b616-6085-45ee-bec4-b8a8d0d48456",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"420dc737-b84b-49b1-b88e-010687c19c13",query_id:"dca1842f-bcb9-4f14-bbbc-b6954f9e820e",payload:{type:"response",metadata:{},objects:[{text:"I'm now generating a bar chart to visualize the hottest weather data, using the `formatted_Date` for the x-axis and `temperature_C` for the y-axis."}]}},{type:"result",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"420dc737-b84b-49b1-b88e-010687c19c13",query_id:"dca1842f-bcb9-4f14-bbbc-b6954f9e820e",id:"res-7feb7362-0218-41ec-9149-eeeb5378dcd8",payload:{type:"bar_chart",objects:[{title:"Top 10 Hottest Weather Records",description:"Bar chart showing the temperature of the 10 hottest weather records.",x_axis_label:"Date and Time",y_axis_label:"Temperature (\xb0C)",data:{x_labels:["2015-08-12T16:00:00Z","2015-08-13T15:00:00Z","2015-07-23T15:00:00Z","2015-08-13T16:00:00Z","2015-08-12T15:00:00Z","2015-08-13T13:00:00Z","2015-08-15T16:00:00Z","2015-08-12T17:00:00Z","2015-08-12T14:00:00Z","2015-08-15T17:00:00Z"],y_values:{Temperature:[37.19444444444444,37.19444444444444,37.19444444444444,37.17222222222222,37.10555555555556,37.083333333333336,37.083333333333336,36.95555555555555,36.92222222222222,36.91111111111111]}},_REF_ID:"visualise_bar_chart_0_0"}],metadata:{chart_title:"Top 10 Hottest Weather Data",chart_type:"bar"}}},{type:"text",id:"tex-6c94fd3a-ca64-4bcc-a2b3-9d0c7d8006ed",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"420dc737-b84b-49b1-b88e-010687c19c13",query_id:"dca1842f-bcb9-4f14-bbbc-b6954f9e820e",payload:{type:"response",metadata:{},objects:[{text:"I'm now preparing a summary of the hottest weather data and the generated bar chart for you."}]}},{type:"text",id:"tex-ea4c151b-b7ad-44de-847f-0b9befa97c4f",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",conversation_id:"420dc737-b84b-49b1-b88e-010687c19c13",query_id:"dca1842f-bcb9-4f14-bbbc-b6954f9e820e",payload:{type:"text_with_citations",metadata:{title:"Summary of Hottest Weather Data and Visualization"},objects:[{text:"The top 10 hottest weather records have been retrieved, with temperatures ranging from approximately 36.91\xb0C to 37.19\xb0C. The highest recorded temperatures of 37.19\xb0C occurred on August 12, 2015, at 16:00Z, August 13, 2015, at 15:00Z, and July 23, 2015, at 15:00Z. These records consistently show a 'Partly Cloudy' categorization with low humidity and varying wind speeds. \n",ref_ids:["query_Weather_0_0","query_Weather_0_1","query_Weather_0_2","query_Weather_0_3","query_Weather_0_4","query_Weather_0_5","query_Weather_0_6","query_Weather_0_7","query_Weather_0_8","query_Weather_0_9"]},{text:"A bar chart titled 'Top 10 Hottest Weather Data' has been generated to visualize these records. The x-axis represents the date and time (`formatted_Date`), and the y-axis represents the temperature in Celsius (`temperature_C`). This chart provides a clear visual representation of the hottest temperatures recorded.",ref_ids:["visualise_bar_chart_0_0"]}]}},{type:"suggestion",id:"11ab0ebe-34cc-4624-88f0-089b5e6286d6",conversation_id:"420dc737-b84b-49b1-b88e-010687c19c13",query_id:"dca1842f-bcb9-4f14-bbbc-b6954f9e820e",user_id:"c5163446-4eff-5c3f-b362-33932ca630d4",payload:{error:"",suggestions:["What were the wind speeds for these hottest days?","Can you show me the coldest weather data?","How does humidity correlate with temperature?"]}}],finished:!0,query_start:new Date,query_end:new Date(new Date().getTime()+1e3),NER:{text:"What is Athena?",noun_spans:[],entity_spans:[[8,14]]},feedback:2,index:0};function sK(){let e=(0,aw.usePathname)(),t=(0,aw.useSearchParams)(),a=(0,n.useRef)(null),i=()=>{},r={text_response:[sT],initial_response:[sI],table:[sC],tickets:[sE],product:[sS],document:[sq],thread:[sA],singleMessage:[sP],aggregation:[sW],chart:[sD],bar_chart:[sR]},[o,l]=(0,n.useState)([sT]);return(0,n.useEffect)(()=>{setTimeout(()=>{a.current?.scrollIntoView({behavior:"smooth"})},100)},[o]),(0,n.useEffect)(()=>{let e=t.get("type");e&&e in r&&l(r[e])},[e,t]),(0,s.jsx)("div",{className:"flex flex-col w-full overflow-scroll justify-center items-center",children:(0,s.jsxs)("div",{className:"flex flex-col w-full md:w-[60vw] lg:w-[40vw] h-[90vh] ",children:[" ",Object.entries(o).sort((e,t)=>e[1].index-t[1].index).map(([e,t],n,r)=>(0,s.jsx)(T,{children:(0,s.jsx)(tb,{isLastQuery:n===r.length-1,handleSendQuery:()=>{},messages:t.messages,conversationID:"12345",queryID:e+n,finished:t.finished,query_start:t.query_start,query_end:t.query_end,_collapsed:n!==r.length-1,messagesEndRef:a,NER:t.NER,feedback:t.feedback,updateFeedback:i,addDisplacement:()=>{},addDistortion:()=>{}},e)},e))]})})}let sL=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{className:"relative w-full",children:(0,s.jsx)("table",{ref:a,className:(0,C.cn)("w-full caption-bottom text-sm",e),...t})}));sL.displayName="Table";let s$=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("thead",{ref:a,className:(0,C.cn)("[&_tr]:border-b border-secondary",e),...t}));s$.displayName="TableHeader";let sZ=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("tbody",{ref:a,className:(0,C.cn)("[&_tr:last-child]:border-0",e),...t}));sZ.displayName="TableBody",n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("tfoot",{ref:a,className:(0,C.cn)("border-t bg-background_alt font-medium [&>tr]:last:border-b-0 border-secondary",e),...t})).displayName="TableFooter";let sH=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("tr",{ref:a,className:(0,C.cn)("border-b border-secondary transition-colors hover:bg-foreground_alt data-[state=selected]:bg-muted",e),...t}));sH.displayName="TableRow";let sO=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("th",{ref:a,className:(0,C.cn)("h-10 px-2 text-left align-middle font-medium text-secondary [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));sO.displayName="TableHead";let sz=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("td",{ref:a,className:(0,C.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));function sM(){let[e,t]=(0,n.useState)([]),[a,i]=(0,n.useState)(!0),[r,o]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=!1;return i(!0),o(null),fetch("/n8n/webhook/get-categories").then(e=>{if(!e.ok)throw Error(`HTTP ${e.status}`);return e.json()}).then(a=>{e||t(Array.isArray(a)?a?.[0]?.categories??[]:a?.categories??[])}).catch(t=>{e||o(t.message)}).finally(()=>{e||i(!1)}),()=>{e=!0}},[]),(0,s.jsxs)("div",{className:"flex flex-col w-full gap-4 items-start justify-start",tabIndex:0,children:[(0,s.jsx)("p",{className:"text-primary text-xl font-heading font-bold",children:"Reportistica"}),(0,s.jsxs)("div",{className:"flex flex-row gap-4 w-full",children:[(0,s.jsxs)(el,{className:"w-[220px] shrink-0",children:[(0,s.jsx)(ec,{className:"pb-2",children:(0,s.jsx)(ed,{className:"text-sm",children:"Filtro 1"})}),(0,s.jsx)(eh,{children:(0,s.jsxs)(ey.l6,{children:[(0,s.jsx)(ey.bq,{disabled:a,children:(0,s.jsx)(ey.yv,{placeholder:a?"Caricamento...":r?"Errore caricamento":"Seleziona..."})}),(0,s.jsx)(ey.gC,{children:e.map(e=>(0,s.jsx)(ey.eb,{value:e,children:e},e))})]})})]}),(0,s.jsxs)(el,{className:"w-[220px] shrink-0",children:[(0,s.jsx)(ec,{className:"pb-2",children:(0,s.jsx)(ed,{className:"text-sm",children:"Filtro 2"})}),(0,s.jsx)(eh,{children:(0,s.jsxs)(ey.l6,{children:[(0,s.jsx)(ey.bq,{children:(0,s.jsx)(ey.yv,{placeholder:"Seleziona..."})}),(0,s.jsx)(ey.gC,{children:(0,s.jsx)(ey.eb,{value:"placeholder",children:"Placeholder"})})]})})]}),(0,s.jsxs)(el,{className:"flex-1",children:[(0,s.jsx)(ec,{className:"pb-2",children:(0,s.jsx)(ed,{className:"text-sm",children:"Form dinamica"})}),(0,s.jsx)(eh,{children:(0,s.jsx)("p",{className:"text-secondary text-sm",children:"Form dinamica — in attesa di configurazione JSON"})})]})]}),(0,s.jsxs)(el,{className:"min-h-[70vh] w-[80%]",children:[(0,s.jsx)(ec,{className:"pb-2",children:(0,s.jsx)(ed,{className:"text-sm",children:"Tabella dati"})}),(0,s.jsx)(eh,{className:"flex-1",children:(0,s.jsxs)(sL,{children:[(0,s.jsx)(s$,{children:(0,s.jsx)(sH,{children:(0,s.jsx)(sO,{className:"text-secondary",children:"—"})})}),(0,s.jsx)(sZ,{children:(0,s.jsx)(sH,{children:(0,s.jsx)(sz,{className:"text-secondary text-sm",children:"Tabella — in attesa di configurazione JSON"})})})]})})]})]})}async function sB(e,t,a,s){performance.now();try{let n=await fetch(`${tn.Hc}/util/enhance_prompt`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,conversation_id:t,prompt:a,suggestion:s})});if(!n.ok)return{enhanced_prompt:"",feedback:"",error:`HTTP ${n.status} ${n.statusText}`};return await n.json()}catch(e){return{enhanced_prompt:"",feedback:"",error:e instanceof Error?e.message:String(e)}}finally{}}function sF(){let{changePage:e,setPrefillPrompt:t}=(0,n.useContext)(i.z),{id:a}=(0,n.useContext)(tr.I),{currentConversation:r}=(0,n.useContext)(p.r),[l,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[h,f]=(0,n.useState)([]),[g,x]=(0,n.useState)(-1),[y,b]=(0,n.useState)(!1),v=(0,n.useCallback)(async()=>{if(!y&&d.trim()){b(!0);try{let e=await sB(a||"",r||"",l||null,d);if(e.error)u(`Errore: ${e.error}`);else if(e.feedback)u(e.feedback);else if(e.enhanced_prompt){c(e.enhanced_prompt),u("");let t=[...h.slice(0,g+1),e.enhanced_prompt];f(t),x(t.length-1)}}catch{u("Errore di connessione con il server.")}finally{b(!1)}}},[y,d,l,a,r,h,g]),_=(0,n.useCallback)(()=>{l.trim()&&(t(l,!0),e("chat",{},!0))},[l,t,e]),w=(0,n.useCallback)(()=>{e("chat",{},!0)},[e]),j=(0,n.useCallback)(()=>{c(""),f([]),x(-1)},[]),k=(0,n.useCallback)(e=>{let t=e.target.value;c(t),g>=0&&g<h.length&&f(e=>{let a=[...e];return a[g]=t,a})},[g,h.length]),N=(0,n.useCallback)(()=>{if(g>0){let e=g-1;x(e),c(h[e])}},[g,h]),T=(0,n.useCallback)(()=>{if(g<h.length-1){let e=g+1;x(e),c(h[e])}},[g,h]);return(0,s.jsxs)("div",{className:"flex flex-col w-full self-stretch gap-3 fade-in",style:{height:"calc(100vh - 6rem)"},tabIndex:0,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:[(0,s.jsx)(o.OZF,{className:"text-xl text-primary"}),(0,s.jsx)("p",{className:"text-primary text-xl font-heading font-bold",children:"Prompt Enhancer"})]}),(0,s.jsxs)("div",{className:"flex flex-col flex-1 min-h-0 w-full",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsxs)(m.$,{size:"sm",className:"text-primary",onClick:_,disabled:!l.trim(),children:[(0,s.jsx)(o.KpL,{className:"mr-1"}),"Usa"]}),(0,s.jsxs)(m.$,{variant:"ghost",size:"sm",onClick:j,disabled:!l&&0===h.length,children:[(0,s.jsx)(o.xbI,{className:"mr-1"}),"Pulisci"]})]}),(0,s.jsx)("textarea",{className:"flex-1 w-full resize-none bg-background_alt border border-foreground_alt rounded-xl p-4 text-primary text-sm outline-none placeholder:text-secondary leading-relaxed",value:l,onChange:k,placeholder:"Il prompt migliorato apparir\xe0 qui...",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),_())}}),h.length>=2&&(0,s.jsxs)("div",{className:"flex justify-center items-center gap-3 mt-2",children:[(0,s.jsx)(m.$,{size:"icon",variant:"ghost",onClick:N,disabled:g<=0,children:(0,s.jsx)(o.Wup,{size:20})}),(0,s.jsxs)("span",{className:"text-sm text-secondary tabular-nums",children:[g+1," / ",h.length]}),(0,s.jsx)(m.$,{size:"icon",variant:"ghost",onClick:T,disabled:g>=h.length-1,children:(0,s.jsx)(o.mny,{size:20})})]})]}),(0,s.jsxs)("div",{className:"flex flex-col shrink-0 w-full h-[200px]",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(m.$,{size:"sm",className:"text-primary",onClick:v,disabled:!d.trim()||y,children:[(0,s.jsx)(o.OZF,{className:"mr-1"}),y?"Elaborazione...":"Migliora"]}),(0,s.jsxs)(m.$,{variant:"ghost",size:"sm",onClick:w,children:[(0,s.jsx)(o.MGo,{className:"mr-1"}),"Abbandona"]})]}),(0,s.jsxs)(m.$,{variant:"ghost",size:"sm",onClick:()=>u(""),disabled:!d,children:[(0,s.jsx)(o.xbI,{className:"mr-1"}),"Pulisci"]})]}),(0,s.jsx)("textarea",{className:"flex-1 w-full resize-none bg-background_alt border border-foreground_alt rounded-xl p-4 text-primary text-sm outline-none placeholder:text-secondary leading-relaxed",value:d,onChange:e=>u(e.target.value),placeholder:"Scrivi qui il tuo prompt o i suggerimenti di modifica...",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),v())}})]})]})}sz.displayName="TableCell",n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("caption",{ref:a,className:(0,C.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";var sV=a(284);let sU=sV.bL;sV.l9;let sG=sV.ZL,sY=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(sV.hJ,{className:(0,C.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:a}));sY.displayName=sV.hJ.displayName;let sQ=n.forwardRef(({className:e,...t},a)=>(0,s.jsxs)(sG,{children:[(0,s.jsx)(sY,{}),(0,s.jsx)(sV.UC,{ref:a,className:(0,C.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));sQ.displayName=sV.UC.displayName;let sJ=({className:e,...t})=>(0,s.jsx)("div",{className:(0,C.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});sJ.displayName="AlertDialogHeader";let sX=({className:e,...t})=>(0,s.jsx)("div",{className:(0,C.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sX.displayName="AlertDialogFooter";let s0=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(sV.hE,{ref:a,className:(0,C.cn)("text-lg font-semibold",e),...t}));s0.displayName=sV.hE.displayName;let s1=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(sV.VY,{ref:a,className:(0,C.cn)("text-sm text-muted-foreground",e),...t}));s1.displayName=sV.VY.displayName;let s2=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(sV.rc,{ref:a,className:(0,C.cn)((0,m.r)(),e),...t}));s2.displayName=sV.rc.displayName;let s4=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(sV.ZD,{ref:a,className:(0,C.cn)((0,m.r)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));s4.displayName=sV.ZD.displayName;let s3=()=>{let{isConfirmModalOpen:e,confirmModalTitle:t,confirmModalDescription:a,handleConfirmModal:i,handleCancelModal:r}=(0,n.useContext)(to.$);return(0,s.jsx)(sU,{open:e,children:(0,s.jsxs)(sQ,{children:[(0,s.jsxs)(sJ,{children:[(0,s.jsx)(s0,{children:t}),(0,s.jsx)(s1,{children:a})]}),(0,s.jsxs)(sX,{children:[(0,s.jsx)(s4,{onClick:r,children:"Cancel"}),(0,s.jsx)(s2,{onClick:i,className:"bg-error/10 text-error border border-error hover:bg-error/20",children:"OK"})]})]})})};function s5(){let{currentPage:e}=(0,n.useContext)(i.z),{isConfirmModalOpen:t}=(0,n.useContext)(to.$);return(0,s.jsxs)("div",{className:"flex flex-1 min-w-0 flex-col md:flex-row w-full gap-2 md:gap-6 items-start justify-start p-2 md:p-6 overflow-hidden",children:[t&&(0,s.jsx)(s3,{}),"chat"===e&&(0,s.jsx)(aN,{}),"data"===e&&(0,s.jsx)(aW,{}),"collection"===e&&(0,s.jsx)(a4,{}),"settings"===e&&(0,s.jsx)(ss,{}),"eval"===e&&(0,s.jsx)(sf,{}),"feedback"===e&&(0,s.jsx)(sj,{}),"elysia"===e&&(0,s.jsx)(sN,{}),"display"===e&&(0,s.jsx)(sK,{}),"reportistica"===e&&(0,s.jsx)(sM,{}),"prompt-enhancer"===e&&(0,s.jsx)(sF,{})]})}},26518:(e,t,a)=>{"use strict";a.d(t,{bq:()=>h,eb:()=>g,gC:()=>p,l6:()=>d,yv:()=>u});var s=a(95155),n=a(12115),i=a(40287),r=a(46998),o=a(71323),l=a(66336),c=a(91337);let d=i.bL;i.YJ;let u=i.WT,h=n.forwardRef(({className:e,children:t,...a},n)=>(0,s.jsxs)(i.l9,{ref:n,className:(0,c.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-foreground_alt bg-background text-primary px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-secondary focus:outline-none focus:ring-1 focus:ring-ring focus:border-primary disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 hover:bg-foreground_alt hover:border-primary transition-colors",e),...a,children:[t,(0,s.jsx)(i.In,{asChild:!0,children:(0,s.jsx)(r.A,{className:"h-4 w-4 opacity-50"})})]}));h.displayName=i.l9.displayName;let m=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(i.PP,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(o.A,{className:"h-4 w-4"})}));m.displayName=i.PP.displayName;let f=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(i.wn,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(r.A,{className:"h-4 w-4"})}));f.displayName=i.wn.displayName;let p=n.forwardRef(({className:e,children:t,position:a="popper",...n},r)=>(0,s.jsx)(i.ZL,{children:(0,s.jsxs)(i.UC,{ref:r,className:(0,c.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border border-foreground_alt bg-background text-primary shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...n,children:[(0,s.jsx)(m,{}),(0,s.jsx)(i.LM,{className:(0,c.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,s.jsx)(f,{})]})}));p.displayName=i.UC.displayName,n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(i.JU,{ref:a,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold text-primary",e),...t})).displayName=i.JU.displayName;let g=n.forwardRef(({className:e,children:t,...a},n)=>(0,s.jsxs)(i.q7,{ref:n,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm text-primary outline-none hover:bg-foreground_alt focus:bg-foreground data-[state=checked]:bg-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",e),...a,children:[(0,s.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.VF,{children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})}),(0,s.jsx)(i.p4,{children:t})]}));g.displayName=i.q7.displayName,n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(i.wv,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-foreground_alt",e),...t})).displayName=i.wv.displayName},71744:(e,t,a)=>{Promise.resolve().then(a.bind(a,3619))}},e=>{e.O(0,[2574,5897,5479,9204,6446,2150,6711,512,5760,3603,4206,5891,2202,7128,2362,4506,8520,8087,3862,7716,6330,5175,9100,9944,2823,8441,3794,7358],()=>e(e.s=71744)),_N_E=e.O()}]);